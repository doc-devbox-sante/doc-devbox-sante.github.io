<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>DevBox-Santé – Howtos</title>
    <link>https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/</link>
    <description>Recent content in Howtos on DevBox-Santé</description>
    <generator>Hugo -- gohugo.io</generator>
    
	  <atom:link href="https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/index.xml" rel="self" type="application/rss+xml" />
    
    
      
        
      
    
    
    <item>
      <title>6.x: Integrateurs checklist</title>
      <link>https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/integrateurchecklist/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/integrateurchecklist/</guid>
      <description>
        
        
        &lt;h1 id=&#34;démarches-administratives&#34;&gt;Démarches Administratives&lt;/h1&gt;
&lt;p&gt;Information officielle disponible ici : &lt;a href=&#34;https://cnda.ameli.fr/editeurs/referencer-un-logiciel/&#34;&gt;https://cnda.ameli.fr/editeurs/referencer-un-logiciel/&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Inscrire votre société auprès du CNDA : &lt;a href=&#34;https://sicnda.ameli.fr/#/login/subscribe&#34;&gt;https://sicnda.ameli.fr/#/login/subscribe&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Créer un logiciel dans la plateforme&lt;/li&gt;
&lt;li&gt;Récupérer/lire dans l&amp;rsquo;onglet documentation les conditions contractuelles pour l&amp;rsquo;INSi&lt;/li&gt;
&lt;li&gt;Récupérer/étudier la documentation à jour sur les packages de test&lt;/li&gt;
&lt;li&gt;Remplir un nouveau dossier d&amp;rsquo;homologation (support possible DEVCOOP)
&lt;img src=&#34;devbox-sante-insi-integre.png&#34; alt=&#34;Intégration insi&#34;&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Depuis un compte industriel sécurisé, récupérer le package documentaire à jour sur &lt;a href=&#34;https://industriels.sesam-vitale.fr/group/teleservice-insi&#34;&gt;https://industriels.sesam-vitale.fr/group/teleservice-insi&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Obtenir des cartes CPS et/ou certificats de test (médecin, CPE, autre) auprès de l&amp;rsquo;ANS&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;avec le formulaire F414 : &lt;a href=&#34;https://esante.gouv.fr/sites/default/files/media_entity/documents/F414.pdf&#34;&gt;https://esante.gouv.fr/sites/default/files/media_entity/documents/F414.pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Il est possible de faire la démarche en ligne : &lt;a href=&#34;https://www.demarches-simplifiees.fr/commencer/f414&#34;&gt;https://www.demarches-simplifiees.fr/commencer/f414&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Plus de renseignements : &lt;a href=&#34;https://industriels.esante.gouv.fr/sites/default/files/media/document/ANS_Commande_de_cartes_Vf.pdf&#34;&gt;https://industriels.esante.gouv.fr/sites/default/files/media/document/ANS_Commande_de_cartes_Vf.pdf&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Passage de l&amp;rsquo;homologation&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Vous effectuez les tests dans votre environnement le jeu de test et envoyer le résultat au CNDA. Plus d&amp;rsquo;info sur l&amp;rsquo;exécution du jeu de tests : &lt;a href=&#34;https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/testcnda/&#34;&gt;/6.x/connecteurs/insi/howtos/testcnda/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Après vérification du CNDA, prise de rendez-vous pour un rejeu en condition réelle.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id=&#34;documentation-à-prendre-en-compte&#34;&gt;Documentation à prendre en compte&lt;/h1&gt;
&lt;p&gt;Résumé des différents documents : &lt;a href=&#34;https://www.sesam-vitale.fr/documents/20182/75606/Documentation_INS.pdf&#34;&gt;https://www.sesam-vitale.fr/documents/20182/75606/Documentation_INS.pdf&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;insi-version-0400&#34;&gt;INSi version 04.00&lt;/h2&gt;
&lt;p&gt;Dans le &lt;strong&gt;Package INSi 04.00&amp;hellip;.&lt;/strong&gt; :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Fiche d&amp;rsquo;information du contenu du package : &lt;code&gt;PDT-INF-736_Package INSi 04.00.00.pdf&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Guide d&amp;rsquo;intégration de SesamVitale &lt;code&gt;SEL-MP-043_04-00-00_INSi sans MR.pdf&lt;/code&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Documentation de l&amp;rsquo;ANS :&lt;/p&gt;
&lt;p&gt;L&amp;rsquo;ANS fournit un référentiel à tenir compte également dans vos lectures d&amp;rsquo;intégration car elle définit un certain nombre d&amp;rsquo;exigences à respecter&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Référentiel INS : &lt;a href=&#34;https://esante.gouv.fr/sites/default/files/media_entity/documents/ANS_R%C3%A9f%C3%A9rentiel_Identifiant_National_de_Sant%C3%A9_V2.0.pdf&#34;&gt;https://esante.gouv.fr/sites/default/files/media_entity/documents/ANS_R%C3%A9f%C3%A9rentiel_Identifiant_National_de_Sant%C3%A9_V2.0.pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Guide d&amp;rsquo;implémentation : &lt;a href=&#34;https://esante.gouv.fr/sites/default/files/media_entity/documents/INS_Guide%20implementation_V2_0.pdf&#34;&gt;https://esante.gouv.fr/sites/default/files/media_entity/documents/INS_Guide%20implementation_V2_0.pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;RNIV : &lt;a href=&#34;https://esante.gouv.fr/securite/identite-nationale-de-sante&#34;&gt;https://esante.gouv.fr/securite/identite-nationale-de-sante&lt;/a&gt; (ensemble des liens de la page)&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>6.x: Conformité CNDA</title>
      <link>https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/testcnda/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/testcnda/</guid>
      <description>
        
        
        &lt;p&gt;Les tests sont décrits dans le document &lt;code&gt;SEL-GCONFORM_INSi_Vxx.xx.pdf&lt;/code&gt;.&lt;/p&gt;


&lt;div class=&#34;pageinfo pageinfo-primary&#34;&gt;
&lt;p&gt;&lt;strong&gt;Attention l&amp;rsquo;environnement de qualification pour les tests restitue bien les cas passants mais pas correctement les non passants.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Pour injecter les réponses souhaitées du document de vérification il faut configurer la DevBox-santé INSI avec  &lt;a href=&#34;https://doc.devbox-sante.fr/6.x/connecteurs/insi/configuration#jeu-de-test-cnda&#34;&gt;le profil de test cnda&lt;/a&gt;&lt;/p&gt;

&lt;/div&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Précisions sur l’environnement de tests éditeurs :&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Des erreurs « insi_101 » et « insi_102 » en sortie des opérations de recherche vont être restituées lors du déroulement des tests en environnement éditeurs.
L&amp;rsquo;environnement de tests éditeurs ne gère qu&amp;rsquo;une base de tests RFI (régime général et régimes hébergés) mais pas de base SNGI (autres régimes : pour plus de détail voir le Guide d&amp;rsquo;intégration).
Le service effectue une première recherche vers le RFI :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;si le patient est trouvé, l&amp;rsquo;INS et les informations associées sont restitués : les cas passants que vous observez&lt;/li&gt;
&lt;li&gt;si le patient n&amp;rsquo;est pas trouvé, le service effectue une recherche au SNGI avec les données de la requête. Comme en environnement de tests éditeurs il n&amp;rsquo;y a pas de branche SNGI, la recherche est en échec et l&amp;rsquo;erreur « insi_101 » ou « insi_102 » (selon l’opération) est restituée (il s&amp;rsquo;agit d&amp;rsquo;une erreur technique : branche SNGI indisponible), un code CR01 ne peut être restitué.
Dans la configuration actuelle de l&amp;rsquo;environnement de tests, il n&amp;rsquo;est pas possible d&amp;rsquo;obtenir un CR01, c&amp;rsquo;est pour cela (et pour tester les cinématiques attendues dans le Guide d&amp;rsquo;intégration) que dans le package de tests sont fournis des fichiers xml à injecter dans le LPS, pour simuler les réponses du service que l&amp;rsquo;on ne peut obtenir dans notre environnement. En environnement de production, lorsqu’un INS ne sera pas trouvé c’est bien un CR01 qui sera restitué.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;déclaration-à-apporter-lors-de-vos-tests&#34;&gt;Déclaration à apporter lors de vos Tests&lt;/h2&gt;
&lt;p&gt;Dans certains cas de tests de conformités, certaines déclarations peuvent être nécessaires. Elles sont reprises &lt;a href=&#34;https://bitbucket.org/devbox-sante/homologation/issues?q=insi+test&#34;&gt;ici&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;jeu-de-tests-cnda&#34;&gt;Jeu de tests CNDA&lt;/h2&gt;
&lt;p&gt;Afin de pouvoir exécuter les tests d&amp;rsquo;injection demandées par le CNDA, il faut lancer le proxy avec le profil spring &lt;code&gt;CNDA_WEB&lt;/code&gt; activé :
&lt;img src=&#34;CNDA_injection_swagger.png&#34; alt=&#34;CNDA_injection_swagger.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Rem : Ce profil est activé par défaut sur les &amp;ldquo;Installers&amp;rdquo; de dev et les images Docker.&lt;/p&gt;
&lt;p&gt;Vous pouvez également injecter la resource de votre choix à partir du moment où elle correspond au format de la réponse SOAP souhaitée : 
&lt;img src=&#34;CNDA_injection_swagger_file.png&#34; alt=&#34;CNDA_injection_swagger_file.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Exemple de fichier soap.xml demandé : &lt;a href=&#34;Reponse_numcasINSI_11_DateNaissance00_Annee.xml&#34;&gt;Reponse_numcasINSI_11_DateNaissance00_Annee.xml&lt;/a&gt; &lt;/p&gt;
&lt;h2 id=&#34;exemples-json&#34;&gt;Exemples json&lt;/h2&gt;
&lt;p&gt;Voici quelques exemples json repris des tests :&lt;/p&gt;
&lt;h3 id=&#34;ws_ins1&#34;&gt;WS_INS1&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Cas du POST par lecture des données vitales en amont :
&lt;ul&gt;
&lt;li&gt;Carte vitale INSi 01 DE VINCI Ruth : &lt;a href=&#34;./test1_01.json&#34;&gt;test1_01.json&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ws_ins2&#34;&gt;WS_INS2&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;./test2_03_cas1.json&#34;&gt;test2_03_cas1.json&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Test2_02 : Répoonse de DEVCOOP au CNDA pour ce test&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Le connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l&amp;rsquo;assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence.
Si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l&amp;rsquo;assertion.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Dans le cas où plusieurs structures d&amp;rsquo;activité sont trouvées, il est demandé à l’intégrateur de fournir son identifiant National et une vérification de son existence sur la carte CPS est réalisée.
L&amp;rsquo;attribut identifiantFacturation est demandé pour chaque requête de l’intégrateur&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Test2_07&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Cas 1 : Uniquement après le premier appel, injection du fichier (simulant une réponse du service) : &lt;strong&gt;REP_CR01.xml&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ce cas n&amp;rsquo;est pas réalisable avec l&amp;rsquo;&lt;a href=&#34;https://doc.devbox-sante.fr/6.x/connecteurs/insi/configuration#jeu-de-test-cnda&#34;&gt;injecteur CNDA&lt;/a&gt; développé. En effet, l&amp;rsquo;injecteur injecte pour l&amp;rsquo;ensemble des requêtes effectuées la réponse injectée. C&amp;rsquo;est cette dernière qui est retournée par le service à l&amp;rsquo;intégrateur. Jusqu&amp;rsquo;à présent, il suffit de reprendre les 2 premières trames envoyées et reçues par la DevBox-Santé pour preuve.&lt;/p&gt;
&lt;h3 id=&#34;ws_ins3&#34;&gt;WS_INS3&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;./test3_01.json&#34;&gt;test3_01.json&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Test3_02 : Réponse de DEVCOOP au CNDA pour ce test&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Le connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l&amp;rsquo;assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence,
si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l&amp;rsquo;assertion.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Dans le cas où plusieurs structures d&amp;rsquo;activité sont trouvées, il est demandé à l’intégrateur de fournir son identifiant National et une vérification de son existence sur la carte CPS est réalisée.
L&amp;rsquo;attribut identifiantFacturation est demandé pour chaque requête de l’intégrateur&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;ws_ins4&#34;&gt;WS_INS4 &lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;./insi_a_verifier_lot1_1.0.1.json&#34;&gt;insi_a_verifier_lot1_1.0.1.json&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;./insi_a_verifier_lot2_1.0.1.json&#34;&gt;insi_a_verifier_lot2_1.0.1.json&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;./insi_a_verifier_lot3_1.0.1.json&#34;&gt;insi_a_verifier_lot3_1.0.1.json&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

      </description>
    </item>
    
    <item>
      <title>6.x: Interpreter les logs</title>
      <link>https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/logs/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/logs/</guid>
      <description>
        
        
        &lt;h3 id=&#34;obtenir-les-logs&#34;&gt;Obtenir les logs&lt;/h3&gt;
&lt;p&gt;Les logs sont générés dans un fichier &lt;code&gt;output.log&lt;/code&gt; dans le cas d&amp;rsquo;un installer ou directement dans la console pour une instance docker.
Il est donc possible de récupérer les traces SOAP depuis ce fichier de traces, si le niveau de log est assez bas. Consultez la documentation pour le DMP  pour plus de renseignements:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://doc.devbox-sante.fr/6.x/connecteurs/dmp/howtos/logs&#34;&gt;/6.x/connecteurs/dmp/howtos/logs&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;admin-controller-since-280-et-303&#34;&gt;Admin Controller (@since 2.8.0 et 3.0.3)&lt;/h3&gt;
&lt;p&gt;Depuis la version 2.8.0 et 3.0.3, il est possible de récupérer les traces directement depuis un endpoint spécialisé :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tout d&amp;rsquo;abord, en récupérant l&amp;rsquo;exchangeId de la conversation soap dans le retour de la réponse :&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;bruno_exchangeId.png&#34; alt=&#34;ExchangeId dans la réponse&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Puis en allant dans le controller admin afin de télécharger le fichier de la conversation :&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;download_exchange_insi.png&#34; alt=&#34;Exemple téléchargement swager&#34;&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>6.x: Datamatrix</title>
      <link>https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/datamatrix/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/datamatrix/</guid>
      <description>
        
        
        &lt;p&gt;Il est dorénavant possible (depuis la version 2.6) de &lt;a href=&#34;https://esante.gouv.fr/sites/default/files/media_entity/documents/ans---datamatrix-ins-v2.pdf&#34;&gt;générer un datamatrix conforme à la spécification de l&amp;rsquo;ANS&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;interface&#34;&gt;Interface&lt;/h2&gt;
&lt;p&gt;Une interface Java a été mis à disposition :&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;package&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;fr.devboxsante.insi.datamatrix&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;fr.devboxsante.insi.model.INS&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;java.io.InputStream&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;import&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;java.io.OutputStream&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt; * Génère un Datamatrix conforme à la spécification &amp;#34;INS - Format Datamatrix&amp;#34; de
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt; * l&amp;#39;ANS
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt; *
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt; */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;interface&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;InsDatamatrixGenerator&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;     * Génére une image du datamatrix correspondant à l&amp;#39;INS passé en paramètre au
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;     * format défini dans info.format (jpeg par défaut) et à la taille défini dans info.sizeInPx
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;     * @param ins
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;     * @param info
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;     * @return l&amp;#39;image
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;byte&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[]&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;generateDatamatrix&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;INS&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ins&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;InsDatamatrixInfo&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;info&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;/**
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;     * Insert le cartouche correspondant à l&amp;#39;INS passé en paramètre comme demandé
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;     * dans la spècification
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;     * @param ins l&amp;#39;Identité National de Santé
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;     * @param info les infos d&amp;#39;insertion dans le PDF
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;     * @param input le pdf en entrée
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;     * @param output le pdf en sortie.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#8f5902;font-style:italic&#34;&gt;     */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;public&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;insertInsCartoucheInPdf&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;INS&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ins&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;InsCartoucheInfo&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;info&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;InputStream&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;input&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;OutputStream&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;output&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Son pendant en REST :&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;datamatrix_swagger.png&#34; alt=&#34;datamatrix_swagger&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;générer-le-datamatrix&#34;&gt;Générer le datamatrix&lt;/h2&gt;
&lt;p&gt;Pour celà, il suffit depuis un environnement java :&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;InsDatamatrixGenerator&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;insDatamatrixGenerator&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;InsDatamatrixGeneratorImpl&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;INS&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ins&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;...&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;byte&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;[]&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;datamatrix&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;insDatamatrixGenerator&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;generateDatamatrix&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;ins&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;InsDatamatrixInfo&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;builder&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;().&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;format&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;jpg&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;).&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;sizeInPx&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;200&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;).&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;build&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;());&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;BufferedOutputStream&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;out&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;BufferedOutputStream&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;FileOutputStream&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;datamatrix200.jpg&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;write&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;datamatrix&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;out&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;close&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Son pendant via l&amp;rsquo;API REST :&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-curl&#34; data-lang=&#34;curl&#34;&gt;curl -X POST &amp;#34;http://127.0.0.1:8484/insi/v2/datamatrix/jpg?sizeInPx=200&amp;#34; -H &amp;#34;accept: */*&amp;#34; -H &amp;#34;Content-Type: application/json&amp;#34; -d &amp;#34;{ \&amp;#34;matriculeINS\&amp;#34;: { \&amp;#34;valeur\&amp;#34;: \&amp;#34;1010663220754\&amp;#34;, \&amp;#34;cle\&amp;#34;: \&amp;#34;60\&amp;#34;, \&amp;#34;identifiantSysteme\&amp;#34;: \&amp;#34;INS_NIR\&amp;#34; }, \&amp;#34;traitsIdentite\&amp;#34;: { \&amp;#34;nomFamille\&amp;#34;: \&amp;#34;D&amp;#39;ARTAGNAN DE L&amp;#39;HERAULT\&amp;#34;, \&amp;#34;prenomUtilise\&amp;#34;: null, \&amp;#34;prenomActeNaissance\&amp;#34;: \&amp;#34;PIERRE-ALAIN GUNTHER\&amp;#34;, \&amp;#34;sexeAdministratif\&amp;#34;: \&amp;#34;M\&amp;#34;, \&amp;#34;dateNaissance\&amp;#34;: \&amp;#34;2001-06-17\&amp;#34;, \&amp;#34;lieuNaissance\&amp;#34;: \&amp;#34;63220\&amp;#34; } }&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Vous permet d&amp;rsquo;obtenir le datamatrix INS :      &lt;img src=&#34;datamatrix.png&#34; alt=&#34;datamatrix&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;insérer-le-cartouche-ins-dans-le-pdf&#34;&gt;Insérer le cartouche INS dans le PDF&lt;/h2&gt;
&lt;p&gt;En plus de générer le datamatrix, il est possible d&amp;rsquo;insérer le cartouche spécifié par l&amp;rsquo;ANS dans le fichier PDF.&lt;/p&gt;
&lt;p&gt;Ainsi le code suivant :&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;final&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;INS&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;ins&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;...;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#000&#34;&gt;insDatamatrixGenerator&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;insertInsCartoucheInPdf&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;ins&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#000&#34;&gt;InsCartoucheInfo&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;builder&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;pageNumber&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;startX&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;20&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;startY&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;85&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;height&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;80&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;width&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;160&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;unite&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#000&#34;&gt;InsCartoucheInfo&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;Unite&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;MM&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                &lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color:#c4a000&#34;&gt;build&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;FileInputStream&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;input.pdf&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;),&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        &lt;span style=&#34;color:#204a87;font-weight:bold&#34;&gt;new&lt;/span&gt; &lt;span style=&#34;color:#000&#34;&gt;FileOutputStream&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#4e9a06&#34;&gt;&amp;#34;output.pdf&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#ce5c00;font-weight:bold&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Son pendant en curl :&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-curl&#34; data-lang=&#34;curl&#34;&gt;curl -X POST &amp;#34;http://127.0.0.1:8484/insi/v2/datamatrix/pdf/insertCartouche&amp;#34; -H &amp;#34;accept: */*&amp;#34; -H &amp;#34;Content-Type: multipart/form-data&amp;#34; -F &amp;#34;cartoucheContexte={ &amp;#34;info&amp;#34;: { &amp;#34;height&amp;#34;: 60, &amp;#34;pageNumber&amp;#34;: 0, &amp;#34;startX&amp;#34;: 20, &amp;#34;startY&amp;#34;: 70, &amp;#34;unite&amp;#34;: &amp;#34;MM&amp;#34;, &amp;#34;width&amp;#34;: 170 }, &amp;#34;ins&amp;#34;: { &amp;#34;matriculeINS&amp;#34;: { &amp;#34;valeur&amp;#34;: &amp;#34;2770763220829&amp;#34;, &amp;#34;cle&amp;#34;: &amp;#34;10&amp;#34;, &amp;#34;identifiantSysteme&amp;#34;: &amp;#34;1.2.250.1.213.1.4.8&amp;#34; }, &amp;#34;traitsIdentite&amp;#34;: { &amp;#34;nomFamille&amp;#34;: &amp;#34;NESSI&amp;#34;, &amp;#34;prenomUtilise&amp;#34;: &amp;#34;RUTH&amp;#34;, &amp;#34;prenomActeNaissance&amp;#34;: &amp;#34;RUTH ISABELLE&amp;#34;, &amp;#34;sexeAdministratif&amp;#34;: &amp;#34;F&amp;#34;, &amp;#34;dateNaissance&amp;#34;: &amp;#34;1977-07-14&amp;#34;, &amp;#34;lieuNaissance&amp;#34;: &amp;#34;63220&amp;#34; } } }&amp;#34; -F &amp;#34;file=@1.pdf;type=application/pdf&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;vous permet d&amp;rsquo;obtenir un nouveau fichier comportant le cartouche INS où vous vouliez l&amp;rsquo;insérer :&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;cartoucheINS.png&#34; alt=&#34;cartouche INS&#34;&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>6.x: Gestion des certificats</title>
      <link>https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/gestioncertificatinsi/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/gestioncertificatinsi/</guid>
      <description>
        
        
        &lt;h3 id=&#34;pour-les-certificats-de-test-&#34;&gt;Pour les certificats de test :&lt;/h3&gt;
&lt;p&gt;Pour l&amp;rsquo;industriel la liste des formulaires de gestion des certificats sont ici : &lt;a href=&#34;https://esante.gouv.fr/index-des-formulaires#23241&#34;&gt;https://esante.gouv.fr/index-des-formulaires#23241&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Le formulaire de commande de cartes et certificats de test est le F414 : &lt;a href=&#34;https://esante.gouv.fr/sites/default/files/media_entity/documents/F414.pdf&#34;&gt;https://esante.gouv.fr/sites/default/files/media_entity/documents/F414.pdf&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Il est possible de faire la démarche en ligne : &lt;a href=&#34;https://www.demarches-simplifiees.fr/commencer/f414&#34;&gt;https://www.demarches-simplifiees.fr/commencer/f414&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;pour-les-certificats-de-production-&#34;&gt;Pour les certificats de production :&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;ANS_certificats_segur.png&#34; alt=&#34;ANS_certificats_segur.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Depuis le SEGUR santé, les guides de commandes de certificats sont spécifiques à chaque couloir :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://esante.gouv.fr/sites/default/files/media_entity/documents/segur-numerique-medico-social-guide-certificats.pdf&#34;&gt;Médico-social&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://esante.gouv.fr/sites/default/files/media_entity/documents/segur-numerique-mdv-guide-certificats.pdf&#34;&gt;Médecine de ville&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://esante.gouv.fr/sites/default/files/media_entity/documents/segur-numerique-hopital-guide-certificats.pdf&#34;&gt;Hôpital&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://esante.gouv.fr/sites/default/files/media_entity/documents/segur-numerique-biologie-guide-certificats.pdf&#34;&gt;Biologie&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://esante.gouv.fr/sites/default/files/media_entity/documents/segur-numerique-radiologie-guide-certificats.pdf&#34;&gt;Radiologie&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://esante.gouv.fr/sites/default/files/media_entity/documents/segur-numerique-officine-guide-certificats.pdf&#34;&gt;Officine&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Vous pouvez également consulter la procédure générique de l&amp;rsquo;ANS : &lt;a href=&#34;https://esante.gouv.fr/guides/guides-IGC-sante/je-souhaite-demander-un-certificat&#34;&gt;https://esante.gouv.fr/guides/guides-IGC-sante/je-souhaite-demander-un-certificat&lt;/a&gt;&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>6.x: CNDA : Fiche d&#39;identité du composant INSi</title>
      <link>https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/identifiantcomposant/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/identifiantcomposant/</guid>
      <description>
        
        
        &lt;p&gt;NIE DEVCOOP : DEV331918&lt;/p&gt;
&lt;h2 id=&#34;homologation-du-25082021&#34;&gt;Homologation du 25/08/2021&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Nom du logiciel : &lt;strong&gt;DEVBOX_SANTE_INSI&lt;/strong&gt;_&lt;/li&gt;
&lt;li&gt;Version : &lt;strong&gt;2.0&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;NIL : &lt;strong&gt;DEV428043&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;Homologation package GIE SV : &lt;strong&gt;04.00&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;versions-des-composants-intégrés&#34;&gt;Versions des composants intégrés&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Crypto librairie CPS : Version 5.1.7&lt;/li&gt;
&lt;li&gt;API lecture vitale : Version 6.32&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;description&#34;&gt;Description&lt;/h4&gt;
&lt;p&gt;La DevBox-Santé INSI est un connecteur homologué par le CNDA qui s’interface avec le téléservice INSi.
Elle prend en charge la complexité de l’intégration et facilite ainsi aux éditeurs de logiciel de santé l’intéropérabilité avec l’INSi en vous fournissant une API simple à utiliser.&lt;/p&gt;

      </description>
    </item>
    
    <item>
      <title>6.x: Foire aux questions INSi</title>
      <link>https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/faq/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/faq/</guid>
      <description>
        
        
        &lt;h3 id=&#34;desir_620-le-certificat-de-la-carte-ps-est-erroné-&#34;&gt;&amp;ldquo;(desir_620, Le certificat de la carte PS est erroné. )&amp;rdquo;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Vérifier que vous êtes sur le bon environnement (deux environnements distincts entre les cps et p12 ainsi que pour les environnements de qualification et de production)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;des-erreurs-insi_101-et-insi_102-apparaissent-sur-les-environnement-de-qualification&#34;&gt;Des erreurs insi_101 et insi_102 apparaissent sur les environnement de qualification&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Les environnements de qualification ne gèrent pas correctement les recherches sans résultat. Plus d’information : &lt;a href=&#34;https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/testcnda&#34;&gt;/6.x/connecteurs/insi/howtos/testCNDA&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;àquoi-correspond-lidentifiant-de-facturation-obligatoire-dans-le-contexte-des-requêtes-&#34;&gt;À quoi correspond l’identifiant de facturation, obligatoire dans le contexte des requêtes ?&lt;/h3&gt;
&lt;p&gt;Il s’agit du numero FINESS géographique de la structure ou son SIRET, information que l’on ne peut déduire de la carte CPS&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://doc.devbox-sante.fr/6.x/connecteurs/insi/howtos/insi_id_facturation_pour_assertion.png&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;L&amp;rsquo;identifiant de facturation est donc pour les établissements le numéro FINESS géographique si connu sinon numéro SIRET. Pour les autres cet identifiant est le numéro AM (Assurance Maladie) de facturation. Ainsi un médecin employé dans un hôpital se référencera le numéro de son établissement.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;quels-sont-les-différents-statuts-didentité-&#34;&gt;Quels sont les différents statuts d’identité ?&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;differentsStatutsINS.png&#34; alt=&#34;differentsStatutsINS.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;strong&gt;Source : &lt;code&gt;INS_Guide implementation_V2_0.pdf&lt;/code&gt;&lt;/strong&gt;&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&#34;différencier-un-ins_nir-dun-ins_nia&#34;&gt;Différencier un INS_NIR d&amp;rsquo;un INS_NIA&lt;/h3&gt;
&lt;p&gt;Pour distinguer un INS NIA des autres, il suffit de s&amp;rsquo;intéresser à l&amp;rsquo;identifiant système du MatriculeINS  remonté par le Téléservice INS :&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;INS_Autorites.png&#34; alt=&#34;INS_Autorites.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Cet identifiantSysteme peut prendre toutes ces valeurs :https://bitbucket.org/devbox-sante/devbox-sante-apis/src/master/insi-api/src/main/java/fr/devboxsante/insi/model/INSAutorite.java&lt;/p&gt;
&lt;p&gt;Pour des explications fonctionnelles de l&amp;rsquo;ANS :&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://esante.gouv.fr/sites/default/files/media_entity/documents/asip_referentiel_identifiant_national_sante-liste-des-oid-des-autorites-d-affectation-des-ins_v0.1.pdf&#34;&gt;https://esante.gouv.fr/sites/default/files/media_entity/documents/asip_referentiel_identifiant_national_sante-liste-des-oid-des-autorites-d-affectation-des-ins_v0.1.pdf&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;ou encore &lt;a href=&#34;https://mos.esante.gouv.fr/8.html#_e59c299a-907b-448a-873b-4ac4e23ef24c&#34;&gt;https://mos.esante.gouv.fr/8.html#_e59c299a-907b-448a-873b-4ac4e23ef24c&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;qualification-optimisée-de-lins-en-médecine-de-ville&#34;&gt;Qualification optimisée de l&amp;rsquo;INS en médecine de ville&lt;/h2&gt;
&lt;p&gt;&amp;ndash;&lt;img src=&#34;qualification_optimise_ins.png&#34; alt=&#34;Qualification optimisée de l&amp;amp;rsquo;INS&#34;&gt;&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
