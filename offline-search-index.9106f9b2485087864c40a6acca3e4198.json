[{"body":" DevBox-Sante CPS : 3.2.5 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.25 DevBox-Sante INSi : 2.8.0 DevBox-Sante MSS : 2.1.9 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.6.0 Stellair client : 1.3.2 CI-TLSI-AMO : 2.5.0 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.2.2 MacOS : 5.2.1 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.23.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.23/","tags":"","title":"Version 5.23"},{"body":" DevBox-Sante CPS : 3.2.5 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.24 DevBox-Sante INSi : 2.8.0 DevBox-Sante MSS : 2.1.9 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.6.0 Stellair client : 1.3.2 CI-TLSI-AMO : 2.5.0 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.2.2 MacOS : 5.2.1 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.22.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.22/","tags":"","title":"Version 5.22"},{"body":" DevBox-Sante CPS : 3.2.4 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.24 DevBox-Sante INSi : 2.8.0 DevBox-Sante MSS : 2.1.9 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.6.0 Stellair client : 1.3.2 CI-TLSI-AMO : 2.5.0 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.2.2 MacOS : 5.2.1 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.21.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.21/","tags":"","title":"Version 5.21"},{"body":" DevBox-Sante CPS : 3.2.3 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.24 DevBox-Sante INSi : 2.8.0 DevBox-Sante MSS : 2.1.9 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.6.0 Stellair client : 1.3.2 CI-TLSI-AMO : 2.5.0 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.2.2 MacOS : 5.2.1 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.20.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.20.5/","tags":"","title":"Version 5.20.5"},{"body":" DevBox-Sante CPS : 3.2.3 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.24 DevBox-Sante INSi : 2.8.0 DevBox-Sante MSS : 2.1.9 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.6.0 Stellair client : 1.3.2 CI-TLSI-AMO : 2.5.0 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.20 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.20.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.20/","tags":"","title":"Version 5.20"},{"body":" DevBox-Sante CPS : 3.2.2 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.24 DevBox-Sante INSi : 2.8.0 DevBox-Sante MSS : 2.1.9 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.6.0 Stellair client : 1.3.2 CI-TLSI-AMO : 2.5.0 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.20 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.19.1/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.19/","tags":"","title":"Version 5.19"},{"body":" DevBox-Sante CPS : 3.2.2 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.24 DevBox-Sante INSi : 2.8.0 DevBox-Sante MSS : 2.1.8 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.5.1 Stellair client : 1.3.2 CI-TLSI-AMO : 2.5.0 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.20 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.18.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.18/","tags":"","title":"Version 5.18"},{"body":" DevBox-Sante CPS : 3.2.2 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.24 DevBox-Sante INSi : 2.8.0 DevBox-Sante MSS : 2.1.7 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.5.1 Stellair client : 1.3.2 CI-TLSI-AMO : 2.5.0 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.20 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.17.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.17/","tags":"","title":"Version 5.17"},{"body":" DevBox-Sante CPS : 3.2.2 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.23 DevBox-Sante INSi : 2.8.0 DevBox-Sante MSS : 2.1.7 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.5.1 Stellair client : 1.3.2 CI-TLSI-AMO : 2.5.0 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.20 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.16.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.16/","tags":"","title":"Version 5.16"},{"body":" DevBox-Sante CPS : 3.2.2 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.22 DevBox-Sante INSi : 2.8.0 DevBox-Sante MSS : 2.1.7 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.5.1 Stellair client : 1.3.2 CI-TLSI-AMO : 2.5.0 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.20 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.15.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.15/","tags":"","title":"Version 5.15.1"},{"body":" DevBox-Sante CPS : 3.2.2 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.22 DevBox-Sante INSi : 2.7.8 DevBox-Sante MSS : 2.1.7 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.5.1 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.14.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.14/","tags":"","title":"Version 5.14"},{"body":" DevBox-Sante CPS : 3.2.2 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.21 DevBox-Sante INSi : 2.7.8 DevBox-Sante MSS : 2.1.6 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.5.1 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.13.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.13/","tags":"","title":"Version 5.13"},{"body":" DevBox-Sante CPS : 3.2.2 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.21 DevBox-Sante INSi : 2.7.8 DevBox-Sante MSS : 2.1.5 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.5.1 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.12.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.12/","tags":"","title":"Version 5.12"},{"body":" DevBox-Sante CPS : 3.2.2 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.20 DevBox-Sante INSi : 2.7.8 DevBox-Sante MSS : 2.1.5 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.5.1 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.11.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.11/","tags":"","title":"Version 5.11"},{"body":" DevBox-Sante CPS : 3.2.1 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.19 DevBox-Sante INSi : 2.7.8 DevBox-Sante MSS : 2.1.5 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.5.1 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.10.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.10/","tags":"","title":"Version 5.10"},{"body":" DevBox-Sante CPS : 3.2.1 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.18 DevBox-Sante INSi : 2.7.8 DevBox-Sante MSS : 2.1.5 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.5.1 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.9.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.9/","tags":"","title":"Version 5.9"},{"body":" DevBox-Sante CPS : 3.2.1 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.18 DevBox-Sante INSi : 2.7.8 DevBox-Sante MSS : 2.1.4 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.5.1 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.8.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.8/","tags":"","title":"Version 5.8"},{"body":" DevBox-Sante CPS : 3.2.1 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.18 DevBox-Sante INSi : 2.7.7 DevBox-Sante MSS : 2.1.3 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.5.1 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.7.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.7/","tags":"","title":"Version 5.7"},{"body":" DevBox-Sante CPS : 3.2.1 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.17 DevBox-Sante INSi : 2.7.7 DevBox-Sante MSS : 2.1.3 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.5.1 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.6.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.6/","tags":"","title":"Version 5.6"},{"body":" DevBox-Sante CPS : 3.2.1 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.16 DevBox-Sante INSi : 2.7.7 DevBox-Sante MSS : 2.1.1 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.5.0 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.5.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.5/","tags":"","title":"Version 5.5"},{"body":" DevBox-Sante CPS : 3.2.1 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.15 DevBox-Sante INSi : 2.7.7 DevBox-Sante MSS : 2.1.1 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.5.0 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.4.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.4/","tags":"","title":"Version 5.4"},{"body":" DevBox-Sante CPS : 3.2.1 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.14 - DevBox-Sante INSi : 2.7.7 DevBox-Sante MSS : 2.1.0 DevBox-Sante ApCV Mobilite : 1.0.1 dmp-ui : 2.0-alpha Igc-sante-tools : 1.5.0 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.3.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.3/","tags":"","title":"Version 5.3"},{"body":" DevBox-Sante CPS : 3.2.1 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.13 DevBox-Sante INSi : 2.7.7 DevBox-Sante MSS : 2.0.0 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.4.5 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.5 Eureka : 1.2 JRE : ^11_0_22 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.2.1/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.2/","tags":"","title":"Version 5.2"},{"body":" DevBox-Sante CPS : 3.1.15 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.12 DevBox-Sante INSi : 2.7.7 DevBox-Sante MSS : 2.0.0 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.4.5 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.1.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.1/","tags":"","title":"Version 5.1"},{"body":" DevBox-Sante CPS : 3.1.15 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.11 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 2.0.0 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.4.4 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/5.0.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/5.0/","tags":"","title":"Version 5.0"},{"body":" DevBox-Sante CPS : 3.1.15 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.11 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.4.4 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/4.12.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/4.x/4.12/","tags":"","title":"Version 4.12"},{"body":" DevBox-Sante CPS : 3.1.15 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.10 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.4.4 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/4.11.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/4.x/4.11/","tags":"","title":"Version 4.11"},{"body":" DevBox-Sante CPS : 3.1.15 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.9 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.4.4 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/4.10.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/4.x/4.10/","tags":"","title":"Version 4.10"},{"body":" DevBox-Sante CPS : 3.1.15 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.8 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.4.4 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/4.9.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/4.x/4.9/","tags":"","title":"Version 4.9"},{"body":" DevBox-Sante CPS : 3.1.15 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.7 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.4.4 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/4.8.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/4.x/4.8/","tags":"","title":"Version 4.8"},{"body":" DevBox-Sante CPS : 3.1.15 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.6 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.4.4 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/4.7.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/4.x/4.7/","tags":"","title":"Version 4.7"},{"body":" DevBox-Sante CPS : 3.1.15 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.5 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.4.1 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.3.3 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/4.6.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/4.x/4.6/","tags":"","title":"Version 4.6"},{"body":" DevBox-Sante CPS : 3.1.15 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.4 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.4.1 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.2.5 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/4.5.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/4.x/4.5/","tags":"","title":"Version 4.5"},{"body":" DevBox-Sante CPS : 3.1.15 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.4 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.3.0 Stellair client : 1.3.2 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.2.5 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/4.4.6/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/4.x/4.4/","tags":"","title":"Version 4.4"},{"body":" DevBox-Sante CPS : 3.1.15 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.3 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.3.0 Stellair client : 1.1.1 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.2.5 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/4.3.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/4.x/4.3/","tags":"","title":"Version 4.3"},{"body":" DevBox-Sante CPS : 3.1.15 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.2 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.3.0 Stellair client : 1.1.1 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.2.5 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/4.3.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/4.x/4.2/","tags":"","title":"Version 4.2"},{"body":" DevBox-Sante CPS : 3.1.14 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.1 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.3.0 Stellair client : 1.1.1 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.2.5 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/4.1.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/4.x/4.1/","tags":"","title":"Version 4.1"},{"body":" DevBox-Sante CPS : 3.1.12 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.1.0 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.3.0 Stellair client : 1.1.1 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.2.5 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/4.0.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/4.x/4.0/","tags":"","title":"Version 4.0"},{"body":" DevBox-Sante CPS : 3.1.12 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.21 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.3.0 Stellair client : 1.2.0 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.25.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.25/","tags":"","title":"Version 3.25"},{"body":" DevBox-Sante CPS : 3.1.12 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.20 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.3.0 Stellair client : 1.2.0 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.24.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.24/","tags":"","title":"Version 3.24"},{"body":" DevBox-Sante CPS : 3.1.12 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.19 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.3.0 Stellair client : 1.2.0 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.23.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.23/","tags":"","title":"Version 3.23"},{"body":" DevBox-Sante CPS : 3.1.12 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.18 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.3.0 Stellair client : 1.1.1 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.22.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.22/","tags":"","title":"Version 3.22"},{"body":" DevBox-Sante CPS : 3.1.12 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.17 DevBox-Sante INSi : 2.7.6 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.1 Igc-sante-tools : 1.3.0 Stellair client : 1.1.1 CI-TLSI-AMO : 2.4.7 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.21.1/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.21/","tags":"","title":"Version 3.21"},{"body":" DevBox-Sante CPS : 3.1.12 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.17 DevBox-Sante INSi : 2.7.5 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.0 Igc-sante-tools : 1.2.0 Stellair client : 1.1.1 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.20.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.20/","tags":"","title":"Version 3.20"},{"body":" DevBox-Sante CPS : 3.1.11 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.17 DevBox-Sante INSi : 2.7.5 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.0 Igc-sante-tools : 1.2.0 Stellair client : 1.1.1 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.19.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.19/","tags":"","title":"Version 3.19"},{"body":" DevBox-Sante CPS : 3.1.11 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.16 DevBox-Sante INSi : 2.7.5 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.0 Igc-sante-tools : 1.2.0 Stellair client : 1.1.1 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.18.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.18/","tags":"","title":"Version 3.18"},{"body":" DevBox-Sante CPS : 3.1.11 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.15 DevBox-Sante INSi : 2.7.5 DevBox-Sante MSS : 1.2.5 DevBox-Sante ApCV Mobilite : 1.0.0 Igc-sante-tools : 1.2.0 Stellair client : 1.1.1 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.17.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.17/","tags":"","title":"Version 3.17"},{"body":" DevBox-Sante CPS : 3.1.11 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.14 DevBox-Sante INSi : 2.7.3 DevBox-Sante MSS : 1.2.4 DevBox-Sante ApCV Mobilite : 1.0.0 Igc-sante-tools : 1.2.0 Stellair client : 1.1.0 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.16.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.16/","tags":"","title":"Version 3.16"},{"body":" DevBox-Sante CPS : 3.1.11 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.13 DevBox-Sante INSi : 2.7.3 DevBox-Sante MSS : 1.2.4 DevBox-Sante ApCV Mobilite : 1.0.0 Igc-sante-tools : 1.2.0 Stellair client : 1.1.0 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.15.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.15/","tags":"","title":"Version 3.15"},{"body":" DevBox-Sante CPS : 3.1.11 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.12 DevBox-Sante INSi : 2.7.3 DevBox-Sante MSS : 1.2.3 DevBox-Sante ApCV Mobilite : 0.2 Igc-sante-tools : 1.2.0 Stellair client : 1.1.0 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.14.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.14/","tags":"","title":"Version 3.14"},{"body":" DevBox-Sante CPS : 3.1.11 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.11 DevBox-Sante INSi : 2.7.3 DevBox-Sante MSS : 1.2.3 DevBox-Sante ApCV Mobilite : 0.2 Igc-sante-tools : 1.2.0 Stellair client : 1.1.0 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.13.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.13/","tags":"","title":"Version 3.13"},{"body":" DevBox-Sante CPS : 3.1.11 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.10 DevBox-Sante INSi : 2.7.3 DevBox-Sante MSS : 1.2.3 DevBox-Sante ApCV Mobilite : 0.2 Igc-sante-tools : 1.2.0 Stellair client : 1.1.0 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.12.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.12/","tags":"","title":"Version 3.12"},{"body":" DevBox-Sante CPS : 3.1.11 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.9 DevBox-Sante INSi : 2.7.3 DevBox-Sante MSS : 1.2.3 DevBox-Sante ApCV Mobilite : 0.2 Igc-sante-tools : 1.2.0 Stellair client : 1.1.0 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Cryptolib CPS Windows : 5.1.9 MacOS : 5.1.19 API Vitale : Windows : 6.32 MacOS : 6.32 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.11.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.11/","tags":"","title":"Version 3.11"},{"body":" DevBox-Sante CPS : 3.1.11 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.9 DevBox-Sante INSi : 2.7.3 DevBox-Sante MSS : 1.2.3 Igc-sante-tools : 1.2.0 Stellair client : 1.1.0 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.10.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.10/","tags":"","title":"Version 3.10"},{"body":" DevBox-Sante CPS : 3.1.7 DevBox-Sante Vitale : 1.7.2 DevBox-Sante DMP : 4.7.18 DevBox-Sante INSi : 2.6.3 DevBox-Sante MSS : 1.2.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/2.x/2.21/","tags":"","title":"Version 2.21"},{"body":" DevBox-Sante CPS : 3.1.11 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.8 DevBox-Sante INSi : 2.7.3 DevBox-Sante MSS : 1.2.3 Igc-sante-tools : 1.2.0 Stellair client : 1.1.0 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.9.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.9/","tags":"","title":"Version 3.9"},{"body":" DevBox-Sante CPS : 3.1.11 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.7 DevBox-Sante INSi : 2.7.3 DevBox-Sante MSS : 1.2.3 Igc-sante-tools : 1.2.0 Stellair client : 1.1.0 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.8.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.8/","tags":"","title":"Version 3.8"},{"body":" DevBox-Sante CPS : 3.1.11 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.6 DevBox-Sante INSi : 2.7.3 DevBox-Sante MSS : 1.2.3 Igc-sante-tools : 1.2.0 Stellair client : 1.1.0 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.7.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.7/","tags":"","title":"Version 3.7"},{"body":" DevBox-Sante CPS : 3.1.11 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.5 DevBox-Sante INSi : 2.7.3 DevBox-Sante MSS : 1.2.3 Stellair client : 1.1.0 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.5.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.6/","tags":"","title":"Version 3.6"},{"body":" DevBox-Sante CPS : 3.1.11 DevBox-Sante Vitale : 1.8.3 DevBox-Sante DMP : 5.0.4 DevBox-Sante INSi : 2.7.3 DevBox-Sante MSS : 1.2.3 Licence Manager : 1.2.4 Eureka : 1.2 JRE : ^11_0_9 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.6.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.5/","tags":"","title":"Version 3.5"},{"body":" DevBox-Sante CPS : 3.1.10 DevBox-Sante Vitale : 1.8.2 DevBox-Sante DMP : 5.0.3 DevBox-Sante INSi : 2.7.2 DevBox-Sante MSS : 1.2.2 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.4.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.4/","tags":"","title":"Version 3.4"},{"body":" DevBox-Sante CPS : 3.1.10 DevBox-Sante Vitale : 1.8.2 DevBox-Sante DMP : 5.0.3 DevBox-Sante INSi : 2.7.0 DevBox-Sante MSS : 1.2.2 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.3.0/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.3/","tags":"","title":"Version 3.3"},{"body":" DevBox-Sante CPS : 3.1.10 DevBox-Sante Vitale : 1.8.2 DevBox-Sante DMP : 5.0.3 DevBox-Sante INSi : 2.6.5 DevBox-Sante MSS : 1.2.2 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 Plus de détails : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/3.2/pom.xml\n","categories":"","description":"Contenu de la version \n","excerpt":"Contenu de la version \n","ref":"/5.x/installer/versions/3.x/3.2/","tags":"","title":"Version 3.2"},{"body":"","categories":"","description":"","excerpt":"","ref":"/5.x/installer/versions/4.x/","tags":"","title":"Versions 4.x"},{"body":"","categories":"","description":"","excerpt":"","ref":"/5.x/installer/versions/3.x/","tags":"","title":"Versions 3.x"},{"body":"","categories":"","description":"","excerpt":"","ref":"/5.x/installer/versions/2.x/","tags":"","title":"Versions 2.x"},{"body":"La DevBox-santé DMP est une api Java dont tous les composants sont injectables dans un environnement SpringFramework. Elle suit le guide d’intégration définit par le GIE SESAM-Vitale. (https://www.sesam-vitale.fr/en/dmp)\nCes composants sont tous basés sur des librairies de l’opensource comme Joda-time, Log4j, Apache Santuario, Apache CXF… .\nLa DMPC-API proposé est un projet github public : https://bitbucket.org/devbox-sante/devbox-sante-apis/src/master/dmpc-api/ Connecteur ou API embarquée ","categories":"","description":"Le DMP intégré aux LPS\n","excerpt":"Le DMP intégré aux LPS\n","ref":"/5.x/dmp/","tags":"","title":"DMP"},{"body":"Afin de gérer l’installation de nos composants, nous nous appuyons sur un constructeur d’installer : Install4j\nInstall4j nous permet ainsi de générer et proposer des programmes d’installation spécifiques avec les différents modules.\nUne page dédiée est accessible sur le serveur de gestion de clients :\nUne fois le programme d’installation téléchargé, il suffit de suivre le wizard d’installation.\nPour plus d’information, sur le contenu de l’installation suivez le lien\nMise à jour automatique La DevBox-Santé une fois installé peut proposer automatiquement des mises à jour aux utilisateurs :\nUne fois confirmé le téléchargement et la mise à jour automatique se fait :\nHowtos Informations de diagnostique (@Since 5.10) Pour vous/nous aider à diagnostiquer les problèmes au niveau du client nous avons ajouter dans le menu un outil de diagnostique :\nLes informations contenues dans cette fenêtre (en plus du fichier output.log du répertoire d’installation) peut se révéler précieux pour diagnostiquer les problèmes d’installation/de déploiement :\nConfiguration du proxy (@since 5.10) La DevBox-Santé est configurée par défaut pour utiliser le proxy système. Toutefois, il est possible d’ajouter manuellement un proxy HTTP.\nSurcharge d’une propriété lors du démarrage de l’exécutable Il est possible de surcharger une propriété de la configuration application.yml lors du démarrage de la DevBox-Santé. Par exemple, pour démarrer la DevBox-Santé sur le port 10002: \"C:\\Program Files\\DevBoxSante\\DevBoxSante.exe\" --server.port=10002 ","categories":"","description":"L’\"Installer\" : un programme d'installation multi-OS\n","excerpt":"L’\"Installer\" : un programme d'installation multi-OS\n","ref":"/5.x/installer/poste_client/","tags":"","title":"Installer sur le poste de travail"},{"body":"Diagramme de composants Les composants en place pour remplir la fonction PFI de la DevBox-Santé :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"SIH\" { node \"Fonction DPI/RIS/SGL\" { component \"DPI ou RIS ou SGL Intégrateur\" as dpi } node \"DevBox-Santé PFI\" { component \"DevBox-Santé PFI server\" as pfi DEVBOX_COLOR { [Connectors SFTP / MLLP / file] as pfi_connectors DEVBOX_COLOR [DevBox-Santé DMP] as dbx_dmp DMP_COLOR [DevBox-Santé MSS] as dbx_mss MSS_COLOR } [Pfi_Back_office] as bo DEVBOX_COLOR Database PFI_DB_Docker as pfi_db DEVBOX_COLOR } actor \"Administrateur DSI\" as admin } cloud \"**DMP**\" as DMP cloud \"**BAL MSSanté**\" as OperateurMSS dpi -r-\u003e pfi_connectors : Flux HL7 (SFTP / MLLP / ...) dbx_dmp -[hidden]d- dbx_mss dbx_mss -[hidden]- pfi_connectors dbx_dmp \u003c--\u003e DMP : alimentation du DMP dbx_mss \u003c--\u003e OperateurMSS : Envoi/Réception MSSanté (SMTP/IMAP en mTLS) pfi -u-\u003e pfi_db bo --\u003e pfi_db admin --\u003e bo : http Diagrammes de flux Voici la liste des flux sortants :\nComposant Protocole Port Destination Usage Licence Manager https 443 clients.devbox-sante.fr Vérification des licences d’utilisation DMP https 443 lps2.dmp.gouv.fr Accès au téléservice DMP DMP ntp 123 fr.pool.ntp.org Accès à un serveur de temps ntp fr.pool.ntp.org configuré par défaut mais configurable MSS ldap 389 ldap.annuaire.mssante.fr Accès annuaire ldap des professionnels de santé MSS opérateurs SMTP / IMAP 587 / 443 dépend de l’opérateur Liste des opérateurs référencés sur https://mss-demo.devbox-sante.fr/ DMP, MSS http 80 igc-sante.esante.gouv.fr Accès au certificats de l’IGC santé Voici la liste des flux entrants :\nComposant / Acteur Protocole Port Destination Usage DPI / RIS / SGL sftp / mllp “CONFIGURABLE” pfi Flux HL7 Administrateur DSI http “CONFIGURABLE” `pfi-back-office Administration / suivi des flux Ne pas exposer innutilement ces flux entrants Les flux HL7 entre les fonctions DPI/RIS/SGL et la DevBox-Santé PFI sont sécurisables par le protocole SFTP.\nDe même, le flux http entre le BackOffice et l’administrateur peut être sécurisé en HTTPS, en utilisant par exemple le proxy devbox-santé-nginx.\nNéanmoins, ces flux entrants n’ont aucunes raisons d’être exposés sur internet. Il faut donc privilégier un déploiement de la DevBox-Santé PFI dans le même sous réseau que les autres fonctions.\nDiagramme de déploiement Le déploiement de la DevBox-Santé PFI est réalisée dans l’infastructure HDS de la structure hospitalière où à défaut dans l’infrastructure HDS du fournisseur de services.\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Infrastructure HDS\" { node \"Réseau Docker\" as docker{ component \"Container DevBox-Santé PFI\" as pfi DEVBOX_COLOR { } database \"Container MongoDB\" as pfi_db DEVBOX_COLOR component \"Container Antivirus\" as antivir DEVBOX_COLOR component \"Container Back-Office Web\" as bo DEVBOX_COLOR } } cloud \"**DMP**\" as DMP cloud \"**BAL MSSanté**\" as OperateurMSS pfi\u003c-r-\u003e DMP : https pfi -l-\u003e antivir bo -\u003e pfi_db pfi \u003c-r-\u003e OperateurMSS : SMTP/IMAP en mTLS pfi -d-\u003e pfi_db Pour installer/composer avec les différents composants : Installation\n","categories":"","description":"Architecture logicielle de la DevBox-Santé PFI\n","excerpt":"Architecture logicielle de la DevBox-Santé PFI\n","ref":"/6.x/plateformes/pfi/architecture_technique/","tags":"","title":"Architecture technique"},{"body":"Toutes transactions vers le DMP se fait en précisant un DMPCContext et une requête spécifique en argument d’une méthode du DMPCClient.\nLe DMPCContext contient les informations permettant de définir :\nL’auteur de la transaction, Le code de confidentialité de la transaction (connexion secrète, invisible aux représentants légaux du patient). À ce DMPCContext est associé un autre argument dépendant de la transaction réalisée.\nEn authentification directe (depus version 3.1) En authentification directe, l’utilisateur personnel de santé est authentifié par sa carte CPS/CPE, ces informations sont récupérées lors de la lecture de la carte CPS.\nCas particulier des cartes CPE non nominatives, où le nom du service est demandé : context.author.service.nom (cf. authentification indirecte).\nPrise en compte de PDT-INF-617 context.author.nom et context.author.prenom En authentification indirecte (depuis version 1.0) En authentification indirecte, seule la structure de santé (par son certificat serveur) est authentifiée.\nL’auteur de la requête, c’est à dire le personnel de santé utilisateur (DMPCPersonnelSante), doit donc être authentifié soit localement soit par son rpps/adeli. L’information du service au sein d’un établissement doit être donné (aucune vérification mais doit être présent).\nExemple Java :\nDMPCContext context = new DMPCContext(); DMPCPersonnelSante ps = new DMPCPersonnelSante(); // ps.setInternalId(\"1234567890\"); ps.setRpps(\"899700433153\"); ps.setNom(\"MEDECIN RPPS 123\"); ps.setPrenom(\"Virginie\"); ps.setRole(\"10\"); // Médecin dans la nomenclature DMPCCode.JeuxValeursDMP.SUBJECT_ROLE ps.setSpecialite(\"G15_10/SM30\"); // G15_10/SM30 Néphrologie dans la nomenclature DMPCCode.JeuxValeursDMP.AUTHOR_SPECIALITY ps.setSecteurActivite(\"SA01\"); // Etablissement public de santé dans la nomenclature DMPCCode.JeuxValeursDMP.HEALTH_CARE_FACILITY_TYPE_CODE ps.getService().setNom(\"Service néprhologie\"); // nom du service au sein d'un établissement. context.setAuthor(ps); Exemple curl :\ncurl --request POST '/dmp/tdxxxx' \\ --data-raw '{ \"context\": { \"author\" : { \"rpps\" : \"899700433156\", \"nom\" : \"MEDECIN RPPS0043315\", \"prenom\" : \"VIRGINIE\", \"role\" : \"10\", \"specialite\" : \"G15_10/SM26\", \"secteurActivite\" : \"SA07\", \"service\" : { \"nom\" : \"Service pédiatrie\" } }, \"modeAcces\": { \"acces\": \"NORMAL\" } }, \"request\": { ... } }' ","categories":"","description":"Gestion du contexte d'appel\n","excerpt":"Gestion du contexte d'appel\n","ref":"/5.x/dmp/howtos/transactions/contexte/","tags":"","title":"Gestion du Contexte"},{"body":"Toutes transactions vers le DMP se fait en précisant un DMPCContext et une requête spécifique en argument d’une méthode du DMPCClient.\nLe DMPCContext contient les informations permettant de définir :\nL’auteur de la transaction, Le code de confidentialité de la transaction (connexion secrète, invisible aux représentants légaux du patient). À ce DMPCContext est associé un autre argument dépendant de la transaction réalisée.\nEn authentification directe (depuis version 3.1) En authentification directe, l’utilisateur personnel de santé est authentifié par sa carte CPS/CPE, ces informations sont récupérées lors de la lecture de la carte CPS.\nCPE Non nominative Cas particulier des cartes CPE non nominatives, où le nom du service est demandé : context.author.service.nom (cf. authentification indirecte).\nPrise en compte de PDT-INF-617 Problème constaté : Dans le cas d’accès au DMP avec une CPE non directement nominative IGC Santé, les logiciels renseignant les nom et prénom à partir du DN du certificat de la carte ne remplissent pas correctement les champs dans les transactions « TD1.1, TD1.2, TD1.3b, TD1.4 et TD2.2 »  les champs sont vides. Ces flux sont alors rejetés par le système DMP qui contrôle leur présence.\nPour renseigner les informations de nom et prénom de l’auteur, il faut utiliser : context.author.nom et context.author.prenom\nEn authentification indirecte (depuis version 1.0) En authentification indirecte, seule la structure de santé (par son certificat serveur) est authentifiée.\nL’auteur de la requête, c’est à dire le personnel de santé utilisateur (DMPCPersonnelSante), doit donc être authentifié soit localement soit par son rpps/adeli. L’information du service au sein d’un établissement doit être donné (aucune vérification mais doit être présent).\nExemple Java :\nDMPCContext context = new DMPCContext(); DMPCPersonnelSante ps = new DMPCPersonnelSante(); // ps.setInternalId(\"1234567890\"); ps.setRpps(\"899700433153\"); ps.setNom(\"MEDECIN RPPS 123\"); ps.setPrenom(\"Virginie\"); ps.setRole(\"10\"); // Médecin dans la nomenclature DMPCCode.JeuxValeursDMP.SUBJECT_ROLE ps.setSpecialite(\"G15_10/SM30\"); // G15_10/SM30 Néphrologie dans la nomenclature DMPCCode.JeuxValeursDMP.AUTHOR_SPECIALITY ps.setSecteurActivite(\"SA01\"); // Etablissement public de santé dans la nomenclature DMPCCode.JeuxValeursDMP.HEALTH_CARE_FACILITY_TYPE_CODE ps.getService().setNom(\"Service néprhologie\"); // nom du service au sein d'un établissement. context.setAuthor(ps); Exemple curl :\ncurl --request POST '/dmp/tdxxxx' \\ --data-raw '{ \"context\": { \"author\" : { \"rpps\" : \"899700433156\", \"nom\" : \"MEDECIN RPPS0043315\", \"prenom\" : \"VIRGINIE\", \"role\" : \"10\", \"specialite\" : \"G15_10/SM26\", \"secteurActivite\" : \"SA07\", \"structureSante\" : { \"idNational\" : \"499700433156004\", \"nom\" : \"CABINET MME MEDECIN0043315\" }, \"service\" : { \"nom\" : \"Service pédiatrie\" } }, \"modeAcces\": { \"acces\": \"NORMAL\" } }, \"request\": { ... } }' Remarque: l’idNational de la structureSante est déduite du certificat si non renseigné. Le renseigner peurt avoir un impact et mettre en œuvre le mode EJ/EG.\nMode EJ/EG en authentification indirecte En fonction du déploiement, nous pouvons vouloir authentifier la structure Juridique de l’établissement pour un établissement géographique ou encore déployer que des certificats liés au FINESS Géographique. Le tableau ci-dessous reprend l’ensemble des exigences du GIE Sesam-Vitale en la matière\nPour vous cet intégration sera toute simple,\nMode EG : Vous utilisez un certificat EG (Établissement Géographique) pour vous connecter, toutes les informations de l’établissement (DMPCStructureSante) pour l’alimentation du DMP et l’authentification (VIHF) seront déduites du certificat.\nMode EJ/EG (assouplissement): Vous utilisez un certificat EJ (Établissement Juridique) pour vous connecter et vous précisez dans le contexte d’appel, l’identifiant Finess Géographique de la structure du professionnel. Alors les différents identifiants (celui de l’EJ dans le certificat, et celui de l’EG donné dans le contexte) seront utilisés à bon escient dans les différents champs des transactions (VIHF, Soumission XDS, Document XDS, Document CDA, Document de signature XADES.\nPassage de l’EG dans le contexte des requêtes :\n{ \"author\": { \"structureSante\": { \"idNational\": \"10B0130811\", ... } ... } } En Authentification Indirecte Renforcee (depuis version 6.0) Le mode renforcé de l’authentification indirecte se distingue par le fait que l’authentification de l’utilisateur fait en amont respecte les critères précis définis dans le référentien d’exigences du DMP : /6.x/connecteurs/dmp/authentifications/indirecte_renforce/\nIl se traduit techniquement dans la DevBox-santé DMP par l’ajout de deux informations supplémentaires dans le contexte :\n{ \"context\" : { \"author\": { ... }, \"authentificationIndirecteRenforcee\" : true, \"samlAuthnContext\" : \"urn:oasis:names:tc:SAML:2.0:ac:classes:Password\" }, \"request\": { ... } } le samlAuthnContext pouvant prendre les valeurs suivantes :\nIP_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:InternetProtocol\"), IP_PASSWORD_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:InternetProtocolPassword\"), KERBEROS_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:Kerberos\"), MOFU_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:MobileOneFactorUnregistered\"), MTFU_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:MobileTwoFactorUnregistered\"), MOFC_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:MobileOneFactorContract\"), MTFC_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:MobileTwoFactorContract\"), PASSWORD_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:Password\"), PPT_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:PasswordProtectedTransport\"), PREVIOUS_SESSION_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:PreviousSession\"), X509_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:X509\"), PGP_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:PGP\"), SPKI_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:SPKI\"), XML_DSIG_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:XMLDSig\"), SMARTCARD_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:Smartcard\"), SMARTCARD_PKI_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:SmartcardPKI\"), SOFTWARE_PKI_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:SoftwarePKI\"), TELEPHONY_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:Telephony\"), NOMAD_TELEPHONY_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:NomadTelephony\"), PERSONAL_TELEPHONY_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:PersonalTelephony\"), AUTHENTICATED_TELEPHONY_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:AuthenticatedTelephony\"), SRP_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:SecureRemotePassword\"), TLS_CLIENT_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:TLSClient\"), TIME_SYNC_TOKEN_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:TimeSyncToken\"), UNSPECIFIED_AUTHN_CTX(\"urn:oasis:names:tc:SAML:2.0:ac:classes:unspecified\"),; En fonction de l’authentification réalisée en amont.\nIndirecte PSMS (depuis Version 5.1) En Authentification indirecte pour les professions du Médico-Sociale, le guide d’intégration donne les informations sur l’occurence des rôles possibles dans le VIHF en fonction des professionnels :\nIl suffit dans la DevBox-Santé DMP de préciser dans le personnelSanté auteur du contexte ces informations si nécessaires :\n@NosCodeValid(nomenclature=NosNomenclature.TRE_R85_RolePriseCharge) private String rolePriseEnCharge; @NosCodeValid(nomenclature=NosNomenclature.TRE_R21_Fonction) private String fonction; @NosCodeValid(nomenclature=NosNomenclature.TRE_R22_GenreActivite) private String genreActivite; ","categories":"","description":"Gestion du contexte d'appel\n","excerpt":"Gestion du contexte d'appel\n","ref":"/6.x/connecteurs/dmp/howtos/transactions/contexte/","tags":"","title":"Gestion du Contexte"},{"body":"Démarches Administratives Information officielle disponible ici : https://cnda.ameli.fr/editeurs/referencer-un-logiciel/\nInscrire votre société auprès du CNDA : https://sicnda.ameli.fr/#/login/subscribe\nCréer un logiciel dans la plateforme Récupérer/lire dans l’onglet documentation les conditions contractuelles pour l’INSi Récupérer/étudier la documentation à jour sur les packages de test Remplir un nouveau dossier d’homologation (support possible DEVCOOP) Depuis un compte industriel sécurisé, récupérer le package documentaire à jour sur https://industriels.sesam-vitale.fr/group/teleservice-insi\nObtenir des cartes CPS et/ou certificats de test (médecin, CPE, autre) auprès de l’ANS avec le formulaire F414 : https://esante.gouv.fr/sites/default/files/media_entity/documents/F414.pdf\nPlus de renseignements : https://industriels.esante.gouv.fr/sites/default/files/media/document/ANS_Commande_de_cartes_Vf.pdf\nPassage de l’homologation\nVous effectuez les tests dans votre environnement le jeu de test et envoyer le résultat au CNDA. Plus d’info sur l’exécution du jeu de tests : /5.x/insi/howtos/testcnda/ Après vérification du CNDA, prise de rendez-vous pour un rejeu en condition réelle. Documentation à prendre en compte Résumé des différents documents : https://www.sesam-vitale.fr/documents/20182/75606/Documentation_INS.pdf\nINSi version 04.00 Dans le Package INSi 04.00…. :\nFiche d’information du contenu du package : PDT-INF-736_Package INSi 04.00.00.pdf Guide d’intégration de SesamVitale SEL-MP-043_04-00-00_INSi sans MR.pdf Documentation de l’ANS :\nL’ANS fournit un référentiel à tenir compte également dans vos lectures d’intégration car elle définit un certain nombre d’exigences à respecter\nRéférentiel INS : https://esante.gouv.fr/sites/default/files/media_entity/documents/ANS_R%C3%A9f%C3%A9rentiel_Identifiant_National_de_Sant%C3%A9_V2.0.pdf Guide d’implémentation : https://esante.gouv.fr/sites/default/files/media_entity/documents/INS_Guide%20implementation_V2_0.pdf RNIV : https://esante.gouv.fr/securite/identite-nationale-de-sante (ensemble des liens de la page) ","categories":"","description":"Liste des actions à réaliser pour mener à bien une intégration du composant DevBox-Santé INSi et faciliter son homologation.\n","excerpt":"Liste des actions à réaliser pour mener à bien une intégration du …","ref":"/5.x/insi/howtos/integrateurchecklist/","tags":"","title":"Integrateurs checklist"},{"body":"Démarches Administratives Information officielle disponible ici : https://cnda.ameli.fr/editeurs/referencer-un-logiciel/\nInscrire votre société auprès du CNDA : https://sicnda.ameli.fr/#/login/subscribe\nCréer un logiciel dans la plateforme Récupérer/lire dans l’onglet documentation les conditions contractuelles pour l’INSi Récupérer/étudier la documentation à jour sur les packages de test Remplir un nouveau dossier d’homologation (support possible DEVCOOP) Depuis un compte industriel sécurisé, récupérer le package documentaire à jour sur https://industriels.sesam-vitale.fr/group/teleservice-insi\nObtenir des cartes CPS et/ou certificats de test (médecin, CPE, autre) auprès de l’ANS\navec le formulaire F414 : https://esante.gouv.fr/sites/default/files/media_entity/documents/F414.pdf Il est possible de faire la démarche en ligne : https://www.demarches-simplifiees.fr/commencer/f414 Plus de renseignements : https://industriels.esante.gouv.fr/sites/default/files/media/document/ANS_Commande_de_cartes_Vf.pdf\nPassage de l’homologation\nVous effectuez les tests dans votre environnement le jeu de test et envoyer le résultat au CNDA. Plus d’info sur l’exécution du jeu de tests : /6.x/connecteurs/insi/howtos/testcnda/ Après vérification du CNDA, prise de rendez-vous pour un rejeu en condition réelle. Documentation à prendre en compte Résumé des différents documents : https://www.sesam-vitale.fr/documents/20182/75606/Documentation_INS.pdf\nINSi version 04.00 Dans le Package INSi 04.00…. :\nFiche d’information du contenu du package : PDT-INF-736_Package INSi 04.00.00.pdf Guide d’intégration de SesamVitale SEL-MP-043_04-00-00_INSi sans MR.pdf Documentation de l’ANS :\nL’ANS fournit un référentiel à tenir compte également dans vos lectures d’intégration car elle définit un certain nombre d’exigences à respecter\nRéférentiel INS : https://esante.gouv.fr/sites/default/files/media_entity/documents/ANS_R%C3%A9f%C3%A9rentiel_Identifiant_National_de_Sant%C3%A9_V2.0.pdf Guide d’implémentation : https://esante.gouv.fr/sites/default/files/media_entity/documents/INS_Guide%20implementation_V2_0.pdf RNIV : https://esante.gouv.fr/securite/identite-nationale-de-sante (ensemble des liens de la page) ","categories":"","description":"Liste des actions à réaliser pour mener à bien une intégration du composant DevBox-Santé INSi et faciliter son homologation.\n","excerpt":"Liste des actions à réaliser pour mener à bien une intégration du …","ref":"/6.x/connecteurs/insi/howtos/integrateurchecklist/","tags":"","title":"Integrateurs checklist"},{"body":" WIP Cette page est en cours de construction. Pré-requis Consulter le référentiel : https://esante.gouv.fr/espace_documentation/mssante-clients-de-messageries-securisees-de-sante/referentiel-socle-mssante-2\nIl est recommandé pour les logiciels souhaitant envoyer des pièces jointes de lire les document suivants: Echange de documents de santé via MSSanté : guide de normalisation à destination des éditeurs de clients de messagerie MSSanté (V1.2 - 21/12/2018) Guide éditeur de mise en oeuvre de la MSSanté et de l’alimentation du DMP dans un logiciel de professionnel de santé (V1.0.0 - mars 2016) Echange de compte rendu d’examens de biologie via MSSanté : guide de transition vers le format XDM (V1.0.0 - 27 /04/2017) Créer un compte sur un opérateur\nMailiz : créer un compte sur l’environnement de formation : https://mailiz.formation.mssante.fr/ … Intégrer les APIs\nValider vos développements à l’aide de l’outil de test MOTCO2\n","categories":"","description":"Liste des actions à réaliser pour mener à bien une intégration du composant DevBox-Santé MSS et faciliter sa mise en production\n","excerpt":"Liste des actions à réaliser pour mener à bien une intégration du …","ref":"/5.x/ms-sante/howtos/integrateurschecklist/","tags":"","title":"Intégrateurs checklist"},{"body":" WIP Cette page est en cours de construction. Pré-requis Consulter le référentiel : https://esante.gouv.fr/espace_documentation/mssante-clients-de-messageries-securisees-de-sante/referentiel-socle-mssante-2\nIl est recommandé pour les logiciels souhaitant envoyer des pièces jointes de lire les document suivants: Echange de documents de santé via MSSanté : guide de normalisation à destination des éditeurs de clients de messagerie MSSanté (V1.2 - 21/12/2018) Guide éditeur de mise en oeuvre de la MSSanté et de l’alimentation du DMP dans un logiciel de professionnel de santé (V1.0.0 - mars 2016) Echange de compte rendu d’examens de biologie via MSSanté : guide de transition vers le format XDM (V1.0.0 - 27 /04/2017) Créer un compte sur un opérateur\nMOTCO2: créer un compte sur l’environnement de test de l’ANS : cf documentation Mailiz : créer un compte sur l’environnement de formation : https://mailiz.formation.mssante.fr/ … Intégrer les APIs\nValider vos développements à l’aide de l’outil de test MOTCO2\n","categories":"","description":"Liste des actions à réaliser pour mener à bien une intégration du composant DevBox-Santé MSS et faciliter sa mise en production\n","excerpt":"Liste des actions à réaliser pour mener à bien une intégration du …","ref":"/6.x/connecteurs/ms-sante/howtos/integrateurschecklist/","tags":"","title":"Intégrateurs checklist"},{"body":"Pré-requis Information officielle disponible ici : https://cnda.ameli.fr/editeurs/referencer-un-logiciel/\nInscrire votre société auprès du CNDA : https://sicnda.ameli.fr/#/login/subscribe\nCréer un logiciel dans la plateforme Récupérer/lire dans l’onglet documentation les conditions contractuelles pour le DMP Récupérer/étudier la documentation à jour sur les packages de test Remplir un nouveau dossier d’homologation (support possible DEVCOOP) Depuis un compte industriel sécurisé, récupérer le package documentaire à jour sur https://industriels.sesam-vitale.fr/group/dmp-compatibilite\nObtenir des cartes CPS et/ou certificats de test (médecin, CPE, autre) auprès de l’ANS avec le formulaire F414 : https://esante.gouv.fr/sites/default/files/media_entity/documents/F414.pdf\nPlus de renseignements : https://industriels.esante.gouv.fr/sites/default/files/media/document/ANS_Commande_de_cartes_Vf.pdf\nChoix Architecture Choisir un mode d’intégration/ authentification\nles moyens d’authentification de l’utilisateur doivent permettre l’identification unique de l’utilisateur le PS a-t-il accès à sa carte CPS ? Se rappeler que l’éditeur agit pour le compte d’un établissement de santé (RPPS) Un certificat serveur est lié au FINESS géographique/juridique de l’établissement de santé. Choisir les profils d’intégration :\nalimentation consultation Développement / Intégration Intégrer l’ensemble des transactions choisies sur les profils choisis. La description de l’ensemble des transactions se trouvent ici.\nDeux modes d’intégration :\nJava REST Nouvelle procédure d’homologation Lancer la procédure d’homologation ","categories":"","description":"Liste des actions à réaliser pour mener à bien une intégration du composant DevBox-Santé DMP et faciliter son homologation.\n","excerpt":"Liste des actions à réaliser pour mener à bien une intégration du …","ref":"/5.x/dmp/howtos/integrateurchecklist/","tags":"","title":"Intégrateurs checklist"},{"body":"Pré-requis Information officielle disponible ici : https://cnda.ameli.fr/editeurs/referencer-un-logiciel/\nInscrire votre société auprès du CNDA : https://sicnda.ameli.fr/#/login/subscribe\nCréer un logiciel dans la plateforme Récupérer/lire dans l’onglet documentation les conditions contractuelles pour le DMP Récupérer/étudier la documentation à jour sur les packages de test Remplir un nouveau dossier d’homologation (support possible DEVCOOP) Depuis un compte industriel sécurisé, récupérer le package documentaire à jour sur https://industriels.sesam-vitale.fr/group/dmp-compatibilite\nObtenir des cartes CPS et/ou certificats de test (médecin, CPE, autre) auprès de l’ANS\navec le formulaire F414 : https://esante.gouv.fr/sites/default/files/media_entity/documents/F414.pdf Il est possible de faire la démarche en ligne : https://www.demarches-simplifiees.fr/commencer/f414 Plus de renseignements : https://industriels.esante.gouv.fr/sites/default/files/media/document/ANS_Commande_de_cartes_Vf.pdf\nChoix Architecture Choisir un mode d’intégration/ authentification\nles moyens d’authentification de l’utilisateur doivent permettre l’identification unique de l’utilisateur le PS a-t-il accès à sa carte CPS ? Se rappeler que l’éditeur agit pour le compte d’un établissement de santé (RPPS) Un certificat serveur est lié au FINESS géographique/juridique de l’établissement de santé. Choisir les profils d’intégration :\nalimentation consultation Développement / Intégration Intégrer l’ensemble des transactions choisies sur les profils choisis. La description de l’ensemble des transactions se trouvent ici.\nDeux modes d’intégration :\nJava REST Nouvelle procédure d’homologation Lancer la procédure d’homologation ","categories":"","description":"Liste des actions à réaliser pour mener à bien une intégration du composant DevBox-Santé DMP et faciliter son homologation.\n","excerpt":"Liste des actions à réaliser pour mener à bien une intégration du …","ref":"/6.x/connecteurs/dmp/howtos/integrateurchecklist/","tags":"","title":"Intégrateurs checklist"},{"body":" Un projet de démonstration d’utilisation de la DevBox-santé DMP en mode embedded se trouve : https://bitbucket.org/devbox-sante/dmpc-demo\nInstaller l’utilisation de cette API ne nécessite pas d’installation. Il suffit d’ajouter les dépendances adequates dans votre projet Maven / Gradle.\n\u003cdependencies\u003e \u003cdependency\u003e \u003cgroupId\u003efr.devboxsante.dmp\u003c/groupId\u003e \u003cartifactId\u003edmp-api\u003c/artifactId\u003e \u003cversion\u003e${dmp-api.version}\u003c/version\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003efr.devboxsante.dmp\u003c/groupId\u003e \u003cartifactId\u003edmp-client-impl\u003c/artifactId\u003e \u003cversion\u003e${dmp.version}\u003c/version\u003e \u003c/dependency\u003e Écrire votre première intégration Initialisation du client La DevBox-Santé DMP est une application spring, pour obtenir un client DMP, il faut injecter dans l’application la classe implémentant l’interface DMPCClient par les mécanismes CDI de spring.\n@Component public class MonComposantDMP { @Autowired private DMPCClient client; } Une méthode dans le composant // Initialisation d'un PS auteur des différentes transactions DMPCAuthor ps1 = new DMPCAuthor(\"1234\", \"Dupont\", \"Pierre\"); ps1.setRole(\"Médecin\"); ps1.setStructureNom(\"Clinique du beau Soleil\"); // Test d'existence (recherche) d'un patient DMPCPatient patient = client.td02Exist(new TD02Request(\"0404312364978044945679\")).getPatient(); // Initialisation d'un document à soumettre au DMP DMPCDocument document = new DMPCDocument(); document.setTitle(\"Titre du document concernant l'hépatite virale\"); document.setContent(\"Contenu textuel\"); document.addEvent(new DMPCCode(\"B18\", \"2.16.840.1.113883.6.3\", \"Hépatite virale chronique\")); document.setFormat(client.getCodesFor(DMPCCode.ANSJeuxValeurs.FORMAT_CODE).get(1).getCode()); // … // Création de l'enveloppe de soumission DMPCSubmission submission = new DMPCSubmission(); submission.addDocument(document); submission.setPatient(patient); // Envoi vers le DMP de la soumission. TD21Response td21Response = client.td21SubmitDocuments(context, new TD21Request(submission)); System.out.println(\"Soumission enregistré avec l'uuid :\" + td21Response.getSubmission().getUuid()); Diagrammme de séquences correspondant\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 == Initialisation == DMPCClient -\u003e DMPCClient : readCertificates DMPCClient -\u003e DMPCClient : generate VIHF DMPCClient -\u003e DMP: init TLS connexion(securise) == Test d'existence == DMPCClient -\u003e DMP : td02Exist(\"279035121518989\") DMP --\u003e DMPCClient : retourne un patient == Soumission == DMPCClient -\u003e DMP : td21SubmitDocuments(new Document(\"hepatite virale\") DMP --\u003e DMPCClient : acknowledge Les différents objets du modèle Afin de transmettre les métadonnées nécessaires aux DMP pendant les différentes transactions, la DevBox-Santé DMP contient un modèle métier dont les classes principales suivantes :\nDMPCCode DMPCPersonnelSante DMPCPatient DMPCDocument DMPCSubmission DMPCCode Un DMPCCode est la structure de base pour toute codification. Une fois un DMPCClient initialisé, il est possible d’obtenir toutes les nomenclatures standard depuis l’enum DMPCCode.ANSJeuxValeurs.\nExemple de récupération d’un DMPCCode :\n// Je m'intéresse à la nomenclature SubjectRole List\u003cDMPCCode\u003e roles = client.getCodesFor(DMPCCode.ANSJeuxValeurs.SUBJECT_ROLE); // liste de tous les codes SubjetRole for (DMPCCode role : roles) { System.out.println(\"role :\" + role); } Initialisation du contexte L’API étant stateless un contexte doit être rappelé pour chaque transaction vers le DMP. Un contexte peut être définit de la manière suivante :\nDMPCContext context = new DMPCContext(); DMPCPersonnelSante ps1 = // initialisation d'un personnel de santé responsable de la transaction vers le DMP context.setAuthor(ps1); Exemple d’utilisation du contexte dans le cadre d’un test d’existence\nclient.td02Exist(context, new TD02Request(patient)); Transactions L’ensemble des transactions sont décrites dans le document transactions\n","categories":"","description":"Intégrer directement dans votre application spring-boot\n","excerpt":"Intégrer directement dans votre application spring-boot\n","ref":"/5.x/dmp/embedded/","tags":"","title":"Embedded : Premier Pas"},{"body":"Déroulement Récupérer le cahier de test à jour et prendre connaissance de la NOTICE Filtrer l’onglet Phase 1 sur les trois premières colonnes : Profil DMP-C, Authentification, Transaction en fonction de vos annexes remplies des conditions particulières. Fournir à DEVCOOP pour chaque code de test un répertoire contenant la trame d’exécution ainsi que si besoin une ou deux impressions écrans pour illustration. Pour une preuve : Fournir une trame soap d’envoi depuis les logs, plus de renseignements pour récupérer les trames :/5.x/dmp/howtos/logs/ Une fois les trames validées par DEVCOOP, fournir les informations suivantes concernant votre logiciel NIL Nom Version Système d’exploitation DEVCOOP fournit l’attestation de réalisation des prérequis signé. Code prérequis pour Tous Indication concernant les différents tests prérequis.\nPRE_GEN L’éditeur a pris connaissance du Guide d’Intégration DMP et de la totalité des exigences qui concerne le périmètre de son LPS.\nEffectivement, suivre cette documentation ne vous dispense pas de lire attentivement le guide d’intégration “Service DMP intégré aux LPS” (SEL-MP-037) dans la version du package cible. Ce document est disponible sur l’espace industriel de Sesam-Vitale : https://industriels.sesam-vitale.fr/group/dmp-compatibilite\nPRE_ERR Le LPS affiche correctement les différents messages d’erreurs et codeRetour (soapFault…) et adapte sa cinématique en fonction.\nToute erreur provenant du serveur DMP, est interprété puis transformé en une Exception java typé en fonction de l’erreur remontée.\nLe message initial avec son code provenant du serveur DMP est toujours récupéré afin de fournir le bon message à l’intégrateur. Il faut veiller à remonter à l’utilisateur cette information.\nPRE_TPS Le LPS se synchronise via un serveur de temps a minima toutes les 24h.\nToutes les dates techniques (VIHF, dates de création si non renseignées) sont gérées par la DevBox-Santé, les autres dates doivent faire l’objet d’une synchronisation via NTP. Pour cela il est possible d’utiliser le TimeManager de la DevBox-santé DMP.\nEn java :\n// injection du bean spring @Autowired private TimeManager clock; // Usage dans le code ZonedDateTime now = clock.getLocal(); En REST :\ncurl -X 'GET' 'http://localhost:9999/dmp/time/iso' PRE_MODE_CNXSC Des tests ont été faits en mode Connexion Secrète pour un patient mineur.\nPour toute information sur la mise en place de la connexion secrète avec la DevBox-santé DMP : /5.x/dmp/howtos/transactions/#gestion-de-la-connexion-secrète\nAuthentification directe PRE_DIR_MED, PRE_DIR_AUX, PRE_DIR_PHA, PRE_DIR_SPE, PRE_DIR_CPF, PRE_DIR_REMPL, PRE_DIR_CPF Des tests ont été faits en Authentification DIRECTE avec une carte :\nMEDECIN PHARMACIEN SPECIALISTE AUXILIAIRE CPE anonyme et non anonyme CPF REMPLAÇANT Il faut réaliser un test par type de cartes CPx. La DevBox-Santé DMP gère tous les types de cartes CPx\nPour obtenir les différents types cartes CPx de test : /5.x/dmp/howtos/gestioncertificat/#proc%C3%A9dure-administrative\nPRE_TD03 L’éditeur a testé la modification de l’autorisation du PS sur un DMP.\nTout sur la transaction TD0.3 /5.x/dmp/howtos/transactions/#td03–modifier-lautorisation-dacc%C3%A8s-etou-le-statut-m%C3%A9decin-traitant-dmp-ou-passer-en-mode-dacc%C3%A8s–bris-de-glace–depuis-version-20\nPRE_TD03_BDG L’éditeur a testé un accès BDG en cas d’urgence.\nMise en œuvre du bris de glace dans la DevBox-santé : /5.x/dmp/howtos/transactions/#gestion-du-bris-de-glace\nPRE_TD04 L’éditeur a testé l’affichage de la liste des patients ayant une autorisation pour l’acteur authentifié.\nMise en œuvre de la td0.4 : /5.x/dmp/howtos/transactions/td0.4\nPRE_TD04_CPE L’éditeur a testé l’affichage de la liste des patients ayant autorisé un PS donné à consulter leur DMP, et ce depuis une authentification faite avec une CPE.\nIdem PRE_TD04 avec une CPE\nPRE_TD09 L’éditeur a testé l’appel au WebPS.\nIl faut pouvoir accéder au webDMP des PS, comme par exemple :\nLa DevBox-santé DMP permet de générer les urls d’acccès.\nAuthentification indirecte PRE_IND Des tests ont été faits en en Authentification INDIRECTE.\nIl faut valider une connexion en spécifiant les différents certificats utilisés. Plus d’information, sur la configuration des certificats : /5.x/dmp/configuration/#authentification-indirecte\nCes certificats auront été obtenus préalablement auprès de l’ANS. Pour plus d’informations, sur l’obtention des certificats : /5.x/dmp/howtos/gestioncertificat/\nPRE_IND_PSMS Des tests ont été faits en Authentification INDIRECTE avec un PSMS (professionnel du secteur médico-social = RPPS+).\nAuthentification Indirecte Renforcee PRE_AIR Des tests ont été faits en Authentification INDIRECTE RENFORCEE.\nPRE_TD010 L’éditeur a testé l’appel au WebPS en AIR.\nLe support de la TD0.10 a été rajoutée en 6.0, pour une description de la transaction : TD010\nProfil Alimentation PRE_ALIM_NIV1 L’éditeur a testé le dépôt d’ un document CDA-R2 de niveau 1 sur le DMP d’un patient.\nIl faut mettre en œuvre la transaction : /5.x/dmp/howtos/transactions/td2.1\nPRE_ALIM_RECH L’éditeur a testé la recherche de l’identifiant technique d’un document à partir de son identifiant local (fonctionnalité TD 3.1b) afin de remplacer ou dépublier un document.\nIl faut mettre en œuvre la transaction : /5.x/dmp/howtos/transactions/td3.1b\nPRE_ALIM_RPLC L’éditeur a testé le remplacement d’un document déjà présent sur le DMP d’un patient (TD 2.1b).\nIl faut mettre en œuvre la transaction d’alimentation avec les informations des identifiants des documents remplacés. Plus d’informations : /5.x/dmp/howtos/transactions/td2.1#remplacement\nPRE_ALIM_SUPPR L’éditeur a testé la dépublication (suppression) d’un Document (Statut Deleted) à partir de la fonctionnalité TD 3.3c.\nIl faut mettre en œuvre la transaction : /5.x/dmp/howtos/transactions/td3.3\nPRE_ALIM_VAC L’éditeur a testé le dépôt, la modification, la validation et la suppression d’un document Note de Vaccination (NOTE-VAC).\nLes conditions du support de la vaccination dépend des professions pris en charge par le LPS intégrateur :\nEX_2.1-2000 La prise en charge de cette évolution est obligatoire pour les LPS destinés aux médecins (médecine générale et pédiatrie), aux pharmaciens, aux sages-femmes, aux infirmiers ou aux infirmiers psychiatriques (code profession 10, 21, 50, 60 ou 69) en secteur libéral (y compris centres de santé) .\nIl faut mettre en œuvre la transaction d’alimentation mais d’un document NoteVaccination, plus d’informations : /5.x/dmp/cda/vaccination/\nPRE_ALIM_NIV3 L’éditeur a testé le dépôt d’un document CDA-R2 de niveau 3 sur le DMP d’un patient.\nSi vous supportez la note de vaccination, vous remplissez les conditions du support d’un dépôt de document de CDA-R2 de niveau 3. Mais également si vous prenez en charge un autre volet du CI-SIS.\nPlus d’informations sur les différents volets spécifiés par l’ANS : https://esante.gouv.fr/offres-services/ci-sis/espace-publication\nPlus d’informations sur les différents volets (documents CDA-R2 N3 supportés) par la DevBox-santé, nativement : /5.x/dmp/cda\nProfil Consultation PRE_CONS_RECH L’éditeur a testé la recherche d’un document dans le DMP d’un patient avec les critères AvailabilityStatus et/ou TypeCode.\nIl faut réaliser cette recherche en utilisant la transaction de recherche : /5.x/dmp/howtos/transactions/td3.1\nPRE_CONS_SUB L’éditeur a testé la recherche d’un document dans le DMP d’un patient avec comme critère la date de soumission.\nIl faut réaliser cette recherche en utilisant la transaction de recherche : /5.x/dmp/howtos/transactions/td3.1\nPRE_CONS_CONS L’éditeur a testé la consultation d’un document présent dans le DMP d’un patient et l’affichage des métadonnées d’entête CDA.\nIl faut mettre en œuvre la transaction : /5.x/dmp/howtos/transactions/td3.2\nPRE_CONS_MSQPS L’éditeur a testé le masquage/démasquage d’un Document aux PS (confidentialityCode) à partir de la fonctionnalité TD 3.3a.\nIl faut mettre en œuvre la transaction : /5.x/dmp/howtos/transactions/td3.3\nPRE_CONS_INV L’éditeur a rendu visible un Document au patient/représentant légaux (confidentialityCode) à partir de la fonctionnalité TD 3.3b.\nIl faut mettre en œuvre la transaction : /5.x/dmp/howtos/transactions/td3.3\nPRE_CONS_ARCH L’éditeur a testé l’archivage/désarchivage d’un document à partir de la fonctionnalité TD 3.3d.\nIl faut mettre en œuvre la transaction : /5.x/dmp/howtos/transactions/td3.3\n","categories":"","description":"Tout savoir sur la phase 1\n","excerpt":"Tout savoir sur la phase 1\n","ref":"/5.x/dmp/howtos/homologation/phase_1/","tags":"","title":"Référencement Phase 1 : Prérequis"},{"body":"Déroulement Récupérer le cahier de test à jour et prendre connaissance de la NOTICE Filtrer l’onglet Phase 1 sur les trois premières colonnes : Profil DMP-C, Authentification, Transaction en fonction de vos annexes remplies des conditions particulières. Fournir à DEVCOOP pour chaque code de test un répertoire contenant la trame d’exécution ainsi que si besoin une ou deux impressions écrans pour illustration. Pour une preuve : Fournir une trame soap d’envoi depuis les logs, plus de renseignements pour récupérer les trames :/6.x/connecteurs/dmp/howtos/logs/ Une fois les trames validées par DEVCOOP, fournir les informations suivantes concernant votre logiciel NIL Nom Version Système d’exploitation Pour obtenir votre NIL : DEVCOOP fournit l’attestation de réalisation des prérequis signé. Pré-Requis à réaliser Code prérequis pour Tous Indication concernant les différents tests prérequis.\nAttention Toutes les transactions pour vos tests doivent être réalisées avec vos LPS Infos :\nsoit surchargées dans le header http /6.x/connecteurs/dmp/configuration/#surcharge-les-lpsinfo-dans-le-proxy soit dans les variables d’environnement de votre configuration docker : /6.x/installation/docker/configuration/#dmp En effet, afin de partir rapidement dans vos développements les livrables sont préfigurés sur les environnements de Développement/Qualification des différents téléservices avec les infos de la DevBox-Santé. Pour votre usage, vous devez maîtriser la configuration de ces informations qui sont propre à l’éditeur.\nPRE_GEN L’éditeur a pris connaissance du Guide d’Intégration DMP et de la totalité des exigences qui concerne le périmètre de son LPS.\nEffectivement, suivre cette documentation ne vous dispense pas de lire attentivement le guide d’intégration “Service DMP intégré aux LPS” (SEL-MP-037) dans la version du package cible. Ce document est disponible sur l’espace industriel de Sesam-Vitale : https://industriels.sesam-vitale.fr/group/dmp-compatibilite\nPRE_ERR Le LPS affiche correctement les différents messages d’erreurs et codeRetour (soapFault…) et adapte sa cinématique en fonction.\nToute erreur provenant du serveur DMP, est interprété puis transformé en une Exception java typé en fonction de l’erreur remontée.\nLe message initial avec son code provenant du serveur DMP est toujours récupéré afin de fournir le bon message à l’intégrateur. Il faut veiller à remonter à l’utilisateur cette information.\nPRE_TPS Le LPS se synchronise via un serveur de temps a minima toutes les 24h.\nToutes les dates techniques (VIHF, dates de création si non renseignées) sont gérées par la DevBox-Santé, les autres dates doivent faire l’objet d’une synchronisation via NTP. Pour cela il est possible d’utiliser le TimeManager de la DevBox-santé DMP.\nEn java :\n// injection du bean spring @Autowired private TimeManager clock; // Usage dans le code ZonedDateTime now = clock.getLocal(); En REST :\ncurl -X 'GET' 'http://localhost:9999/dmp/time/iso' PRE_MODE_CNXSC Des tests ont été faits en mode Connexion Secrète pour un patient mineur.\nPour toute information sur la mise en place de la connexion secrète avec la DevBox-santé DMP : /6.x/connecteurs/dmp/howtos/transactions/#gestion-de-la-connexion-secrète\nAuthentification directe PRE_DIR_MED, PRE_DIR_AUX, PRE_DIR_PHA, PRE_DIR_SPE, PRE_DIR_CPF, PRE_DIR_REMPL, PRE_DIR_CPF Des tests ont été faits en Authentification DIRECTE avec une carte :\nMEDECIN PHARMACIEN SPECIALISTE AUXILIAIRE CPE anonyme et non anonyme CPF REMPLAÇANT Il faut réaliser un test par type de cartes CPx. La DevBox-Santé DMP gère tous les types de cartes CPx\nPour obtenir les différents types cartes CPx de test : /6.x/connecteurs/dmp/howtos/gestioncertificat/#proc%C3%A9dure-administrative\nPRE_DIR_CPF Comme les CPF n’ont pas d’activités, vous allez obtenir le message suivant :\nLa carte utilisée du professionnel ne contient pas une information nécessaire : la structure de soin n’est pas renseignée.\nIl faut donc préciser dans le contexte de vos requêtes la structure ou l’étudiant travaille :\nPar exemple :\n{ \"context\": { \"author\":{ \"structureSante\": { \"idNational\": \"10B0182382\" } } }, \"request\": { } } /6.x/connecteurs/dmp/howtos/faq/#la-carte-utilis%C3%A9e-est-une-carte-de-professionnel-en-formation-cpf-une-erreur-\nPRE_TD03 L’éditeur a testé la modification de l’autorisation du PS sur un DMP.\nTout sur la transaction TD0.3 /6.x/connecteurs/dmp/howtos/transactions/#td03–modifier-lautorisation-dacc%C3%A8s-etou-le-statut-m%C3%A9decin-traitant-dmp-ou-passer-en-mode-dacc%C3%A8s–bris-de-glace–depuis-version-20\nPRE_TD03_BDG L’éditeur a testé un accès BDG en cas d’urgence.\nMise en œuvre du bris de glace dans la DevBox-santé : /6.x/connecteurs/dmp/howtos/transactions/#gestion-du-bris-de-glace\nPRE_TD04 L’éditeur a testé l’affichage de la liste des patients ayant une autorisation pour l’acteur authentifié.\nMise en œuvre de la td0.4 : /6.x/connecteurs/dmp/howtos/transactions/td0.4\nPRE_TD04_CPE L’éditeur a testé l’affichage de la liste des patients ayant autorisé un PS donné à consulter leur DMP, et ce depuis une authentification faite avec une CPE.\nIdem PRE_TD04 avec une CPE\nPRE_TD09 L’éditeur a testé l’appel au WebPS.\nIl faut pouvoir accéder au webDMP des PS, comme par exemple :\nLa DevBox-santé DMP permet de générer les urls d’acccès.\nAuthentification indirecte PRE_IND Des tests ont été faits en en Authentification INDIRECTE.\nIl faut valider une connexion en spécifiant les différents certificats utilisés. Plus d’information, sur la configuration des certificats : /6.x/connecteurs/dmp/configuration/#authentification-indirecte\nCes certificats auront été obtenus préalablement auprès de l’ANS. Pour plus d’informations, sur l’obtention des certificats : /6.x/connecteurs/dmp/howtos/gestioncertificat/\nPRE_IND_PSMS Des tests ont été faits en Authentification INDIRECTE avec un PSMS (professionnel du secteur médico-social = RPPS+).\nLe support des rôles PSMS est décrit ici : /6.x/connecteurs/dmp/howtos/transactions/contexte/#indirecte-psms-depuis-version-51\nAuthentification Indirecte Renforcee PRE_AIR Des tests ont été faits en Authentification INDIRECTE RENFORCEE.\nPour mettre en œuvre le mode AIR : /6.x/connecteurs/dmp/howtos/transactions/contexte/#en-authentification-indirecte-renforcee-depuis-version-60\nPRE_TD010 L’éditeur a testé l’appel au WebPS en AIR.\nLe support de la TD0.10 a été rajoutée en 6.0, pour une description de la transaction : TD010\nProfil Alimentation PRE_ALIM_NIV1 L’éditeur a testé le dépôt d’ un document CDA-R2 de niveau 1 sur le DMP d’un patient.\nIl faut mettre en œuvre la transaction : /6.x/connecteurs/dmp/howtos/transactions/td2.1\nPRE_ALIM_RECH L’éditeur a testé la recherche de l’identifiant technique d’un document à partir de son identifiant local (fonctionnalité TD 3.1b) afin de remplacer ou dépublier un document.\nIl faut mettre en œuvre la transaction : /6.x/connecteurs/dmp/howtos/transactions/td3.1b\nPRE_ALIM_RPLC L’éditeur a testé le remplacement d’un document déjà présent sur le DMP d’un patient (TD 2.1b).\nIl faut mettre en œuvre la transaction d’alimentation avec les informations des identifiants des documents remplacés. Plus d’informations : /6.x/connecteurs/dmp/howtos/transactions/td2.1#remplacement\nPRE_ALIM_SUPPR L’éditeur a testé la dépublication (suppression) d’un Document (Statut Deleted) à partir de la fonctionnalité TD 3.3c.\nIl faut mettre en œuvre la transaction : /6.x/connecteurs/dmp/howtos/transactions/td3.3\nPRE_ALIM_VAC L’éditeur a testé le dépôt, la modification, la validation et la suppression d’un document Note de Vaccination (NOTE-VAC).\nLes conditions du support de la vaccination dépend des professions pris en charge par le LPS intégrateur :\nEX_2.1-2000 La prise en charge de cette évolution est obligatoire pour les LPS destinés aux médecins (médecine générale et pédiatrie), aux pharmaciens, aux sages-femmes, aux infirmiers ou aux infirmiers psychiatriques (code profession 10, 21, 50, 60 ou 69) en secteur libéral (y compris centres de santé) .\nIl faut mettre en œuvre la transaction d’alimentation mais d’un document NoteVaccination, plus d’informations : /6.x/connecteurs/dmp/cda/vaccination/\nPRE_ALIM_NIV3 L’éditeur a testé le dépôt d’un document CDA-R2 de niveau 3 sur le DMP d’un patient.\nSi vous supportez la note de vaccination, vous remplissez les conditions du support d’un dépôt de document de CDA-R2 de niveau 3. Mais également si vous prenez en charge un autre volet du CI-SIS.\nPlus d’informations sur les différents volets spécifiés par l’ANS : https://esante.gouv.fr/offres-services/ci-sis/espace-publication\nPlus d’informations sur les différents volets (documents CDA-R2 N3 supportés) par la DevBox-santé, nativement : /6.x/connecteurs/dmp/cda\nProfil Consultation PRE_CONS_RECH L’éditeur a testé la recherche d’un document dans le DMP d’un patient avec les critères AvailabilityStatus et/ou TypeCode.\nIl faut réaliser cette recherche en utilisant la transaction de recherche : /6.x/connecteurs/dmp/howtos/transactions/td3.1\nPRE_CONS_SUB L’éditeur a testé la recherche d’un document dans le DMP d’un patient avec comme critère la date de soumission.\nIl faut réaliser cette recherche en utilisant la transaction de recherche : /6.x/connecteurs/dmp/howtos/transactions/td3.1\nPRE_CONS_CONS L’éditeur a testé la consultation d’un document présent dans le DMP d’un patient et l’affichage des métadonnées d’entête CDA.\nIl faut mettre en œuvre la transaction : /6.x/connecteurs/dmp/howtos/transactions/td3.2\nPRE_CONS_MSQPS L’éditeur a testé le masquage/démasquage d’un Document aux PS (confidentialityCode) à partir de la fonctionnalité TD 3.3a.\nIl faut mettre en œuvre la transaction : /6.x/connecteurs/dmp/howtos/transactions/td3.3\nPRE_CONS_INV L’éditeur a rendu visible un Document au patient/représentant légaux (confidentialityCode) à partir de la fonctionnalité TD 3.3b.\nIl faut mettre en œuvre la transaction : /6.x/connecteurs/dmp/howtos/transactions/td3.3\nPRE_CONS_ARCH L’éditeur a testé l’archivage/désarchivage d’un document à partir de la fonctionnalité TD 3.3d.\nIl faut mettre en œuvre la transaction : /6.x/connecteurs/dmp/howtos/transactions/td3.3\n","categories":"","description":"Tout savoir sur la phase 1\n","excerpt":"Tout savoir sur la phase 1\n","ref":"/6.x/connecteurs/dmp/howtos/homologation/phase_1/","tags":"","title":"Référencement Phase 1 : Prérequis"},{"body":"Afin de gérer l’installation de nos composants, nous nous appuyons sur un constructeur d’installer : Install4j\nInstall4j nous permet ainsi de générer et proposer des programmes d’installation spécifiques avec les différents modules.\nUne page dédiée est accessible sur le serveur de gestion de clients :\nUne fois le programme d’installation téléchargé, il suffit de suivre le wizard d’installation.\nPour plus d’information, sur le contenu de l’installation suivez le lien\nMise à jour automatique La DevBox-Santé une fois installé peut proposer automatiquement des mises à jour aux utilisateurs :\nUne fois confirmé le téléchargement et la mise à jour automatique se fait :\n","categories":"","description":"L’\"Installer\" : un programme d'installation multi-OS\n","excerpt":"L’\"Installer\" : un programme d'installation multi-OS\n","ref":"/6.x/installation/poste_client/","tags":"","title":"Installer sur le poste de travail"},{"body":"Le proxy REST embarque l’API java dans une application REST spring-boot, elle accepte des requetes simples JSON et les retransmet au DMP dans le bon formalisme et dans le respect des différentes transactions, il interprète les réponses du serveur DMP et les retourne au client initial dans un formalisme simplifié.\nAPI dans Swagger Test avec Bruno Les exemples de requête Bruno : https://bitbucket.org/devbox-sante/dbx-examples-bruno/src/master/dbx/dmp/6.x/\nIntégration sur un environnement de démonstration Vous pouvez commencer à intégrer la DevBox-Santé INSi depuis l’environnement de démonstration.\nEn authentification P12 : https://demo-p12.devbox-sante.fr En utilisant le dbx-agent : https://demo.devbox-sante.fr ","categories":"","description":"Les transactions du DMP en mode REST\n","excerpt":"Les transactions du DMP en mode REST\n","ref":"/6.x/connecteurs/dmp/rest/","tags":"","title":"REST API"},{"body":" @startuml !include https://bitbucket.org/devbox-sante/plantuml/raw/current/themes/theme-devbox-sante.puml rectangle \"Application cliente\" as AppCli { rectangle \"Front Application\" as Front #E3F2FD rectangle \"Backend Application\" as Backend #E1F5FE } rectangle \"Authentification\" as Authentification { rectangle \"Keycloak\\n(OIDC Server)\" as Keycloak #E8F5E9 rectangle \"Proxy eSanté DevBox\\n(IdP)\" as Proxy { rectangle \"2a - Vérification login_hint / ID national\" as Step1 rectangle \"2b - Si ID National absent, écran de saisie idNat\" as Step2 rectangle \"2c - Affichage code App e-CPS\" as Step3 } ' rectangle \"Proxy eSanté DevBox Santé\\n(Identity Provider)\" as Proxy #FFF3E0 rectangle \"Pro Santé Connect\\n(PSC)\" as PSC #F3E5F5 } ' --- Liaisons principales --- Front -[#green]-\u003e Keycloak : 1- Authentification OIDC\\n(Login / Redirect) Keycloak -[#blue]-\u003e Step1 : 2 - Délégation d'authentification\\n(IdP externe) Step1 -[#blue]-\u003e Step2 Step2 -[#blue]-\u003e Step3 Step3 -[#blue]-\u003e PSC : 3 - Authentification PSC PSC -[#blue,dashed]-\u003e Proxy : 4 - Renvoie PSC Token Proxy -[#blue,dashed]-\u003e Keycloak : 5 - Renvoie PSC Keycloak Keycloak -[#green,dashed]-\u003e Front : 6 - Renvoie Token Keycloak @enduml Configuration de Keycloak Identity providers Ajouter un Identity Provider de type OpenID Connect.\nAlias : au choix Discovery endpoint : https://{proxy-url}/.well-known/openid-configuration Keycloak va compléter les urls comme suit : Pensez à rajouter le Logout URL et modifier l’issuer une fois l’idp enregistré:\nLogout URL : https://{proxy-url}/connect/logout Pour l’instant nous avons pris le parti de ne faire que proxy pour l’authentification, ainsi le token reçu par keycloak est celui de PSC\nIssuer: https://auth.bas.psc.esante.gouv.fr/auth/realms/esante-wallet Autres paramètres:\nClient authentication : Client secret sent in the request body Client ID : qui doit correspondre à la variable OAUTH2_CLIENT_ID passé au lancement du proxy Client Secret : qui doit correspondre à la variable OAUTH2_CLIENT_SECRET passé au lancement du proxy Pass login_hint : true (variable optionnelle à utiliser pour pré-renseigner l’idNational lors de l’authentification) Disable nonce : true (non disponible pour le POC) Pour l’instant le clientId doit correspondre au AUTH_CLI de votre certificat. Nous n’avons pas reussi à passer le clientId du client keycloak. Il faut donc pour le moment définir un IDP par clientID.\nEnregistrer\nPuis dans l’onglet Mappers, ajouter psc-session-id : Clients Vous pouvez créer un client pour chaque certificat client de l’IGC. Ce client doit être présent dans la configuration du proxy.\nLa configuration est standard :\nClient ID : qui doit correspondre à AUTH_CLI de votre certificat: https://pfc.eservices.esante.gouv.fr/pfcng-ihm/authentication.xhtml et devra être enregistré dans le proxy en tant que client autorisé Authentication flow : Standard flow La seule spécificité est d’ajouter dans le token généré le proxy_session_id via le client scopes :\nClient scopes -\u003e scope \u003cclient_id\u003e-dedicated -\u003e Add Mapper by configuration -\u003e user attributes Configuration du proxy Le proxy est packagé avec docker. image: repo.dev.coop/eproxy/eproxy-idp-poc:latest\nUn certain nombre de paramètres sont configurables.\nParamètres obligatoires:\nOAUTH2_SERVER_ISSUER : url du serveur IDP utilisé pour .well-known/openid-configuration SERVER_PORT MONGO_DB_URI (une version ultérieure permettra de tout configurer et logger en file system) SPRING_PROFILES_ACTIVE: IDP (possibilité de rajouter SWAGGER) Exemple\ndocker run -d --name -p 443:8443 \\ -e 'SPRING_PROFILES_ACTIVE=IDP' \\ -e 'OAUTH2_SERVER_ISSUER=https://eproxy-test.devbox-sante.fr/' \\ -e 'SERVER_PORT=8443' \\ -e 'MONGO_DB_URI=mongodb://mongodb:27017/eProxy' \\ eproxy repo.dev.coop/eproxy/eproxy-idp-poc:latest Configuration EDC La configuration des clients et des routes vers les API de l’espace de confiance seront disponibles via une interface d’administration\nKeycloak L’utilisation du nonce sera mis en place dans la version finale. Le refresh Token via keycloak et l’harmonisation de la durée de vie des sessions est à faire.\nSession/RefreshToken Un travail doit encore être effectué pour synchroniser les différentes sessions\n","categories":"","description":"Proxy en tant que Identity Provider (IDP) pour Keycloak\n","excerpt":"Proxy en tant que Identity Provider (IDP) pour Keycloak\n","ref":"/6.x/plateformes/eproxy/howtos/keycloak/solution1/","tags":"","title":"Solution 1"},{"body":"Chacun de nos clients dispose d’une image Docker contenant les éléments de la DevBox-Santé adaptés à leur besoin directement sur le hub de Docker :\nIl vous suffit donc de “PULLER” l’image :\ndocker pull devboxsante/imagename:tagname ","categories":"","description":"Un container docker pour tous les composants de la DevBox-santé dans votre environnement HDS.\n","excerpt":"Un container docker pour tous les composants de la DevBox-santé dans …","ref":"/6.x/installation/docker/","tags":"","title":"Un container docker"},{"body":"Recherche des professionnels de santé\nModèle Le modèle s’appuie sur le modèle du MOS\n{ \"distance\": 0, \"id\": \"string\", \"idPP\": \"Identifiant\", \"typeIdNat_PP\": \"Code:TRE_G08-TypeIdentifiantPersonne\", \"idNat_PS\": \"Identifiant\", \"civilite\": \"Code:TRE_R81-Civilite\", \"civiliteExercice\": \"Code:TRE_R11-CiviliteExercice\", \"nomExercice\": \"Texte\", \"prenomExercice\": \"Texte\", \"profession\": \"Code:TRE_G15-ProfessionSante\", \"typeProfession\": \"Code:?\", \"categorieProfessionnelle\": \"Code:TRE_R09-CategorieProfessionnelle\", \"savoirFaire\": [\"SavoirFaire\"], \"nomComplet\": \"Texte\", \"situationExercice\": { \"numSiret\": \"Identifiant\", \"identifiantEG\": \"Identifiant\", \"idNat_Struct\": \"Identifiant\", \"denominationEG\": \"Texte\", \"denominationEGLongue\": \"Texte\", \"complementDenominationEG\": \"Texte\", \"adresse\": \"Adresse\", \"telecommunication\": [\"Telecommunication\"], \"secteurActivite\": \"Code:TRE_R02-SecteurActivite\", \"sectionOrdrePharmacien\": \"Code:TRE_R06-SectionTableauCNOP\", \"sousSectionOrdrePharmacien\": \"Code:TRE_G05-SousSectionTableauCNOP\" }, \"modeExercice\": \"Code:TRE_R23-ModeExercice\" } La distance est uniquement utilisé lors de la recherche basée sur la géolocalisation, il sert à indiquer la distance qui le sépare du centre de la recherche.\nExemple de recherche curl -X GET \"https://annuaire-demo.devbox-sante.fr/annuaire/professionnels?size=5\u0026sort=nomComplet.valeur,asc\u0026professionCode=10\u0026nomComplet=xxx\" -H \"accept: */*\" { \"content\": [ { \"id\": \"xxxx\", \"idPP\": { \"valeur\": \"xxxx\" }, \"typeIdNat_PP\": { \"valeur\": \"8\", \"libelle\": \"N° RPPS\", \"libelleCourt\": \"N° RPPS\", \"lang\": \"fr\", \"identifiantNomenclature\": \"1.2.250.1.71.1.2.15\", \"nomNomenclature\": \"TRE_G08-TypeIdentifiantPersonne\", \"versionNomenclature\": \"20101104000000\", \"urinomenclature\": \"https://mos.esante.gouv.fr/NOS/TRE_G08-TypeIdentifiantPersonne\" }, \"idNat_PS\": { \"valeur\": \"xxx\" }, \"civilite\": { \"valeur\": \"M\", \"libelle\": \"Monsieur\", \"libelleCourt\": \"M\", \"lang\": \"fr\", \"identifiantNomenclature\": \"1.2.250.1.213.1.6.1.69\", \"nomNomenclature\": \"TRE_R81-Civilite\", \"versionNomenclature\": \"20130628000000\", \"urinomenclature\": \"https://mos.esante.gouv.fr/NOS/TRE_R81-Civilite\" }, \"nomExercice\": { \"valeur\": \"XXX\" }, \"prenomExercice\": { \"valeur\": \"CHRISTOPHE\" }, \"profession\": { \"valeur\": \"10\", \"libelle\": \"Médecin\", \"libelleCourt\": \"Médecin\", \"lang\": \"fr\", \"identifiantNomenclature\": \"1.2.250.1.71.1.2.7\", \"nomNomenclature\": \"TRE_G15-ProfessionSante\", \"versionNomenclature\": \"20120618000000\", \"urinomenclature\": \"https://mos.esante.gouv.fr/NOS/TRE_G15-ProfessionSante\" }, \"categorieProfessionnelle\": { \"valeur\": \"C\", \"libelle\": \"Civil\", \"libelleCourt\": \"Civil\", \"lang\": \"fr\", \"identifiantNomenclature\": \"1.2.250.1.213.1.6.1.10\", \"nomNomenclature\": \"TRE_R09-CategorieProfessionnelle\", \"versionNomenclature\": \"20080320092455\", \"urinomenclature\": \"https://mos.esante.gouv.fr/NOS/TRE_R09-CategorieProfessionnelle\" }, \"savoirFaire\": [ { \"type\": \"S\", \"typeSavoirFaire\": { \"valeur\": \"S\", \"libelle\": \"Spécialité ordinale\", \"identifiantNomenclature\": \"TRE_R04-TypeSavoirFaire\" }, \"specialite\": { \"valeur\": \"SM44\", \"libelle\": \"Radio-diagnostic (SM)\", \"libelleCourt\": \"Radio-diagnostic\", \"lang\": \"fr\", \"identifiantNomenclature\": \"1.2.250.1.213.2.28\", \"nomNomenclature\": \"TRE_R38-SpecialiteOrdinale\", \"versionNomenclature\": \"20151228000000\", \"urinomenclature\": \"https://mos.esante.gouv.fr/NOS/TRE_R38-SpecialiteOrdinale\" } } ], \"nomComplet\": { \"valeur\": \"XXXX\" }, \"situationExercice\": { \"numSiret\": { \"valeur\": \"XXXX\" }, \"identifiantEG\": { \"valeur\": \"XXXX\" }, \"denominationEG\": { \"valeur\": \"XXXX\" }, \"complementDenominationEG\": { \"valeur\": \"XXXX\" }, \"adresse\": { \"adresseGeocodee\": { \"valeur\": \"10 rue des lilas 33000 Bordeaux\" }, \"adresseComplete\": { \"valeur\": \"10 rue des lilas 33000 Bordeaux\" }, \"location\": { \"lat\": 45.811931, \"lon\": 2.516699 }, \"exacteLocationGps\": true, \"numeroVoie\": { \"valeur\": \"10\" }, \"libelleVoie\": { \"valeur\": \"rue des lilas\" }, \"codePostal\": { \"valeur\": \"33000\" }, \"localite\": { \"valeur\": \"Bordeaux\" }, \"internationPays\": { \"valeur\": \"99000\" }, \"cogcommune\": { \"valeur\": \"33000\", \"libelle\": \"Bordeaux\", \"nomNomenclature\": \"TRE_R13-CommuneOM\" } }, \"telecommunication\": [ { \"canal\": { \"valeur\": \"3\", \"libelle\": \"Courrier électronique\", \"libelleCourt\": \"MAIL\", \"nomNomenclature\": \"TRE_R200-CanalCommunication\" }, \"adresseTelecom\": { \"valeur\": \"xxxx@interop-mssante.apicrypt.org\" }, \"typeMessagerie\": { \"valeur\": \"MSSANTE\", \"libelle\": \"MSSANTE\", \"libelleCourt\": \"MSSANTE\", \"nomNomenclature\": \"TRE_R256-TypeMessagerie\" }, \"utilisation\": { \"valeur\": \"PER\" } }, { \"canal\": { \"valeur\": \"3\", \"libelle\": \"Courrier électronique\", \"libelleCourt\": \"MAIL\", \"nomNomenclature\": \"TRE_R200-CanalCommunication\" }, \"adresseTelecom\": { \"valeur\": \"xxx@medecin.mssante.fr\" }, \"typeMessagerie\": { \"valeur\": \"MSSANTE\", \"libelle\": \"MSSANTE\", \"libelleCourt\": \"MSSANTE\", \"nomNomenclature\": \"TRE_R256-TypeMessagerie\" }, \"utilisation\": { \"valeur\": \"PER\" } } ], \"secteurActivite\": { \"valeur\": \"SA09\", \"libelle\": \"Exercice en société\", \"libelleCourt\": \"Exercice en société\", \"lang\": \"fr\", \"identifiantNomenclature\": \"1.2.250.1.71.4.2.4\", \"nomNomenclature\": \"TRE_R02-SecteurActivite\", \"versionNomenclature\": \"20070725150444\", \"urinomenclature\": \"https://mos.esante.gouv.fr/NOS/TRE_R02-SecteurActivite\" } }, \"modeExercice\": { \"valeur\": \"L\", \"libelle\": \"Libéral, indépendant, artisan, commerçant\", \"libelleCourt\": \"Libéral,indép,artisan,commerç\", \"lang\": \"fr\", \"identifiantNomenclature\": \"1.2.250.1.213.1.6.1.18\", \"nomNomenclature\": \"TRE_R23-ModeExercice\", \"versionNomenclature\": \"20070725150443\", \"urinomenclature\": \"https://mos.esante.gouv.fr/NOS/TRE_R23-ModeExercice\" } } ], \"pageable\": { \"sort\": { \"unsorted\": false, \"sorted\": true, \"empty\": false }, \"pageNumber\": 0, \"pageSize\": 5, \"offset\": 0, \"paged\": true, \"unpaged\": false }, \"last\": true, \"totalPages\": 1, \"totalElements\": 1, \"sort\": { \"unsorted\": false, \"sorted\": true, \"empty\": false }, \"first\": true, \"number\": 0, \"numberOfElements\": 1, \"size\": 5, \"empty\": false } Pour avoir la liste complète des services de recherche proposés, se référer au swagger: https://annuaire-demo.devbox-sante.fr/swagger-ui.html\n","categories":"","description":"Annuaire des Professionnels (RPPS)\n","excerpt":"Annuaire des Professionnels (RPPS)\n","ref":"/annuaire/professionnel/","tags":"","title":"Professionnels"},{"body":"Liste des codes d’erreurs Code Constante Interprétation 10 ERR_INCONNUE Erreur inconnue 11 ERR_CARTE_ABSENTE La carte n’est pas dans la fente prévue pour elle. 12 ERR_CARTE -\u003e Voir Codes d’erreurs carte 13 ERR_LECTEUR Le lecteur de cartes ne répond pas. 15 ERR_CARTE_INCONNUE La carte n’est pas celle 17 ERR_CARTE_HORS_TENSION La carte est hors tension. 18 ERR_LOGICIEL Erreur logiciel 20 ERR_GEST_RESSOURCE Erreur ressource 21 ERR_SESSION_OUVERTE Une telle session est déjà ouverte (pour une instance de la même application) 23 ERR_EXCLUSIVITE Une application accède déjà à la carte. 25 ERR_TIMEOUT Le temps d’attente passé en paramètre est écoulé. 26 ERR_SESSION_INCONNUE La session indiquée en paramètre est inconnue (0 = session Vitale / 1 = session CPS) 30 ERR_CPS_RETIREE La CPS n’est plus en ligne (mode CPS en ligne). 31 ERR_INIT_RESSOURCE_VIT La valeur de la clé «Ressource_Vitale» est absente du fichier api_lec.ini 32 ERR_INIT_FICHIER Le fichier api_lec.ini est introuvé. 33 ERR_INIT_MODE Le fichier api_lec.ini indique un mode de fonctionnement incorrect. 34 ERR_INIT_TIMER Le fichier api_lec.ini indique une valeur incorrecte pour initialiser l’un des compteurs 35 ERR_INIT_RESSOURCE_CPS La valeur de la clé «Ressource_CPS» est absente du fichier api_lec.ini 36 ERR_VALIDITE_CPS L’état de la CPS (CPA, hors validité, incorrect) ne permet pas la lecture de la carte Vitale. 37 ERR_CARTE_INCORRECTE Les données inscrites en carte sont inexploitables ou la carte n’est pas authentique. 38 ERR_CARTE_INVALIDE La carte est incorrectement actualisée ; elle est inutilisable. 39 ERR_CARTE_BLOQUEE La carte CPS est bloquée et ne peut être utilisée pour lire la carte Vitale. 3 codes erronés ont été présentés à la carte, désormais inutilisable jusqu’à son déblocage. 40 ERR_CARTE_SATUREE La carte n’a plus de place disponible sur sa puce. 41 ERR_PINCODE_INACTIF Le code porteur de la CPS n’a pas été présenté ou est erroné 42 ERR_CARTE_TEST Le type de la carte Vitale ne concorde pas avec celui de la CPS. 43 ERR_INIT_CSV Le fichier pdt_cdc-011.csv n’est pas trouvé. 44 ERR_STRUCTURE_TABLE Le fichier tablebin.lec présente une structure inadaptée. 45 ERR_VERSION_TABLE La version de la table binaire est incompatible avec celle des API (0 = libellés / 1 = habilitations) 47 ERR_INIT_TABLE Le fichier tablebin.lec reste introuvé. 48 ERR_STRUCTURE_CSV Le fichier pdt_cdc-011.csv présente une structure inadaptée. 50 ERR_CRYPTO Erreur des API de la librairie cryptographique de l’ASIP Santé 51 ERR_CRYPTO_NON_CHARGEE La fonction est indisponible car la librairie cryptographique de l’ASIP Santé n’a pas été chargée 52 ERR_PARAM_NULL Un paramètre est renseigné à tort par la valeur NULL 53 ERR_PARAM_ADRESSE L’adresse mémoire d’un paramètre est inadaptée 54 ERR_PARAM_VALEUR La valeur de renseignement d’un paramètre est inadaptée 55 ERR_PARAM_TAILLE La taille d’un paramètre est inadaptée 56 ERR_INIT_HAB Le fichier tablebin.hab est introuvé. 57 ERR_VERSION_HAB La version de table d’habilitation est incompatible avec les API. 58 ERR_STRUCTURE_HAB Le fichier tablebin.hab présente une structure inadaptée. 60 ERR_TIMER_CTRL Le compteur de contrôle (CPS) est écoulé. 61 ERR_TIMER_INAC Le compteur d’inactivité (Vitale) est écoulé. 70 ERR_DETECT_AUTO Erreur lors de la détection automatique des cartes dans les lecteurs PC/SC 72 ERR_DETECT_CRYPTO Erreur de détection de la ressource par la librairie cryptographique de l’ASIP Santé Liste des codes d’erreurs carte Erreur Constante Interprétation ERR_CARTE ERR_CARTE_ME1_ME2 Etat de la carte incorrect pour l’ordre demandé. ERR_CARTE ERR_CARTE_VIERGE La carte n’a pas été personnalisée. ERR_CARTE ERR_CARTE_PLEINE La carte n’a plus de place disponible ERR_CARTE ERR_CARTE_COMPAC Erreur de “décompactage” des données en carte. ERR_CARTE ERR_CARTE_INEXISTANTE La carte n’est pas reconnue. ERR_DETECT_AUTO ERR_LEC_NON_DETECT Aucun lecteur PC/SC détecté ERR_DETECT_AUTO ERR_LEC_DETECT_CARTE Trop de cartes du même type détectées ERR_DETECT_AUTO ERR_LEC_CARTE_ABS Carte demandée (Vitale ou CPS) absente ","categories":"","description":"","excerpt":"Liste des codes d’erreurs Code Constante Interprétation 10 …","ref":"/5.x/vitale/howtos/codeerreurs/","tags":"","title":"Codes d'erreurs"},{"body":"Liste des codes d’erreurs Code Constante Interprétation 10 ERR_INCONNUE Erreur inconnue 11 ERR_CARTE_ABSENTE La carte n’est pas dans la fente prévue pour elle. 12 ERR_CARTE -\u003e Voir Codes d’erreurs carte 13 ERR_LECTEUR Le lecteur de cartes ne répond pas. 15 ERR_CARTE_INCONNUE La carte n’est pas celle 17 ERR_CARTE_HORS_TENSION La carte est hors tension. 18 ERR_LOGICIEL Erreur logiciel 20 ERR_GEST_RESSOURCE Erreur ressource 21 ERR_SESSION_OUVERTE Une telle session est déjà ouverte (pour une instance de la même application) 23 ERR_EXCLUSIVITE Une application accède déjà à la carte. 25 ERR_TIMEOUT Le temps d’attente passé en paramètre est écoulé. 26 ERR_SESSION_INCONNUE La session indiquée en paramètre est inconnue (0 = session Vitale / 1 = session CPS) 30 ERR_CPS_RETIREE La CPS n’est plus en ligne (mode CPS en ligne). 31 ERR_INIT_RESSOURCE_VIT La valeur de la clé «Ressource_Vitale» est absente du fichier api_lec.ini 32 ERR_INIT_FICHIER Le fichier api_lec.ini est introuvé. 33 ERR_INIT_MODE Le fichier api_lec.ini indique un mode de fonctionnement incorrect. 34 ERR_INIT_TIMER Le fichier api_lec.ini indique une valeur incorrecte pour initialiser l’un des compteurs 35 ERR_INIT_RESSOURCE_CPS La valeur de la clé «Ressource_CPS» est absente du fichier api_lec.ini 36 ERR_VALIDITE_CPS L’état de la CPS (CPA, hors validité, incorrect) ne permet pas la lecture de la carte Vitale. 37 ERR_CARTE_INCORRECTE Les données inscrites en carte sont inexploitables ou la carte n’est pas authentique. 38 ERR_CARTE_INVALIDE La carte est incorrectement actualisée ; elle est inutilisable. 39 ERR_CARTE_BLOQUEE La carte CPS est bloquée et ne peut être utilisée pour lire la carte Vitale. 3 codes erronés ont été présentés à la carte, désormais inutilisable jusqu’à son déblocage. 40 ERR_CARTE_SATUREE La carte n’a plus de place disponible sur sa puce. 41 ERR_PINCODE_INACTIF Le code porteur de la CPS n’a pas été présenté ou est erroné 42 ERR_CARTE_TEST Le type de la carte Vitale ne concorde pas avec celui de la CPS. 43 ERR_INIT_CSV Le fichier pdt_cdc-011.csv n’est pas trouvé. 44 ERR_STRUCTURE_TABLE Le fichier tablebin.lec présente une structure inadaptée. 45 ERR_VERSION_TABLE La version de la table binaire est incompatible avec celle des API (0 = libellés / 1 = habilitations) 47 ERR_INIT_TABLE Le fichier tablebin.lec reste introuvé. 48 ERR_STRUCTURE_CSV Le fichier pdt_cdc-011.csv présente une structure inadaptée. 50 ERR_CRYPTO Erreur des API de la librairie cryptographique de l’ASIP Santé 51 ERR_CRYPTO_NON_CHARGEE La fonction est indisponible car la librairie cryptographique de l’ASIP Santé n’a pas été chargée 52 ERR_PARAM_NULL Un paramètre est renseigné à tort par la valeur NULL 53 ERR_PARAM_ADRESSE L’adresse mémoire d’un paramètre est inadaptée 54 ERR_PARAM_VALEUR La valeur de renseignement d’un paramètre est inadaptée 55 ERR_PARAM_TAILLE La taille d’un paramètre est inadaptée 56 ERR_INIT_HAB Le fichier tablebin.hab est introuvé. 57 ERR_VERSION_HAB La version de table d’habilitation est incompatible avec les API. 58 ERR_STRUCTURE_HAB Le fichier tablebin.hab présente une structure inadaptée. 60 ERR_TIMER_CTRL Le compteur de contrôle (CPS) est écoulé. 61 ERR_TIMER_INAC Le compteur d’inactivité (Vitale) est écoulé. 70 ERR_DETECT_AUTO Erreur lors de la détection automatique des cartes dans les lecteurs PC/SC 72 ERR_DETECT_CRYPTO Erreur de détection de la ressource par la librairie cryptographique de l’ASIP Santé Liste des codes d’erreurs carte Erreur Constante Interprétation ERR_CARTE ERR_CARTE_ME1_ME2 Etat de la carte incorrect pour l’ordre demandé. ERR_CARTE ERR_CARTE_VIERGE La carte n’a pas été personnalisée. ERR_CARTE ERR_CARTE_PLEINE La carte n’a plus de place disponible ERR_CARTE ERR_CARTE_COMPAC Erreur de “décompactage” des données en carte. ERR_CARTE ERR_CARTE_INEXISTANTE La carte n’est pas reconnue. ERR_DETECT_AUTO ERR_LEC_NON_DETECT Aucun lecteur PC/SC détecté ERR_DETECT_AUTO ERR_LEC_DETECT_CARTE Trop de cartes du même type détectées ERR_DETECT_AUTO ERR_LEC_CARTE_ABS Carte demandée (Vitale ou CPS) absente ","categories":"","description":"","excerpt":"Liste des codes d’erreurs Code Constante Interprétation 10 …","ref":"/6.x/composants/vitale/howtos/codeerreurs/","tags":"","title":"Codes d'erreurs"},{"body":"Chacun de nos clients dispose d’une image Docker contenant les éléments de la DevBox-Santé adaptés à leur besoin directement sur le hub de Docker :\nIl vous suffit donc de “PULLER” l’image :\ndocker pull devboxsante/clientname:tagname Configuration de l’image Variable d’environnements Dans le fichier de configuration application.yml est disposée des variables d’environnements permettant de forcer une configuration spécifique. Comme par exemple en surchargeant l’url du DMP : docker run --name devbox-sante -p 8080:8080 -d \\ -e DEVBOX_DMP_URL='https://devh.lps2.dmp.gouv.fr/si-dmp-server/v2/services' devboxsante/clientname:latest Vous pouvez même mettre toutes vos variables dans un fichier : docker run --name devbox-sante-clientname -d --env-file=clientname.env -p 8080:8080 devboxsante/clientname:tagname Gérer la mémoire de l’image La mémoire par défaut défini par docker pour un container peut ne pas être suffisante. Il suffit de demander à Docker un peu plus de ressource pour le container .\nComme par exemple 1 giga de RAM :\ndocker run -m1g ... Plus d’information sur la documentation Docker : https://docs.docker.com/config/containers/resource_constraints/\nLa mémoire en usage normal de la DevBox-Santé doit osciller entre 400 et 700 Mo.\nRecréer une image Vous pouvez même recréer une image en déposant votre configuration et autres certificats. Comme par exemple pour remplacer le fichier application.yml fourni par défaut :\nFROM devboxsante/devbox:version WORKDIR /workspace EXPOSE 8080 COPY asip-p12-EL-TEST-ORG-SIGN.p12 /workspace/sign.p12 COPY asip-p12-EL-TEST-ORG-AUTH.p12 /workspace/auth.p12 COPY application-clientname.yml /workspace/BOOT-INF/classes/application.yml Une image permettant la génération des INS_DATAMATRIX Les datamatrix générées par nos outils, ne permettent pas d’accéder à l’environnement graphique et génère une erreur de chargement de FONT. Cf. le stackoverflow sur ce sujet : https://stackoverflow.com/questions/69814102/spring-boot-in-docker-build-by-buildpack-cannot-load-font\nDonc en attendant que notre issue https://devbox-sante.atlassian.net/browse/INSI-64 soit réglée et que les Datamatrix puissent être générés dans un environnement docker depuis l’image livrée, vous pouvez générer une nouvelle image en installant la fontconfig nécessaire.\nFROM devboxsante/devbox:version USER root RUN apt-get update \u0026\u0026 \\ apt-get install --assume-yes fontconfig \u0026\u0026 \\ rm -rf /var/lib/apt/lists/* /var/cache/debconf/* EXPOSE 8080 Mettre l’image en debug SSL Pour activer les debug SSL du handshake parfois nécessaire pour diagnostiquer un problème d’authentification via certificats :\ndocker run --env=JAVA_OPTS=-Djavax.net.debug=ssl,handshake ... ","categories":"","description":"Un container docker pour tous les composants de la DevBox-santé dans votre environnement HDS.\n","excerpt":"Un container docker pour tous les composants de la DevBox-santé dans …","ref":"/5.x/installer/docker/","tags":"","title":"Un container docker"},{"body":"INSi Client Le module insi-impl, fournit l’implémentation de la facade INSiClient qui intègre les composant devboxsante-cps-api et devboxsante-vitale-api et accède au téléservice INSi géré par SesamVitale.\nExemple de code dans une application Spring Boot :\npublic class MonIntegrationINSi { @Autowired INSiClient client; public void maMethode() { // ma recherche avec carte vitale final INSiContext context = new INSiContext(); context.setIdentifiantFacturation(\"3333333\"); client.ins1RechercheAvecVitale(context); // ma recherche sans carte vitale final INS2Requete requete = new INS2Requete(); requete.setDateNaissance(\"01011981\"); requete.setIdentifiantFacturation(\"3333333\"); requete.setNomNaissance(\"ADRDEUX\"); requete.setSexe(Sexe.M); requete.setPrenoms(Collections.singletonList(\"LAURENT\")); client.ins2RechercheAvecTraitIdentite(requete); // ma vérification final INS3Requete requete = new INS3Requete(); requete.setIns(INSWithCle.newInstance(\"1810163220751\", \"40\", INSAutorite.INS_NIR)); final TraitsIdentiteINS traits = new TraitsIdentiteINS(); traits.setNomFamille(\"ADRDEUX\"); traits.setPrenom(\"LAURENT\"); traits.setListePrenoms(\"LAURENT\"); traits.setSexeAdministratif(Sexe.M); traits.setDateNaissance(\"1981-01-01\"); requete.setTraitsIdentite(traits); client.ins3Verification(requete); } } ","categories":"","description":"Intégrer directement dans votre application spring-boot\n","excerpt":"Intégrer directement dans votre application spring-boot\n","ref":"/5.x/insi/embedded/","tags":"","title":"Java API"},{"body":"Erreur logicielle module origine de l’erreur logicielle (Erreur : 1))\nc’est lié à un appel sans carte vitale avec une session CPS en cours, il faut changer par une lecture avec CPS .\nPC/SC ou galss ? Le galss n’est officiellement plus supporté au 31 décembre 2021, donc il faut configurer les lecteurs en PC/SC\nChangement de lecteur PC/SC -\u003e Galss Le lecteur carte vitale, enregistre dans le fichier %Program_FILES%/DevBoxSante-%client%/santesocial/api_lec/api_lec.ini les lecteurs PC/SC utilisés, une fois enregistré si l’utilisateur change de lecteur pour un lecteur bi-fente utilisant le galss, le lecteur ne sera pas détecté par la DevBoxSanté car les api sesam vitale ne recherche les lecteurs galss que si il n’y a pas de lecteurs PS/SC d’enregistrés.\nSolution: supprimer dans le fichier api_lec.ini les lecteurs enregistrés.\n[Lecteur] Ressource_Vitale= Ressource_CPS= PS: Le changement de lecteur PS/SC pour un autre PS/SC ne pose aucun soucis\n","categories":"","description":"","excerpt":"Erreur logicielle module origine de l’erreur logicielle (Erreur : 1)) …","ref":"/5.x/vitale/howtos/issues/","tags":"","title":"Problèmes connus"},{"body":"Le module cps-proxy, permet de fournit une facade REST à la VitaleFacade java.\nToutes les opérations offertes par la la façade java sont disponibles via des appels HTTP.\nExemple d’intégration possible :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Poste Client (Windows/Mac/Linux)\" { [FrontEnd intégrateur] as frontend package \"DevBox-Santé\" DEVBOX_COLOR { [interface CPS-API] as cpsFacade CPS_COLOR } [Cryptolib CPS (ANS / ASIP)] as cryptolibCPS } [BackEnd intégrateur] as backend frontend -down-\u003e cpsFacade : REST \"GET \"/cps/cardInfo\"\" cpsFacade \u003c-down-\u003e cryptolibCPS : appel natif frontend -right-\u003e backend : REST API dans Swagger Test avec Bruno Les exemples de requête Bruno : https://bitbucket.org/devbox-sante/dbx-examples-bruno/src/master/dbx/cps/3.x\nIntégration sur un environnement de démonstration Vous pouvez commencer à intégrer la DevBox-Santé CPS depuis l’environnement de démonstration.\nEn utilisant le dbx-agent : https://demo.devbox-sante.fr ","categories":"","description":"Une interface REST pour accéder à la Carte Vitale\n","excerpt":"Une interface REST pour accéder à la Carte Vitale\n","ref":"/6.x/composants/cps/rest/","tags":"","title":"REST API"},{"body":"Le module cps-proxy, permet de fournit une facade REST à la CPSFacade java.\nToutes les opérations offertes par la la façade java sont disponibles via des appels HTTP.\nExemple d’intégration possible :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Poste Client (Windows/Mac/Linux)\" { [FrontEnd intégrateur] as frontend package \"DevBox-Santé\" DEVBOX_COLOR { [DevBox-Santé Vitale API] as vitaleFacade VITALE_COLOR } [ApiVitale (SESAM-vitale)] as apiVitale } [BackEnd intégrateur] as backend frontend -down-\u003e vitaleFacade : REST \"GET \"/vitale/readVitale\"\" vitaleFacade \u003c-down-\u003e apiVitale : appel natif frontend -right-\u003e backend : REST API dans Swagger Test avec Bruno Les exemples de requête Bruno : https://bitbucket.org/devbox-sante/dbx-examples-bruno/src/master/dbx/vitale/2.x/\nIntégration sur un environnement de démonstration Vous pouvez commencer à intégrer la DevBox-Santé Vitale depuis l’environnement de démonstration.\nEn utilisant le dbx-agent : https://demo.devbox-sante.fr ","categories":"","description":"Une interface REST pour accéder à la CPS\n","excerpt":"Une interface REST pour accéder à la CPS\n","ref":"/6.x/composants/vitale/rest/","tags":"","title":"REST API"},{"body":"Le module apcv-proxy, permet de fournit une facade REST à la facade ApCvClient java. Toutes les opérations offertes par la façade java sont disponibles via des appels http.\nAPI dans Swagger Exemples d’utilisation authentifierUtilisateurProximite curl -X 'POST' \\ 'http://localhost:8080/apcv/authentifierUtilisateurProximite' \\ -H 'accept: */*' \\ -H 'Content-Type: application/json' \\ -d '{ \"requestContext\": { \"professionnelSante\": { \"specialite\": \"35\" }, \"structure\": { \"identifiantFacturation\": \"123456789\" } }, \"sourceMedia\": \"NFC\" }' La réponse du contexte ressemble à : avcv_response.json\nrestituerContexteApCV curl -X 'POST' \\ 'http://localhost:8080/apcv/restituerContexte' \\ -H 'accept: */*' \\ -H 'Content-Type: application/json' \\ -d '{ \"requestContext\": { \"professionnelSante\": { \"specialite\": \"35\" }, \"structure\": { \"identifiantFacturation\": \"123456789\" } } }' detruireContexteApCV curl -X 'POST' \\ 'http://localhost:8080/apcv/detruireContexte' \\ -H 'accept: */*' \\ -H 'Content-Type: application/json' \\ -d '{ \"requestContext\": { \"professionnelSante\": { \"specialite\": \"35\" }, \"structure\": { \"identifiantFacturation\": \"123456789\" } }, \"identifiant\": \"0474c48a-380a-424b-a038-c777a691f844\" }' ","categories":"","description":"Une interface REST pour le Téléservice APCv\n","excerpt":"Une interface REST pour le Téléservice APCv\n","ref":"/6.x/connecteurs/apcv/rest/","tags":"","title":"REST API"},{"body":"Le module insi-proxy, permet de fournit une facade REST à la facade INSiClient java. Toutes les opérations offertes par la la façade java sont disponibles via des appels http.\nAPI dans Swagger Test avec Bruno Les exemples de requête Bruno : https://bitbucket.org/devbox-sante/dbx-examples-bruno/src/master/dbx/insi/3.x/\nIntégration sur un environnement de démonstration Vous pouvez commencer à intégrer la DevBox-Santé INSi depuis l’environnement de démonstration.\nEn authentification P12 : https://demo-p12.devbox-sante.fr En utilisant le dbx-agent : https://demo.devbox-sante.fr ","categories":"","description":"Une interface REST pour le Téléservice INSi \n","excerpt":"Une interface REST pour le Téléservice INSi \n","ref":"/6.x/connecteurs/insi/rest/","tags":"","title":"REST API"},{"body":"Le proxy REST embarque l’API java dans une application REST spring-boot, elle accepte des requetes simples JSON et les retransmet au DMP dans le bon formalisme et dans le respect des différentes transactions, il interprète les réponses du serveur DMP et les retourne au client initial dans un formalisme simplifié.\nIntégration sur un environnement de démonstration Vous pouvez commencer à intégrer la DevBox-Santé DMP depuis l’environnement de démonstration.\nPour cela vous pouvez :\nconsulter toute la documentation depuis l’environnement de démonstration REST de l’API\nessayer avec une collection postman :\nAttention : Dans cet environnement de démonstration, l’authentification supportée est l’authentification indirecte par certificat. Le profil consultation ne peut dont pas être mis en œuvre.\nDéploiement avec un Java Runtime Environnement Pour démarrer le serveur, depuis une ligne de commande exécuter :\njava -Dspring.config.location=application.yml -jar dmpc-proxy-rest.jar Au lancement du serveur est chargé un fichier de configuration application.yml permettant de charger différents KeyStore les informations concernant le LPS et le serveur DMP. Il est initialisé par défaut sur un environnement de test.\nUne fois démarré, le serveur est accessible à l’url suivante : http://127.0.0.1:8080/proxy\nPour obtenir, le schéma Swagger : http://127.0.0.1:8080/swagger-ui.html\nIntégration d’une image docker Une page de documentation dédié : Docker\nUtilisation de l’installer DevBox-Santé Une page de documentation dédié : poste_client\n","categories":"","description":"Les transactions du DMP en mode REST\n","excerpt":"Les transactions du DMP en mode REST\n","ref":"/5.x/dmp/rest/","tags":"","title":"REST Proxy"},{"body":" @startuml !include https://bitbucket.org/devbox-sante/plantuml/raw/current/themes/theme-devbox-sante.puml rectangle \"Application cliente\" as AppCli { rectangle \"Front Application\" as Front #E3F2FD rectangle \"Backend Application\" as Backend #E1F5FE } rectangle \"Authentification\" as Authentification { rectangle \"Proxy eSanté DevBox\\n(IdP)\" as Proxy { rectangle \"2a - Vérification login_hint / ID national\" as Step1 rectangle \"2b - Si ID National absent, écran de saisie idNat\" as Step2 rectangle \"2c - Affichage code App e-CPS\" as Step3 } ' rectangle \"Proxy eSanté DevBox Santé\\n(Identity Provider)\" as Proxy #FFF3E0 rectangle \"Keycloak\\n(OIDC Server)\" as Keycloak #E8F5E9 rectangle \"Pro Santé Connect\\n(PSC)\" as PSC #F3E5F5 } ' --- Liaisons principales --- Front -down[#blue]-\u003e Step1 : 1- Authentification CIBA Step1 -[#blue]-\u003e Step2 Step2 -[#blue]-\u003e Step3 Step3 -[#blue]-\u003e PSC : 2 - Authentification PSC PSC -[#blue,dashed]-\u003e Proxy : 3 - Renvoie PSC Token Proxy -r[#green]-\u003e \"Keycloak\" : 4 - Token Exchange\\nPSC -\u003e Keycloak Keycloak -l[#green,dashed]-\u003e Proxy : 5 - Renvoie Token Keycloak Proxy -up[#green,dashed]-\u003e Front : 6 - Renvoie Token Keycloak @enduml Configuration du proxy Le proxy est packagé avec docker. image: repo.dev.coop/eproxy/eproxy-idp-poc:latest\nUn certain nombre de paramètres sont configurables.\nParamètres obligatoires:\nKEYCLOAK_URI : url du serveur keycloak SERVER_PORT MONGO_DB_URI (une version ultérieure permettra de tout configurer et logger en file system) SPRING_PROFILES_ACTIVE: BROKER (possibilité de rajouter SWAGGER) Exemple\ndocker run -d --name -p 443:8443 \\ -e 'SPRING_PROFILES_ACTIVE=IDP' \\ -e 'OAUTH2_SERVER_ISSUER=https://eproxy-test.devbox-sante.fr/' \\ -e 'SERVER_PORT=8443' \\ -e 'MONGO_DB_URI=mongodb://mongodb:27017/eProxy' \\ eproxy repo.dev.coop/eproxy/eproxy-idp-poc:latest POC Le proxy actuel n’est qu’un POC et ne dispose pas encore de l’ensemble des fonctionnalités prévues.\nDans l’architecture finale, le proxy ne devra pas être accessible qu’en interne. Les tokens de PSC ne devront jamais être transmis à un front.\nConfiguration EDC La configuration des clients et des routes vers les API de l’espace de confiance seront disponibles via une interface d’administration\n","categories":"","description":"Proxy en tant qu'Identity Broker\n","excerpt":"Proxy en tant qu'Identity Broker\n","ref":"/6.x/plateformes/eproxy/howtos/keycloak/solution2/","tags":"","title":"Solution 2"},{"body":" Attention :\nSuivre cette documentation ne vous dispense pas de lire attentivement le guide d’intégration “Service DMP intégré aux LPS” (SEL-MP-037) dans la version du package cible. Ce document est disponible sur l’espace industriel de Sesam-Vitale : https://industriels.sesam-vitale.fr/group/dmp-compatibilite\n","categories":"","description":"Contient un exemple d'utilisation de l'API java et curl des différentes transactions supportées.\n","excerpt":"Contient un exemple d'utilisation de l'API java et curl des …","ref":"/5.x/dmp/howtos/transactions/","tags":"","title":"Mettre en place les différentes transactions"},{"body":"Metadata { \"type\": \"string\", \"created\": \"string\", \"subClassOf\": \"string\", \"subCodeOf\": \"string\" } Champ Descriptif type Niveau dans la hierarchie (1-5) created Date au format YYYY-MM-DD subClassOf Lien vers le code parent subCodeOf Code parent Exemple: { \"valeur\": \"V09IX17\", \"libelle\": \"(18F) PSMA-1007\", \"lang\": \"fr\", \"identifiantNomenclature\": \"ATC\", \"nomNomenclature\": \"ATC\", \"metadata\": { \"type\": \"5\", \"created\": \"2023-01-01\", \"subClassOf\": \"http://data.esante.gouv.fr/whocc/atc/V09IX\", \"subCodeOf\": \"V09IX\" }, \"source\": \"https://smt.esante.gouv.fr\" } ","categories":"","description":"Description des Metadata ATC\n","excerpt":"Description des Metadata ATC\n","ref":"/annuaire/nomenclature/atc/","tags":"","title":"ATC"},{"body":"Metadata { \"type\": \"string\", \"inclusionNote\": \"string\", \"altLabel\": \"string\", \"subClassOf\": \"string\", \"subCodeOf\": \"string\" } Champ Descriptif type Type de noeud (seule category est chargée) inclusionNote Note d’inclusion altLabel Libellé alternatif subClassOf Lien vers le code parent subCodeOf Code parent Exemple: { \"valeur\": \"M15.08\", \"libelle\": \"(Ostéo)arthrose primaire généralisée - \\\" Autres \\\"\", \"lang\": \"fr\", \"identifiantNomenclature\": \"ICD-10\", \"nomNomenclature\": \"CIM10\", \"metadata\": { \"type\": \"category\", \"inclusionNote\": \"colonne vertébrale\\ncôtes\\ncou\\ncrâne\\ntête\\ntronc\\n\", \"altLabel\": \"tronc\", \"subClassOf\": \"http://data.esante.gouv.fr/atih/cim10/M15.0\", \"subCodeOf\": \"M15.0\" }, \"source\": \"https://smt.esante.gouv.fr\" } ","categories":"","description":"Description des Metadata Cim10\n","excerpt":"Description des Metadata Cim10\n","ref":"/annuaire/nomenclature/cim10/","tags":"","title":"CIM10"},{"body":"Metadata { \"codeCIS\": \"string\", \"labelCIS\": \"string\", \"statutAdministratif\": \"string\", \"etatCommercialisation\": \"string\", \"dateDeclaration\": \"string\", \"codeCIP13\": \"string\", \"codeCIP7\": \"string\", \"agrementCollectivites\": \"string\", \"tauxRembourssement\": \"string\", \"prix\": \"string\", \"indicationsRemboursement\": \"string\" } Champ Descriptif codeCIS Code CIS labelCIS Libellé CIS statutAdministratif Statut administratif de la présentation etatCommercialisation Etat de commercialisation de la présentation tel que déclaré par le titulaire de l’AMM dateDeclaration Date de la déclaration de commercialisation (format JJ/MM/AAAA) codeCIP13 Code CIP13 (Code Identifiant de Présentation à 13 chiffres) codeCIP7 Code CIP7 (Code Identifiant de Présentation à 7 chiffres) agrementCollectivites Agrément aux collectivités (“oui”, “non” ou « inconnu ») tauxRembourssement Taux de remboursement (avec un séparateur « ; » entre chaque valeur quand il y en a plusieurs) prix Prix du médicament en euro indicationsRemboursement Texte présentant les indications ouvrant droit au remboursement par l’assurance maladie s’il y a plusieurs taux de remboursement pour la même présentation Exemple: { \"valeur\": \"3400930222973\", \"libelle\": \" 1 dispositif en plastique contenant 60 récipients unidoses (Aluminium/OPA/PVC)\", \"lang\": \"fr\", \"identifiantNomenclature\": \"CIP\", \"nomNomenclature\": \"CIP\", \"versionNomenclature\": \"\", \"metadata\": { \"codeCIS\": \"68306249\", \"labelCIS\": \"PROPIONATE DE FLUTICASONE/SALMETEROL ZENTIVA 500 microgrammes/50 microgrammes/dose, poudre pour inhalation en récipient unidose\", \"statutAdministratif\": \"Présentation active\", \"etatCommercialisation\": \"Déclaration de commercialisation\", \"dateDeclaration\": \"08/07/2022\", \"codeCIP13\": \"3400930222973\", \"codeCIP7\": \"3022297\", \"agrementCollectivites\": \"oui\", \"tauxRembourssement\": \"65 %\", \"prix\": \"21,11\", \"indicationsRemboursement\": \"22,13\", \"enhancedMonitoring\": \"1,02\" }, \"source\": \"http://base-donnees-publique.medicaments.gouv.fr/\" } ","categories":"","description":"Description des Metadata CIP\n","excerpt":"Description des Metadata CIP\n","ref":"/annuaire/nomenclature/cip/","tags":"","title":"CIP"},{"body":"Metadata { \"formePharmaceutique\": \"string\", \"voiesAdministration\": \"string\", \"ammStatutAdministratif\": \"string\", \"ammTypeProcedure\": \"string\", \"ammEtatCommercialisation\": \"string\", \"ammDate\": \"string\", \"statutBdm\": \"string\", \"numeroAuthorizationEuropenne\": \"string\", \"titulaire\": \"string\", \"surveillanceRenforcee\": \"string\", \"cpd\": \"string\", \"composition\": { \"designationElementPharmaceutique\": \"string\", \"codeSubstance\": \"string\", \"denominationSubstance\": \"string\", \"dosageSubstance\": \"string\", \"refDosage\": \"string\", \"natureComposant\": \"string\", \"numeroLien\": \"string\" } } Champ Descriptif formePharmaceutique Forme pharmaceutique voiesAdministration Voies d’administration (avec un séparateur « ; » entre chaque valeur quand il y en a plusieurs) ammStatutAdministratif Statut administratif de l’autorisation de mise sur le marché (AMM) ammTypeProcedure Type de procédure d’autorisation de mise sur le marché (AMM) ammEtatCommercialisation Etat de commercialisation ammDate Date d’AMM (format JJ/MM/AAAA) statutBdm StatutBdm : valeurs possibles : « Alerte » ou « Warning disponibilité » numeroAuthorizationEuropenne Numéro de l’autorisation européenne titulaire Titulaire(s) : S’il y a plusieurs titulaires, les valeurs seront séparées par des « ; » surveillanceRenforcee Surveillance renforcée (triangle noir) : valeurs « Oui » ou « Non » cpd Condition de prescription ou de délivrance composition Composition composition: designationElementPharmaceutique Désignation de l’élément pharmaceutique composition: codeSubstance Code de la substance composition: denominationSubstance Dénomination de la substance composition: dosageSubstance Dosage de la substance composition: refDosage Référence de ce dosage (exemple : “[pour] un comprimé”) composition: natureComposant Nature du composant (principe actif : « SA » ou fraction thérapeutique : « ST ») composition: numeroLien Numéro permettant de lier, le cas échéant, substances actives et fractions thérapeutiques Exemple: { \"valeur\": \"61266250\", \"libelle\": \"A 313 200 000 UI POUR CENT, pommade\", \"lang\": \"fr\", \"identifiantNomenclature\": \"CIS\", \"nomNomenclature\": \"CIS\", \"versionNomenclature\": \"\", \"metadata\": { \"formePharmaceutique\": \"pommade\", \"voiesAdministration\": \"cutanée\", \"ammStatutAdministratif\": \"Autorisation active\", \"ammTypeProcedure\": \"Procédure nationale\", \"ammEtatCommercialisation\": \"Commercialisée\", \"ammDate\": \"12/03/1998\", \"statutBdm\": \"\", \"numeroAuthorizationEuropenne\": \"\", \"titulaire\": \" PHARMA DEVELOPPEMENT\", \"surveillanceRenforcee\": \"Non\", \"composition\": { \"designationElementPharmaceutique\": \"pommade\", \"codeSubstance\": \"77887\", \"denominationSubstance\": \"CONCENTRAT DE VITAMINE A SYNTHÉTIQUE, FORME HUILEUSE\", \"dosageSubstance\": \"200 000 UI\", \"refDosage\": \"100 g de pommade\", \"natureComposant\": \"SA\", \"numeroLien\": \"1\" } }, \"source\": \"http://base-donnees-publique.medicaments.gouv.fr/\" } ","categories":"","description":"Description des Metadata CIS\n","excerpt":"Description des Metadata CIS\n","ref":"/annuaire/nomenclature/cis/","tags":"","title":"CIS"},{"body":"Recherche des établissements de santé\nModèle Finess Le modèle s’appuie sur le modèle du MOS\n{ \"distance\": 0, \"id\": \"string\", \"numFINESSET\": \"Identifiant\", \"numFINESSEJ\": \"Identifiant\", \"numSiret\": \"Identifiant\", \"denominationEG\": \"Texte\", \"denominationEGLongue\": \"Texte\", \"complementDenominationEG\": \"Texte\", \"categorieEtablissement\": \"Code:TRE_R66-CategorieEtablissement\", \"codeAPE\": \"Code\", \"adresse\": \"Adresse\", \"telecommunication\": [\"Telecommunication\"] } La distance est uniquement utilisé lors de la recherche basée sur la géolocalisation, il sert à indiquer la distance qui le sépare du centre de la recherche.\nExemple de recherche curl -X GET \"https://annuaire-demo.devbox-sante.fr/annuaire/finess?size=5\u0026sort=denominationEG.valeur,asc\u0026raisonSociale=Pellegrin%20perrens\" -H \"accept: */*\" { \"content\": [ { \"id\": \"330060369_330781287\", \"numFINESSET\": { \"valeur\": \"330060369\" }, \"numFINESSEJ\": { \"valeur\": \"330781287\" }, \"numSiret\": { \"valeur\": \"26330584900196\" }, \"denominationEG\": { \"valeur\": \"CH CHARLES PERRENS - SITE PELLEGRIN\" }, \"denominationEGLongue\": { \"valeur\": \"CH CHARLES PERRENS - SITE PELLEGRIN\" }, \"categorieEtablissement\": { \"valeur\": \"292\", \"libelle\": \"Centre Hospitalier Spécialisé lutte Maladies Mentales\", \"libelleCourt\": \"C.H.S. Mal.Mentales\", \"lang\": \"fr\", \"identifiantNomenclature\": \"1.2.250.1.213.1.6.1.8\", \"nomNomenclature\": \"TRE_R66-CategorieEtablissement\", \"versionNomenclature\": \"19790101000000\", \"urinomenclature\": \"https://mos.esante.gouv.fr/NOS/TRE_R66-CategorieEtablissement\" }, \"adresse\": { \"adresseGeocodee\": { \"valeur\": \"Place Amélie Raba Léon 33000 Bordeaux\" }, \"adresseComplete\": { \"valeur\": \"CEDEX Place AMELIE RABA LEON 33076 bordeaux\" }, \"location\": { \"lat\": 44.830772, \"lon\": -0.603196 }, \"exacteLocationGps\": true, \"extension\": { \"valeur\": \"CEDEX\" }, \"typeVoie\": { \"valeur\": \"PL\", \"libelle\": \"Place\", \"libelleCourt\": \"PL\", \"lang\": \"fr\", \"identifiantNomenclature\": \"1.2.250.1.213.2.44\", \"nomNomenclature\": \"TRE_R35-TypeVoie\", \"versionNomenclature\": \"20151230000000\", \"urinomenclature\": \"https://mos.esante.gouv.fr/NOS/TRE_R35-TypeVoie\" }, \"libelleVoie\": { \"valeur\": \"AMELIE RABA LEON\" }, \"codePostal\": { \"valeur\": \"33076\" }, \"localite\": { \"valeur\": \"BORDEAUX\" }, \"cogcommune\": { \"valeur\": \"33063\", \"libelle\": \"Bordeaux\", \"nomNomenclature\": \"TRE_R13-CommuneOM\" } }, \"telecommunication\": [ { \"canal\": { \"valeur\": \"3\", \"libelle\": \"Courrier électronique\", \"libelleCourt\": \"MAIL\", \"nomNomenclature\": \"TRE_R200-CanalCommunication\" }, \"adresseTelecom\": { \"valeur\": \"xxxxx\" }, \"typeMessagerie\": { \"valeur\": \"MSSANTE\", \"libelle\": \"MSSANTE\", \"libelleCourt\": \"MSSANTE\", \"nomNomenclature\": \"TRE_R256-TypeMessagerie\" }, \"utilisation\": { \"valeur\": \"ORG\" } }, { \"canal\": { \"valeur\": \"3\", \"libelle\": \"Courrier électronique\", \"libelleCourt\": \"MAIL\", \"nomNomenclature\": \"TRE_R200-CanalCommunication\" }, \"adresseTelecom\": { \"valeur\": \"xxxx\" }, \"typeMessagerie\": { \"valeur\": \"MSSANTE\", \"libelle\": \"MSSANTE\", \"libelleCourt\": \"MSSANTE\", \"nomNomenclature\": \"TRE_R256-TypeMessagerie\" }, \"utilisation\": { \"valeur\": \"ORG\" } } ] } ], \"pageable\": { \"sort\": { \"unsorted\": false, \"sorted\": true, \"empty\": false }, \"pageNumber\": 0, \"pageSize\": 5, \"offset\": 0, \"paged\": true, \"unpaged\": false }, \"last\": true, \"totalPages\": 1, \"totalElements\": 1, \"sort\": { \"unsorted\": false, \"sorted\": true, \"empty\": false }, \"first\": true, \"number\": 0, \"numberOfElements\": 1, \"size\": 5, \"empty\": false } Pour avoir la liste complète des services de recherche proposés, se référer au swagger: https://annuaire-demo.devbox-sante.fr/swagger-ui.html\n","categories":"","description":"Annuaire des établissement (FINESS)\n","excerpt":"Annuaire des établissement (FINESS)\n","ref":"/annuaire/finess/","tags":"","title":"Etablissements"},{"body":"Les nomenclatures sont des listes de Code avec pour certaines nomenclatures des metadata spécifiques\nNomenclature Description Metadata spécifiques CIM10 Classification internationale des maladies, 10e révision Source: https://smt.esante.gouv.fr Metadata ATC CIM11 Classification internationale des maladies, 11e révision Source: https://smt.esante.gouv.fr CCAM Classification commune des actes médicaux Source: https://www.ameli.fr CIP Base des présentation des médicaments et Informations Tarifaires Source: https://base-donnees-publique.medicaments.gouv.fr Metadata CIP CIS Base des spécialité des médicaments Source: https://base-donnees-publique.medicaments.gouv.fr Metadata CIS ATC Système de classification anatomique, thérapeutique et chimique Source: https://smt.esante.gouv.fr Metadata ATC CAISSE_REGIME Liste des caisses de sécurité sociale NOS Nomenclature des objets de santé (voir la liste complète) Source: https://esante.gouv.fr ","categories":"","description":"Liste des nomenclatures\n","excerpt":"Liste des nomenclatures\n","ref":"/annuaire/nomenclature/","tags":"","title":"Nomenclatures"},{"body":"TRE_A00-ProducteurDocNonPS\nTRE_A01-CadreExercice\nTRE_A02-ProfessionSavFaire-CISIS\nTRE_A03-ClasseDocument\nTRE_A04-Loinc\nTRE_A05-TypeDocComplementaire\nTRE_A06-FormatCodeComplementaire\nTRE_A07-StatutVisibiliteDocument\nTRE_A08-HL7Confidentiality\nTRE_A09-DICOMuidRegistry\nTRE_A10-NomenclatureURN\nTRE_A11-IheFormatCode\nTRE_A12-NomenclatureASTM\nTRE_A13-HL7ParticipationType\nTRE_G00-Langue\nTRE_G01-CategorieProduit\nTRE_G02-TypeProduit\nTRE_G03-CiviliteCPx\nTRE_G04-NiveauResponsabiliteCPx\nTRE_G05-SousSectionTableauCNOP\nTRE_G07-TypeIdentifiantStructure\nTRE_G08-TypeIdentifiantPersonne\nTRE_G09-DepartementOM\nTRE_G100-Specialite-AM\nTRE_G11-NatureQualificationADELI\nTRE_G12-SpecialiteADELI\nTRE_G13-OrientationParticuliere\nTRE_G15-ProfessionSante\nTRE_G16-ProfessionFormation\nTRE_G17-ModeExerciceCPx\nTRE_G18-AttributionParticuliereADELI\nTRE_G19-SecteurActiviteADELI\nTRE_G20-Specialisation\nTRE_R01-EnsembleSavoirFaire-CISIS\nTRE_R02-SecteurActivite\nTRE_R03-AttributionParticuliere\nTRE_R04-TypeSavoirFaire\nTRE_R06-SectionTableauCNOP\nTRE_R09-CategorieProfessionnelle\nTRE_R10-SexeAdministratif\nTRE_R11-CiviliteExercice\nTRE_R13-CommuneOM\nTRE_R14-TypeDiplome\nTRE_R16-LieuFormation\nTRE_R17-TypeAutorisation\nTRE_R18-DisciplineAutorisation\nTRE_R20-Pays\nTRE_R200-CanalCommunication\nTRE_R201-TypeDivisionTerritoriale\nTRE_R202-AccessibiliteLieu\nTRE_R203-StatutLieu\nTRE_R204-DirectionLongitude\nTRE_R205-DirectionLatitude\nTRE_R206-TypeContact\nTRE_R207-TypeOrganisationInterne\nTRE_R208-ClasseAge\nTRE_R209-TypeActivite\nTRE_R21-Fonction\nTRE_R210-ActeSpecifique\nTRE_R211-ActiviteOperationnelle\nTRE_R212-Equipement\nTRE_R213-ModePriseEnCharge\nTRE_R214-SpecialiteUnite\nTRE_R215-UniteTemps\nTRE_R216-HL7RoleCode\nTRE_R217-ProtectionJuridique\nTRE_R218-ModeAuthentification\nTRE_R219-Au TREResponsableConsent\nTRE_R22-GenreActivite\nTRE_R220-ModeleDocumentCDAStructure\nTRE_R221-ModeleDocumentCDANonStructure\nTRE_R222-MediaTypeCorpsCDANonStructure\nTRE_R223-NatCycleForm\nTRE_R224-NiveauFormAcquis\nTRE_R225-AnneeUniversitaire\nTRE_R226-Dip2iemeCycleNQ\nTRE_R227-ChampActivite\nTRE_R228-UnitePrix\nTRE_R23-ModeExercice\nTRE_R230-Devise\nTRE_R231-PalierAuthentification\nTRE_R232-TypeFermetureEJ\nTRE_R233-TypeFermetureEG\nTRE_R234-TypeNote\nTRE_R236-ModeGestion\nTRE_R237-GroupeTarifaireDependance\nTRE_R238-OuvertureAnnuelle\nTRE_R239-PublicPrisEnCharge\nTRE_R24-TypeActiviteLiberale\nTRE_R240-TemporaliteAccueil\nTRE_R241-AideFinanciere\nTRE_R242-TypeHabitation\nTRE_R243-CompetenceSpecifique\nTRE_R244-CategorieOrganisation\nTRE_R245-SpecialisationDePriseEnCharge\nTRE_R246-TypeTarif\nTRE_R247-UcumUniteMesure\nTRE_R248_ModeAcces\nTRE_R249-Sexe\nTRE_R25-MotifFinActivite\nTRE_R250-ConditionTarifaire\nTRE_R251-FonctionContact\nTRE_R252-TypeHoraire\nTRE_R253-TypeMaternite\nTRE_R254-TypeEvenement\nTRE_R255-FluxStandardise\nTRE_R256-TypeMessagerie\nTRE_R257-TypeBAL\nTRE_R258-RelationPriseCharge\nTRE_R259-HL7ParticipationFunction\nTRE_R260-HL7RoleClass\nTRE_R261-Au TRESalarieStructureSante\nTRE_R262-CategorieSocioProfessionnelle\nTRE_R263-TypeNumeroIdentification\nTRE_R264-PrestationNonObligatoireIncluse\nTRE_R265-PrestationPilotageSerafin\nTRE_R266-FamilleActiviteOperationnelleHorsSerafin\nTRE_R267-SexeProvenanceISO\nTRE_R268-PaysProvenanceISO\nTRE_R269-AvailabilityStatusProvenanceOasis\nTRE_R270-AvailabilityStatus\nTRE_R271-TypeRequete\nTRE_R272-EquipementMaterielLourd\nTRE_R274-ActiviteSanitaireRegulee\nTRE_R275-ModaliteActivite\nTRE_R276-FormeActivite\nTRE_R277-CategorieActiviteSanitaireRegulee\nTRE_R278-FinessConvention\nTRE_R279-Clientele\nTRE_R280-DisciplineEquipementSocial\nTRE_R281-DisciplineEnseignement\nTRE_R282-CNAMAmeliSecteurConventionnement\nTRE_R283-NiveauConfidentialite\nTRE_R284-NiveauRecoursORSAN\nTRE_R285-TraitementDocument\nTRE_R286-TypeFermeture\nTRE_R287-NatureContact\nTRE_R288-TypeProfession\nTRE_R289-TypeFonction\nTRE_R290-RoleAdmTechSanitaireSocial\nTRE_R291-Au TREProfession\nTRE_R292-INSEECategorieSocioProfessionnelleAgrNiv1\nTRE_R293-AgregatClienteleNiv2\nTRE_R294-AgregatClienteleNiv3\nTRE_R295-AgregatDisciplineEnseignNiv1\nTRE_R296-AgregatDisciplineEnseignNiv2\nTRE_R297-AgregatDisciplineEnseignNiv3\nTRE_R298-AgregatDisciplineEquipSocNiv1\nTRE_R299-AgregatDisciplineEquipSocNiv2\nTRE_R30-RegionOM\nTRE_R300-AgregatDisciplineEquipSocNiv3\nTRE_R301-SourceInformationInstallation\nTRE_R302-ContexteCodeComplementaire\nTRE_R303-HL7v3AdministrativeGender\nTRE_R304-HL7v3ActCode\nTRE_R305-TypeRencon TRE\nTRE_R306-CLADIMED\nTRE_R307-NCIT\nTRE_R308-TAASIP\nTRE_R309-FMA\nTRE_R31-StatutEtatCivil\nTRE_R310-CIM10ATIH\nTRE_R311-RegroupementSurCIM10ATIH\nTRE_R312-LPP\nTRE_R313-CISP2\nTRE_R314-TypeCreneau\nTRE_R316-Au TRECategorieEtablissement\nTRE_R317-SituationVieQuotidienne\nTRE_R318-BesoinAideMobilite\nTRE_R319-BesoinAideVieSociale\nTRE_R32-StatutHospitalier\nTRE_R320-BesoinCommunication\nTRE_R321-BesoinEn TREtienPersonnel\nTRE_R322-BesoinMobilite\nTRE_R323-BesoinScolarite\nTRE_R324-BesoinSoutienProjetProfessionnel\nTRE_R325-SituationProfessionnelle\nTRE_R326-SituationSansEmploi\nTRE_R327-TypeDecision\nTRE_R328-TypeScolarisation\nTRE_R329-NatureCapacite\nTRE_R33-StatutInscription\nTRE_R330-TypeStatutCapacite\nTRE_R331-TemporaliteCapacite\nTRE_R332-GenreCapacite\nTRE_R333-TypeFermetureCapacite\nTRE_R334-TypeLitSupplementaire\nTRE_R335-TypeSourceCapacite\nTRE_R336-TypeCrise\nTRE_R337-AffectationTemporaire\nTRE_R338-ModaliteAccueil\nTRE_R34-StatutProfessionnelSSA\nTRE_R340-TypeCaracteristiqueEquipement\nTRE_R341-StatutCommunication\nTRE_R342-XdsTypesIdentifiantsReferenceId\nTRE_R343-FonctionLieu\nTRE_R344-NiveauExpertise\nTRE_R345-TypeIdentifiantAu TRE\nTRE_R348-FormationSpecialiseeTransversale\nTRE_R349-ActionAnomalie\nTRE_R35-TypeVoie\nTRE_R350-ThematiqueAnomalie\nTRE_R352-StatutMetierAnomalie\nTRE_R354-TypeIdentifian TREssourceOperationnelle\nTRE_R355-TypeIdentifiantOffre\nTRE_R356-ProfessionRessource\nTRE_R357-StatutPersonnePriseCharge\nTRE_R358-MotifStatutPersonnePriseCharge\nTRE_R36-Au TREDiplomeObtenu\nTRE_R37-TypeProfessionFonction\nTRE_R38-SpecialiteOrdinale\nTRE_R39-Competence\nTRE_R40-CompetenceExclusive\nTRE_R42-DESCnonQualifiant\nTRE_R43-CapaciteSavoirFaire\nTRE_R44-QualificationPAC\nTRE_R45-FonctionQualifiee\nTRE_R46-SpecialiteConcoursHospitalier\nTRE_R48-DiplomeEtatFrancais\nTRE_R49-DiplomeEtudeSpecialisee\nTRE_R50-DESCGroupe1Diplome\nTRE_R51-DESCGroupe2Diplome\nTRE_R52-CapaciteDiplome\nTRE_R53-DiplomePaysEEE\nTRE_R54-DiplomeUniversiteInterUniversitaire\nTRE_R55-CertificatEtudeSpeciale\nTRE_R56-Attestation\nTRE_R57-DiplomeEuropeenEtudeSpecialisee\nTRE_R58-Au TRETypeDiplome\nTRE_R60-AutoriteEnregis TREment\nTRE_R62-Domaine\nTRE_R63-AgregatCategorieEtablissementNiv1\nTRE_R64-AgregatCategorieEtablissementNiv2\nTRE_R65-AgregatCategorieEtablissement\nTRE_R66-CategorieEtablissement\nTRE_R67-TypeStructure-EJ-EG\nTRE_R68-FinessAgregatStatutJuridiqueNiv1\nTRE_R69-FinessAgregatStatutJuridiqueNiv2\nTRE_R70-FinessAgregatStatutJuridique\nTRE_R72-FinessStatutJuridique\nTRE_R73-ESPIC\nTRE_R74-ModeFixationTarifaire\nTRE_R75-InseeNAFrev2Niveau5\nTRE_R78-ProfilAccesReferentiel\nTRE_R81-Civilite\nTRE_R82-Ordre\nTRE_R84-ProfilAccesAnnuaire-MSSante\nTRE_R85-RolePriseCharge\nTRE_R86-ProfilVIHF\nTRE_R87-TypeCarte\nTRE_R88-TerritoireSante\nTRE_R89-RegroupementPays\nTRE_R90-TypeAE\nTRE_R94-ProfessionSocial\nTRE_R95-UsagerTi TRE\nTRE_R96-Au TREFonctionSanitaire\nTRE_R97-DroitExerciceCompl\n","categories":"","description":"Liste des nomenclatures du NOS\n","excerpt":"Liste des nomenclatures du NOS\n","ref":"/annuaire/nomenclature/nos/","tags":"","title":"NOS"},{"body":"Le référencement de votre intégration DMP se fait auprès du CNDA : https://cnda.ameli.fr/\nCette procédure de référencement est décrite dans l’article 6 des conditions contractuelles disponible sur la plateforme : https://sicnda.ameli.fr Elle se déroule en trois phases :\nPhase 1 : pré-requis Phase 2 : Pré-examen Phase 3 : Examen de conformité ATTENTION : la première phase est soumis à validation par DEVCOOP.\nSéquencememt de la procédure administrative Voici en résumé la procédure administrative :\nRécupérer les condition contractuelles DMP la plateforme du CNDA : https://sicnda.ameli.fr/#/documentation/ccc Demander une attestation à DEVCOOP de possession d’un contrat de licence de la DevBox-santé puis la transmettre via la plateforme. Valider les conditions et leurs annexes avec le(s) mode(s) d’authentification et profil(s) choisi(s) (support de DEVCOOP possible) depuis la nouvelle plateforme. Validation par le CNDA du dossier dans la plateforme. Récupérer les autorisations d’accés aux différents environnements et en tester les accès Faire Valider la Phase 1 par DEVCOOP Remplir, signer et envoyer au CNDA le fichier ATTESTATION_Realisation_Prerequis_DMPC_Vx.pdf disponible avec les conditions contractuelles téléchargées, en cohérence avec la réalisation des tests de la phase 1. Début de l’examen par le CNDA Phase 2 : Pré-Examen (VALIDATION_CNDA) Phase 3 : Examen de conformité (VALIDATION_CNDA) ","categories":"","description":"Tout savoir sur le référencement de votre logiciel\n","excerpt":"Tout savoir sur le référencement de votre logiciel\n","ref":"/5.x/dmp/howtos/homologation/","tags":"","title":"Homologation / Référencement"},{"body":"Le référencement de votre intégration DMP se fait auprès du CNDA : https://cnda.ameli.fr/\nCette procédure de référencement est décrite dans l’article 6 des conditions contractuelles disponible sur la plateforme : https://sicnda.ameli.fr Elle se déroule en trois phases :\nPhase 1 : pré-requis Phase 2 : Pré-examen Phase 3 : Examen de conformité ATTENTION : la première phase est soumis à validation par DEVCOOP.\nSéquencememt de la procédure administrative Voici en résumé la procédure administrative :\nRécupérer les condition contractuelles DMP la plateforme du CNDA : https://sicnda.ameli.fr/#/documentation/ccc Demander une attestation à DEVCOOP de possession d’un contrat de licence de la DevBox-santé puis la transmettre via la plateforme. Valider les conditions et leurs annexes avec le(s) mode(s) d’authentification et profil(s) choisi(s) (support de DEVCOOP possible) depuis la nouvelle plateforme. Validation par le CNDA du dossier dans la plateforme. Récupérer les autorisations d’accés aux différents environnements et en tester les accès Faire Valider la Phase 1 par DEVCOOP Remplir, signer et envoyer au CNDA le fichier ATTESTATION_Realisation_Prerequis_DMPC_Vx.pdf disponible avec les conditions contractuelles téléchargées, en cohérence avec la réalisation des tests de la phase 1. Début de l’examen par le CNDA Phase 2 : Pré-Examen (VALIDATION_CNDA) Phase 3 : Examen de conformité (VALIDATION_CNDA) ","categories":"","description":"Tout savoir sur le référencement de votre logiciel\n","excerpt":"Tout savoir sur le référencement de votre logiciel\n","ref":"/6.x/connecteurs/dmp/howtos/homologation/","tags":"","title":"Homologation / Référencement"},{"body":"Ce projet contient l’API java proposé par la DevBox-santé pour l’intégration du téléservice. Pour une description de l’INS, consultez la page de l’ANS : https://esante.gouv.fr/securite/identite-nationale-de-sante\nElle est basée sur le Guide d’intégration du GIE SESAM-Vitale SEL-MP-043 : https://www.sesam-vitale.fr/documents/20182/75606/SEL-MP-043_01-00_INSi+sans+MR/92d6e408-012d-4dc5-9fd1-d3bdda78735a\nCette API respecte quand c’est possible le Modèle d’Objet de Santé proposé par l’ANS\nGlossaire ANS : Agence du Numérique en Santé CPS / CPx : Carte de Professionnel de Santé INS : Identité National de Santé INSi : Identité National de Santé integré MOS : Modèle d’Objets de Santé ","categories":"","description":"Téléservice Identité National de Santé (INS) intégré aux LPS \n","excerpt":"Téléservice Identité National de Santé (INS) intégré aux LPS \n","ref":"/5.x/insi/","tags":"","title":"INSi"},{"body":"INSi Client Le module insi-impl, fournit l’implémentation de la facade INSiClient qui intègre les composant devboxsante-cps-api et devboxsante-vitale-api et accède au téléservice INSi géré par SesamVitale.\nExemple de code dans une application Spring Boot :\npublic class MonIntegrationINSi { @Autowired INSiClient client; public void maMethode() { // ma recherche avec carte vitale final INSiContext context = new INSiContext(); context.setIdentifiantFacturation(\"3333333\"); client.ins1RechercheAvecVitale(context); // ma recherche sans carte vitale final INS2Requete requete = new INS2Requete(); requete.setDateNaissance(\"01011981\"); requete.setIdentifiantFacturation(\"3333333\"); requete.setNomNaissance(\"ADRDEUX\"); requete.setSexe(Sexe.M); requete.setPrenoms(Collections.singletonList(\"LAURENT\")); client.ins2RechercheAvecTraitIdentite(requete); // ma vérification final INS3Requete requete = new INS3Requete(); requete.setIns(INSWithCle.newInstance(\"1810163220751\", \"40\", INSAutorite.INS_NIR)); final TraitsIdentiteINS traits = new TraitsIdentiteINS(); traits.setNomFamille(\"ADRDEUX\"); traits.setPrenom(\"LAURENT\"); traits.setListePrenoms(\"LAURENT\"); traits.setSexeAdministratif(Sexe.M); traits.setDateNaissance(\"1981-01-01\"); requete.setTraitsIdentite(traits); client.ins3Verification(requete); } } ","categories":"","description":"Intégrer directement dans votre application spring-boot\n","excerpt":"Intégrer directement dans votre application spring-boot\n","ref":"/6.x/connecteurs/insi/embedded/","tags":"","title":"Java API"},{"body":"Le module insi-proxy, permet de fournit une facade REST à la facade INSiClient java. Toutes les opérations offertes par la la façade java sont disponibles via des appels http sur le poste local.\nIntégration sur un environnement de démonstration Vous pouvez commencer à intégrer la DevBox-Santé INSi depuis l’environnement de démonstration.\nPour cela vous pouvez :\nconsulter toute la documentation depuis l’environnement de démonstration REST de l’API\nessayer avec une collection postman :\nAttention : Dans cet environnement de démonstratiion, l’authentification supportée est celle par certificat. Il n’est pas possible également de faire des recherches avec la carte vitale.\nDéploiement avec un Java Runtime Environment Le livrable s’agit d’un jar exécutable, qui se lance de la manière suivante\njava -jar insi-proxy-rest-*.jar Le composant est accessible depuis le poste local en HTTP sur l’adresse ip 127.0.0.1\nAfin de valider le fonctionnement, ouvrir un navigateur à l’adresse suivante : http://127.0.0.1:PORT\nIntégration L’ensemble des requêtes sont documentées via l’interface swagger et sont accessibles sur l’url suivante : http://127.0.0.1:PORT/swagger-ui.png\nIntégration d’une image docker Une page de documentation dédié : Docker\nUtilisation de l’installer DevBox-Santé Une page de documentation dédié : poste_client\n","categories":"","description":"Une interface REST pour le Téléservice INSi \n","excerpt":"Une interface REST pour le Téléservice INSi \n","ref":"/5.x/insi/rest/","tags":"","title":"REST Proxy"},{"body":" @startuml !include https://bitbucket.org/devbox-sante/plantuml/raw/current/themes/theme-devbox-sante.puml rectangle \"Application cliente\" as AppCli { rectangle \"Front Application\" as Front #E3F2FD rectangle \"Backend Application\" as Backend #E1F5FE } rectangle \"Authentification\" as Authentification { rectangle \"Proxy eSanté DevBox\\n(IdP)\" as Proxy { rectangle \"2a - Vérification login_hint / ID national\" as Step1 rectangle \"2b - Si ID National absent, écran de saisie idNat\" as Step2 rectangle \"2c - Affichage code App e-CPS\" as Step3 } ' rectangle \"Proxy eSanté DevBox Santé\\n(Identity Provider)\" as Proxy #FFF3E0 rectangle \"Keycloak\\n(OIDC Server)\" as Keycloak #E8F5E9 rectangle \"Pro Santé Connect\\n(PSC)\" as PSC #F3E5F5 } ' --- Liaisons principales --- Front -r[#blue]-\u003e Backend : 1- Authentification Backend -down[#blue]-\u003e Step1 : 2- Authentification CIBA Step1 -[#blue]-\u003e Step2 Step2 -[#blue]-\u003e Step3 Step3 -[#blue]-\u003e PSC : 3 - Authentification PSC PSC -[#blue,dashed]-\u003e Proxy : 4 - Renvoie PSC Token Proxy -up[#blue,dashed]-\u003e Backend : 5 - Renvoie PSC Token Backend -l[#green,dashed]-\u003e \"Keycloak\" : 6 - Token Exchange\\nPSC -\u003e Keycloak Keycloak -r[#green,dashed]-\u003e Backend : 7 - Renvoie Token Keycloak Backend -l[#green,dashed]-\u003e Front : 8 - Renvoie Token Keycloak @enduml Configuration du proxy Le proxy est packagé avec docker. image: repo.dev.coop/eproxy/eproxy-idp-poc:latest\nUn certain nombre de paramètres sont configurables.\nParamètres obligatoires:\nKEYCLOAK_URI : url du serveur keycloak SERVER_PORT MONGO_DB_URI (une version ultérieure permettra de tout configurer et logger en file system) SPRING_PROFILES_ACTIVE: BROKER (possibilité de rajouter SWAGGER) Exemple\ndocker run -d --name -p 443:8443 \\ -e 'SPRING_PROFILES_ACTIVE=IDP' \\ -e 'OAUTH2_SERVER_ISSUER=https://eproxy-test.devbox-sante.fr/' \\ -e 'SERVER_PORT=8443' \\ -e 'MONGO_DB_URI=mongodb://mongodb:27017/eProxy' \\ eproxy repo.dev.coop/eproxy/eproxy-idp-poc:latest POC Le proxy actuel n’est qu’un POC et ne dispose pas encore de l’ensemble des fonctionnalités prévues.\nDans l’architecture finale, le proxy ne devra pas être accessible qu’en interne. Les tokens de PSC ne devront jamais être transmis à un front.\nConfiguration EDC La configuration des clients et des routes vers les API de l’espace de confiance seront disponibles via une interface d’administration\n","categories":"","description":"Backend Client en tant qu'Identity Broker\n","excerpt":"Backend Client en tant qu'Identity Broker\n","ref":"/6.x/plateformes/eproxy/howtos/keycloak/solution3/","tags":"","title":"Solution 3"},{"body":"La Devbox-Santé MSS est une API Java ou une facade REST permettant d’accéder et de respecter les différents référentiels MSSanté de manière transparente.\nL’API public l’API est hébergée sur bitbucket : https://bitbucket.org/devbox-sante/devbox-sante-apis/src/master/ ms-sante-api\nCette API définie les services disponibles et le modèle d’objet.\nUtilisation Deux modes d’intégration sont proposées :\nEmbarqué : Intégration directe de l’API avec son implémentation dans un projet java spring-boot. REST : Déploiement d’une application spring-boot (jar exécutable intégrant un serveur Tomcat) offrant ces mêmes services en REST. Différents référentiels intégrés Pour pouvoir utiliser le connecteur MS-Santé, il faut au préalable créer un compte selon l’opérateur choisi:\nOpérateur compatible avec le nouveau référentiel socle MSSanté #2 Mailiz avec les API V1.3 soap : https://mailiz.mssante.fr/ Apicrypt (en cours de développement): https://www.apicrypt.org/inscription Voici la liste des opérateurs référencés par le SEGUR https://esante.gouv.fr/segur/solutions-referencees?search_api_fulltext=\u0026field_categorie=853\u0026field_type_logiciel=All\nNouveau référentiel socle MS-Sante #2 La nouvelle version v2 respecte le nouveau référentiel : https://esante.gouv.fr/espace_documentation/mssante-clients-de-messageries-securisees-de-sante/referentiel-socle-mssante-2 Ancien référentiel compatible avec Mailiz La documentation officielle est disponible sur https://mailiz.mssante.fr/is/doc-technique\n","categories":"","description":"Intégrer les différentes Messageries Sécurisées de Santé\n","excerpt":"Intégrer les différentes Messageries Sécurisées de Santé\n","ref":"/5.x/ms-sante/","tags":"","title":"DevBox-Santé MSS"},{"body":"Via carte CPS sur le poste local !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Poste Client (Windows/Mac/Linux)\" { [FrontEnd intégrateur] as frontend package \"DevBox-Santé\" DEVBOX_COLOR { component \"DevBoxSanté INSi\" as insFacade INS_COLOR { [DevBoxSanté CPS] as cps CPS_COLOR [DevBoxSanté Vitale] as vitale VITALE_COLOR } } [Cryptolib CPS (ANS / ASIP)] as cryptolibCPS [APILectureVitale (SesamVitale)] as apiLectureVitale } cloud \"Téléservice **INSi** (SesamVitale)\" as insi [BackEnd intégrateur] as backend frontend -u-\u003e backend : REST frontend -down-\u003e insFacade : HTTP GET /insi/rechercheAvecVitale cps \u003c-down-\u003e cryptolibCPS : appel natif vitale \u003c-down-\u003e apiLectureVitale : appel natif insFacade \u003c-d-\u003e insi : SOAP Via certificat P12 !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Environnement integrateur\" { [BackEnd intégrateur] as backend component \"DevBoxSanté INSi\" as insFacade INS_COLOR { [P12Manager] as p12 INS_COLOR [Pas de lecture vitale] as vitale VITALE_COLOR } } cloud \"Téléservice **INSi** (SesamVitale)\" as insi backend --\u003e insFacade : HTTP GET /insi/rechercheSansVitale insFacade --\u003e insi : SOAP ","categories":"","description":"Les différentes mécanismes d'authentifications et architectures possibles avec le DMP\n","excerpt":"Les différentes mécanismes d'authentifications et architectures …","ref":"/5.x/insi/autentifications/","tags":"","title":"Authentifications"},{"body":"Via carte CPS sur le poste local !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Poste Client (Windows/Mac/Linux)\" { [FrontEnd intégrateur] as frontend package \"DevBox-Santé\" DEVBOX_COLOR { component \"DevBoxSanté INSi\" as insFacade INS_COLOR { [DevBoxSanté CPS] as cps CPS_COLOR [DevBoxSanté Vitale] as vitale VITALE_COLOR } } [Cryptolib CPS (ANS / ASIP)] as cryptolibCPS [APILectureVitale (SesamVitale)] as apiLectureVitale } cloud \"Téléservice **INSi** (SesamVitale)\" as insi [BackEnd intégrateur] as backend frontend -u-\u003e backend : REST frontend -down-\u003e insFacade : HTTP GET /insi/rechercheAvecVitale cps \u003c-down-\u003e cryptolibCPS : appel natif vitale \u003c-down-\u003e apiLectureVitale : appel natif insFacade \u003c-d-\u003e insi : SOAP Via certificat P12 !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Environnement integrateur\" { [BackEnd intégrateur] as backend component \"DevBoxSanté INSi\" as insFacade INS_COLOR { [P12Manager] as p12 INS_COLOR [Pas de lecture vitale] as vitale VITALE_COLOR } } cloud \"Téléservice **INSi** (SesamVitale)\" as insi backend --\u003e insFacade : HTTP GET /insi/rechercheSansVitale insFacade --\u003e insi : SOAP ","categories":"","description":"Les différentes mécanismes d'authentifications et architectures possibles avec le DMP\n","excerpt":"Les différentes mécanismes d'authentifications et architectures …","ref":"/6.x/connecteurs/insi/autentifications/","tags":"","title":"Authentifications"},{"body":"","categories":"","description":"Les différents composants de la DevBox-Santé \n","excerpt":"Les différents composants de la DevBox-Santé \n","ref":"/6.x/composants/","tags":"","title":"Composants"},{"body":"Les tests sont décrits dans le document SEL_GCONFORM_ApCV_Demander l'authentification et gérer le contexte ApCV_vXX.XX.XX.pdf.\nTemplate de requête authentifierUtilisateurProximite JSON pour les tests NFC :\n{ \"requestContext\": { \"professionnelSante\": { \"specialite\": \"35\" }, \"structure\": { \"identifiantFacturation\": \"123456789\" } }, \"sourceMedia\": \"NFC\" } Pour les tests QR_CODE :\n{ \"requestContext\": { \"professionnelSante\": { \"specialite\": \"35\" }, \"structure\": { \"identifiantFacturation\": \"123456789\" } }, \"sourceMedia\": \"QR_CODE_WEBCAM\" } Récupérer les trames SOAP Dans le fichier de traces d’exécution dans le répertoire d’installation dans le cas de l’installer, directement dans la console dans le cas d’une image Docker, vous pourrez trouver les requêtes sortantes en cherchant le mot REQ_OUT : 2023-05-03 11:37:32.107 INFO 31360 --- [nio-8080-exec-8] o.a.cxf.services.ServiceAUTH.REQ_OUT : REQ_OUT Address: https://qualiflps.ecv-xp.sesam-vitale.fr/wssoap/apcv/auth/1/0 HttpMethod: POST Content-Type: application/soap+xml; action=\"urn:ApCV_AUTH:1.0.0:authentifierUtilisateurProximite\" ExchangeId: 6390a8da-de71-4f4c-95a7-bf75ddcea86c ServiceName: ServiceAUTHService PortName: ServiceAUTHPort PortTypeName: ServiceAUTH Headers: {Accept=*/*, Connection=Keep-Alive} Payload: \u003csoap:Envelope xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\"\u003e\u003csoap:Header\u003e\u003cAction xmlns=\"http://www.w3.org/2005/08/addressing\"\u003eurn:ApCV_AUTH:1.0.0:authentifierUtilisateurProximite\u003c/Action\u003e\u003cMessageID xmlns=\"http://www.w3.org/2005/08/addressing\"\u003eurn:uuid:5e262000-01ba-4b20-a0fd-1b33a1b11ac4\u003c/MessageID\u003e\u003cTo xmlns=\"http://www.w3.org/2005/08/addressing\"\u003ehttps://qualiflps.ecv-xp.sesam-vitale.fr/wssoap/apcv/auth/1/0\u003c/To\u003e\u003cReplyTo xmlns=\"http://www.w3.org/2005/08/addressing\"\u003e\u003cAddress\u003ehttp://www.w3.org/2005/08/addressing/anonymous\u003c/Address\u003e\u003c/ReplyTo\u003e\u003cns3:Security xmlns:ns3=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:ns2=\"urn:siram:lps:ctxlps\" xmlns=\"http://www.sesam-vitale.fr/apcv/auth/1/0\"\u003e\u003csaml2:Assertion xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:saml2=\"urn:oasis:names:tc:SAML:2.0:assertion\" ID=\"_5b6c1f08-3ec3-4714-98c3-984eb98744d8\" IssueInstant=\"2023-05-03T09:37:31.052Z\" Version=\"2.0\"\u003e\u003csaml2:Issuer Format=\"urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName\"\u003eGIVENNAME=ANNE + CN=899700296140 + SURNAME=MED-CS RPPS0029614, T=Médecin, C=FR\u003c/saml2:Issuer\u003e\u003cds:Signature xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\"\u003e\u003cds:SignedInfo\u003e\u003cds:CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"/\u003e\u003cds:SignatureMethod Algorithm=\"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\"/\u003e\u003cds:Reference URI=\"#_5b6c1f08-3ec3-4714-98c3-984eb98744d8\"\u003e\u003cds:Transforms\u003e\u003cds:Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"/\u003e\u003cds:Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"\u003e\u003cec:InclusiveNamespaces xmlns:ec=\"http://www.w3.org/2001/10/xml-exc-c14n#\" PrefixList=\"xsd\"/\u003e\u003c/ds:Transform\u003e\u003c/ds:Transforms\u003e\u003cds:DigestMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#sha256\"/\u003e\u003cds:DigestValue\u003eacSKWAp700ozRreo54A4v0fVS1SBxSrxHhtAtR/A2nM=\u003c/ds:DigestValue\u003e\u003c/ds:Reference\u003e\u003c/ds:SignedInfo\u003e\u003cds:SignatureValue\u003epu1qbGzMlFdPMxDQa0hJINMntwbDyDxFSdhwkCHlIOtKTgRXDfwqdk0HOI4XZE24d47AJE2GhxMMrSKZ0A5FlGlG7hzxnG2kZzMZ+prpFFHCUMqKRB0Zt5Qoz/IKh6xkKD4cP0lDPkMwsBkHc4pW5IfuzhVGGdPEMQjX6LFwJQYMjHaoBg3rFLjIzlWR6LLQus0KeDgJZ/tiRtNSt5uiPw3NljbnhPkAHXxB+YbAMa2z7GsBBPOSZroMoljIhHzgCJgO8I2FKpkfMXOy3QhxV1KubRyxGrilzA9+khJB0++kggKyhX7fo0IrD4VUwFY7Lqy7TNq8HUz3yCPzkMFF9A==\u003c/ds:SignatureValue\u003e\u003cds:KeyInfo\u003e\u003cds:X509Data\u003e\u003cds:X509Certificate\u003eMIIIkjCCBnqgAwIBAgIQY9r/z8gDS9wvB2ErFSZ7ojANBgkqhkiG9w0BAQsFADB/MQswCQYDVQQG EwJGUjETMBEGA1UECgwKQVNJUC1TQU5URTEXMBUGA1UECwwOMDAwMiAxODc1MTI3NTExFzAVBgNV BAsMDklHQy1TQU5URSBURVNUMSkwJwYDVQQDDCBURVNUIEFDIElHQy1TQU5URSBGT1JUIFBFUlNP Tk5FUzAeFw0yMDEyMTUxMzA4MzFaFw0yMzEyMTUxMzA4MzFaMF8xCzAJBgNVBAYTAkZSMREwDwYD VQQMDAhNw6lkZWNpbjE9MAsGA1UEKgwEQU5ORTATBgNVBAMMDDg5OTcwMDI5NjE0MDAZBgNVBAQM Ek1FRC1DUyBSUFBTMDAyOTYxNDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALI4qUzO XnPZTYXyNvNP0mHQyBxNAzT0vqHwduBDeEF+uvQZAHXn82bQMBD30dvVfsy8EY9LYIxgA11QKf9a 0xd9GD7pgi8DtmGF4Lcd7ZEE0MWnW9NjCCeOO1STwT6+aarE3OHXApy3J/0AIFb3ZGyFNr0cGu15 L3v56aB4TJ0m6Agn7h3KD9VjWoCGbsu7/BHDYqgF3/PG7fai4zF0hBX+5VeToa6EZUnUNOgRyaJF 1rRI261fkyw09B7gNF2gHxpRxS9ryZ4n64WV5JU5q2UlHHkUgpXk8UdD0fKSE6Wu8k18/OHQd96t F6wrYtdmCxu6K7iWdOuGBMwwq/kie4kCAwEAAaOCBCgwggQkMAkGA1UdEwQCMAAwHQYDVR0OBBYE FFqE3AQVqvHlLHBxuclOPSJwlDleMB8GA1UdIwQYMBaAFDrx5/XO6+33jcnJsp/t1GUp3B/9MA4G A1UdDwEB/wQEAwIGQDBTBgNVHSAETDBKMEgGDSqBegGBVQEHAgEBAQEwNzA1BggrBgEFBQcCARYp aHR0cDovL2lnYy1zYW50ZS5lc2FudGUuZ291di5mci9QQyUyMFRFU1QwEwYDVR0lBAwwCgYIKwYB BQUHAwQwKwYDVR0QBCQwIoAPMjAyMDEyMTUxMzA4MzFagQ8yMDIzMTIxNTEzMDgzMVowggFABgNV HR8EggE3MIIBMzA8oDqgOIY2aHR0cDovL2lnYy1zYW50ZS5lc2FudGUuZ291di5mci9DUkwvQUNJ LUZPLVBQLVRFU1QuY3JsMIHyoIHvoIHshoHpbGRhcDovL2FubnVhaXJlLWlnYy5lc2FudGUuZ291 di5mci9jbj1URVNUJTIwQUMlMjBJR0MtU0FOVEUlMjBGT1JUJTIwUEVSU09OTkVTLG91PVRFU1Ql MjBBQyUyMFJBQ0lORSUyMElHQy1TQU5URSUyMEZPUlQsb3U9SUdDLVNBTlRFJTIwVEVTVCxvdT0w MDAyJTIwMTg3NTEyNzUxLG89QVNJUC1TQU5URSxjPUZSP2NlcnRpZmljYXRlcmV2b2NhdGlvbmxp c3Q7YmluYXJ5P2Jhc2U/b2JqZWN0Q2xhc3M9cGtpQ0EwgfoGA1UdLgSB8jCB7zCB7KCB6aCB5oaB 42xkYXA6Ly9hbm51YWlyZS1pZ2MuZXNhbnRlLmdvdXYuZnIvY249VEVTVCUyMEFDJTIwSUdDLVNB TlRFJTIwRk9SVCUyMFBFUlNPTk5FUyxvdT1URVNUJTIwQUMlMjBSQUNJTkUlMjBJR0MtU0FOVEUl MjBGT1JULG91PUlHQy1TQU5URSUyMFRFU1Qsb3U9MDAwMiUyMDE4NzUxMjc1MSxvPUFTSVAtU0FO VEUsYz1GUj9kZWx0YXJldm9jYXRpb25saXN0O2JpbmFyeT9iYXNlP29iamVjdENsYXNzPXBraUNB MIGABggrBgEFBQcBAQR0MHIwJgYIKwYBBQUHMAGGGmh0dHA6Ly9vY3NwLmVzYW50ZS5nb3V2LmZy MEgGCCsGAQUFBzAChjxodHRwOi8vaWdjLXNhbnRlLmVzYW50ZS5nb3V2LmZyL0FDJTIwVEVTVC9B Q0ktRk8tUFAtVEVTVC5jZXIwDwYIKoF6AUcBAgUEAwQBgDAPBggqgXoBRwECAgQDAgEAMCMGCCqB egFHAQIDBBcTFTgwMjUwMDAwMDEvMjgwMDgxMTExMjAPBggqgXoBRwECBwQDAgEKMBQGCCqBegFH BAIFBAgwBgwEU00yNjANBgkqhkiG9w0BAQsFAAOCAgEAjHlMgOOxa0WrBYYOu7QV1s73Cp+y2KYH elVvcZym8SM4qVFtbCuHljO3nFEYbEjMvs3aEtuTJ6vuEY4GkEg2fwcgbcIcwW4nXOV6YywyV0rB TBTW77GOsngHSpsMdtmBL41nr4WCtULCnQd0TGl3pEqRVuNpWt2WwReL6VGB+ZbCmRrTdkc3Ne/5 TR7hC6//ddvjjNIc1QCX3MU22d10ZsNnc9d5O3ZF9fenYlnCd2QLbWpSHJ7TCvAhNIF2S/EmLcWx o7NXoCW/Di7iOEYCM57mr79FuTyCUbUI0DDLz3lxJ+aHvyUAp/Tnzwd6NwO6HLgt7PTt2S/hX8ZM bS5UlQK3AoAr5++5Sb9QGEmopnVTz+YhCtJoyWtNudHtYUiS+1RrERALWC5++CaZDusOdxmAFRX8 84OQznWcxj5A1b1GOBF84yEXwxZgYKGBM9Iz8EmvpBHwVCj6VdjvVmeYJwiH+cjP1Q1N6aQlSEcR lHB6fvG7oSUZot3lcTldhHyxxhfR0+HEXYhG7/DYcsNymqwD4vDURUAwOvoOWzHPfs6r1fECw21T bP3Y2OtFuWfDXarPYW+3YMmMEJwboL+APfinsuS5tziDfoFKRMJf25o2SgNYOPNxnsTspW4P/x/2 Fdxj9tnROlPZfBxXLraunS7zw6uqjJS6iPHS80hoFHQ=\u003c/ds:X509Certificate\u003e\u003c/ds:X509Data\u003e\u003c/ds:KeyInfo\u003e\u003c/ds:Signature\u003e\u003csaml2:Subject\u003e\u003csaml2:NameID NameQualifier=\"CPS\"\u003e899700296140\u003c/saml2:NameID\u003e\u003c/saml2:Subject\u003e\u003csaml2:AttributeStatement\u003e\u003csaml2:Attribute Name=\"codeSpecialite\"\u003e\u003csaml2:AttributeValue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type=\"xsd:string\"\u003eSM26\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"secteurActivite\"\u003e\u003csaml2:AttributeValue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type=\"xsd:string\"\u003eSA05\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"identifiantFacturation\"\u003e\u003csaml2:AttributeValue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type=\"xsd:string\"\u003e123456789\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003c/saml2:AttributeStatement\u003e\u003c/saml2:Assertion\u003e\u003c/ns3:Security\u003e\u003cns2:ContexteLPS xmlns:ns3=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:ns2=\"urn:siram:lps:ctxlps\" xmlns=\"http://www.sesam-vitale.fr/apcv/auth/1/0\" Nature=\"CTXLPS\" Version=\"01_00\"\u003e\u003cns2:Id\u003e62922de0-6d55-45c4-9b5f-0c6ebc943189\u003c/ns2:Id\u003e\u003cns2:Temps\u003e2023-05-03T09:37:31.053Z\u003c/ns2:Temps\u003e\u003cns2:Emetteur\u003e899700296140\u003c/ns2:Emetteur\u003e\u003cns2:LPS\u003e\u003cns2:IDAM R=\"4\"\u003eDVB19NM21DW0\u003c/ns2:IDAM\u003e\u003cns2:Version\u003e1.0\u003c/ns2:Version\u003e\u003cns2:Instance\u003e616cec4a-b58e-4a45-b38f-e0f8e8f3d7eb\u003c/ns2:Instance\u003e\u003cns2:Nom\u003eurn:lps:DEVBOX_SANTE_MOBILITE:1.0\u003c/ns2:Nom\u003e\u003c/ns2:LPS\u003e\u003c/ns2:ContexteLPS\u003e\u003c/soap:Header\u003e\u003csoap:Body\u003e\u003cAuthentifierUtilisateurProximiteReq xmlns=\"http://www.sesam-vitale.fr/apcv/auth/1/0\" xmlns:ns2=\"urn:siram:lps:ctxlps\" xmlns:ns3=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" version=\"1.0\"\u003e\u003cProfessionnelSante\u003e\u003cIdentifiantFacturation\u003e123456789\u003c/IdentifiantFacturation\u003e\u003cCodeSpecialiteAMO\u003e35\u003c/CodeSpecialiteAMO\u003e\u003c/ProfessionnelSante\u003e\u003cDonnees\u003ePB83N8746746*980OK$ MSZ18Q9NIBSTPJFRD$VC*TY.QWFNHXECY0LPE%+HXDLJTJSJC/V1EA88B0OU9.C8R5LSVDS E 1N/3NO87O6J6CFZ%6.6D8R7$BB9+TDP08F6K9G*Y1LHAKORTV54IH+-E6%IJEJ+BV VR760Y-RRW0MT3$OM9+RO$B8BHDABL-M2TN5CQ5SPN+TU+2EH2:SB*8UATEQ9W290Z4N-SLDEGANSG39P357YGNSK FJXBL:NI5U695D+5SVBASPAFFD0ZK1*4CZC.7RT6P*/1+PD:6NLH5P0EF48FC9:B3%OHYSR:AO1ZSJABO6W234C*IM+F7HC.F2QHE:$DHB1EII4RN *EXVOHT0Q2DV-BG9Q1H1Z%RO-ONSPMISR0QWHITZGD/RZPI7 NQCE*SGKAAX5D-CWRS9+4UOVSW$P7 1+CM:0S6DD RJ7VB66RZ.4+*0+T45AA/UDK182YHME77R9M7U%+9ZTDP79*AL:TQR8GCJNNZU/%LHRBO$OVR3.5J%WP/TLQ3A4 4H*NENT.9SU6V:4S*TK2+6KINLO4E0FUTUY4A959N.D9V1+3AF9N0$IH$0-$IBK9+T9 DN$DQZ5O:U6WIA9ZRW43/-H9%5+J76R4$4KAFB213YXFSSPU1EQD31$FPHQ5A1 61UM8UOA/ LZ7PX8VF.D9:G4N52BOG2H%:6N09*B6XJPSYCD1C+64-CIM9B: 46MJV100RIG-RTVBK3UKNQG*V0WS82GG0WY93U3\u003c/Donnees\u003e\u003c/AuthentifierUtilisateurProximiteReq\u003e\u003c/soap:Body\u003e\u003c/soap:Envelope\u003e Et la réponse avec le mot RESP_IN\n2023-05-03 11:37:32.159 INFO 31360 --- [nio-8080-exec-8] o.a.cxf.services.ServiceAUTH.RESP_IN : RESP_IN Address: https://qualiflps.ecv-xp.sesam-vitale.fr/wssoap/apcv/auth/1/0 Content-Type: application/soap+xml;charset=UTF-8 ResponseCode: 200 ExchangeId: 6390a8da-de71-4f4c-95a7-bf75ddcea86c ServiceName: ServiceAUTHService PortName: ServiceAUTHPort PortTypeName: ServiceAUTH Headers: {content-type=application/soap+xml;charset=UTF-8, Content-Length=3108, Date=Wed, 03 May 2023 09:37:32 GMT} Payload: \u003csoap:Envelope xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\"\u003e\u003csoap:Header\u003e\u003cns6:MessageID xmlns:ns6=\"http://www.w3.org/2005/08/addressing\" xmlns:ns5=\"http://www.w3.org/2000/09/xmldsig#\" xmlns:ns4=\"http://www.sesam-vitale.fr/apcv/auth/1/0\" xmlns:ns3=\"urn:siram:lps:ctxlps\" xmlns:ns2=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:ns1=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"\u003eurn:uuid:5e262000-01ba-4b20-a0fd-1b33a1b11ac4\u003c/ns6:MessageID\u003e\u003c/soap:Header\u003e\u003csoap:Body\u003e\u003cns4:AuthentifierUtilisateurProximiteRep xmlns:ns1=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" xmlns:ns2=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:ns3=\"urn:siram:lps:ctxlps\" xmlns:ns4=\"http://www.sesam-vitale.fr/apcv/auth/1/0\" xmlns:ns5=\"http://www.w3.org/2000/09/xmldsig#\" xmlns:ns6=\"http://www.w3.org/2005/08/addressing\" version=\"1.0\" horodatage=\"2023-05-03T11:37:32.552+02:00\" ID=\"_0380791b-17a2-4848-b0e6-500d5219d2ac\"\u003e\u003cns4:CodeStatut\u003e0\u003c/ns4:CodeStatut\u003e\u003cns4:ContexteApCV\u003e\u003cns4:DateFinValidite\u003e2023-05-03T09:57:32.549Z\u003c/ns4:DateFinValidite\u003e\u003cns4:Identifiant\u003edb615120-c539-4413-a4fc-f5b2000ecc0f\u003c/ns4:Identifiant\u003e\u003cns4:TokenApCV\u003edb615120-c539-4413-a4fc-f5b2000ecc0f\u003c/ns4:TokenApCV\u003e\u003c/ns4:ContexteApCV\u003e\u003cns4:ProfilApCV\u003e\u003cns4:Identification numSerie=\"000464100004\" type=\"T\"/\u003e\u003cns4:Utilisateur\u003e\u003cns4:IdentitePatient\u003e\u003cns4:INSACTIF\u003e\u003cns4:IdIndividu\u003e\u003cns4:NumIdentifiant\u003e1400163220755\u003c/ns4:NumIdentifiant\u003e\u003cns4:Cle\u003e08\u003c/ns4:Cle\u003e\u003c/ns4:IdIndividu\u003e\u003cns4:OID\u003e1.2.250.1.213.1.4.8\u003c/ns4:OID\u003e\u003cns4:DateDeb\u003e2020-03-25\u003c/ns4:DateDeb\u003e\u003cns4:DateFin\u003e2023-03-25\u003c/ns4:DateFin\u003e\u003c/ns4:INSACTIF\u003e\u003cns4:TIQ\u003e\u003cns4:NomNaissance\u003eADRQUATRE\u003c/ns4:NomNaissance\u003e\u003cns4:Prenom\u003eADRIEN\u003c/ns4:Prenom\u003e\u003cns4:ListePrenom\u003eADRIEN GERMAINE MARCELLE\u003c/ns4:ListePrenom\u003e\u003cns4:Sexe\u003eM\u003c/ns4:Sexe\u003e\u003cns4:DateNaissance\u003e1940-01-01\u003c/ns4:DateNaissance\u003e\u003cns4:LieuNaissance\u003e53300\u003c/ns4:LieuNaissance\u003e\u003c/ns4:TIQ\u003e\u003c/ns4:IdentitePatient\u003e\u003cns4:CarteVitaleIndividu\u003e\u003cns4:IdentiteAMO\u003e\u003cns4:NomFamille\u003eADRQUATRE\u003c/ns4:NomFamille\u003e\u003cns4:NomUsage\u003eADRQUATRE\u003c/ns4:NomUsage\u003e\u003cns4:Prenom\u003eADRIEN\u003c/ns4:Prenom\u003e\u003cns4:Qualite\u003e0\u003c/ns4:Qualite\u003e\u003cns4:DateNaissance rang=\"1\"\u003e1940-01-01\u003c/ns4:DateNaissance\u003e\u003cns4:NIRCertifie cle=\"08\"\u003e1400163220755\u003c/ns4:NIRCertifie\u003e\u003cns4:ContratAMO\u003e\u003cns4:NIRAssure cle=\"08\"\u003e1400163220755\u003c/ns4:NIRAssure\u003e\u003cns4:OrganismeAMO codeRegime=\"01\" codeCaisse=\"349\" codeCentre=\"9881\"/\u003e\u003c/ns4:ContratAMO\u003e\u003c/ns4:IdentiteAMO\u003e\u003c/ns4:CarteVitaleIndividu\u003e\u003c/ns4:Utilisateur\u003e\u003cns4:Individu\u003e\u003cns4:CarteVitaleIndividu\u003e\u003cns4:IdentiteAMO\u003e\u003cns4:NomFamille\u003eROCO\u003c/ns4:NomFamille\u003e\u003cns4:NomUsage\u003eROCO\u003c/ns4:NomUsage\u003e\u003cns4:Prenom\u003eLUCIENNE\u003c/ns4:Prenom\u003e\u003cns4:Qualite\u003e2\u003c/ns4:Qualite\u003e\u003cns4:DateNaissance rang=\"1\"\u003e1950-10-10\u003c/ns4:DateNaissance\u003e\u003cns4:NIRCertifie cle=\"96\"\u003e2501063220756\u003c/ns4:NIRCertifie\u003e\u003cns4:ContratAMO\u003e\u003cns4:NIRAssure cle=\"08\"\u003e1400163220755\u003c/ns4:NIRAssure\u003e\u003cns4:OrganismeAMO codeRegime=\"01\" codeCaisse=\"349\" codeCentre=\"9881\"/\u003e\u003c/ns4:ContratAMO\u003e\u003c/ns4:IdentiteAMO\u003e\u003c/ns4:CarteVitaleIndividu\u003e\u003c/ns4:Individu\u003e\u003c/ns4:ProfilApCV\u003e\u003c/ns4:AuthentifierUtilisateurProximiteRep\u003e\u003c/soap:Body\u003e\u003c/soap:Envelope\u003e ","categories":"","description":"Quelques exemples de requêtes JSON des tests de conformité du CNDA \n","excerpt":"Quelques exemples de requêtes JSON des tests de conformité du CNDA \n","ref":"/5.x/apcv/howtos/testcnda/","tags":"","title":"Conformité CNDA"},{"body":"Les tests sont décrits dans le document SEL-GCONFORM_INSi_Vxx.xx.pdf.\nAttention l’environnement de qualification pour les tests restitue bien les cas passants mais pas correctement les non passants.\nPour injecter les réponses souhaitées du document de vérification il faut configurer la DevBox-santé INSI avec le profil de test cnda\nPrécisions sur l’environnement de tests éditeurs :\nDes erreurs « insi_101 » et « insi_102 » en sortie des opérations de recherche vont être restituées lors du déroulement des tests en environnement éditeurs. L’environnement de tests éditeurs ne gère qu’une base de tests RFI (régime général et régimes hébergés) mais pas de base SNGI (autres régimes : pour plus de détail voir le Guide d’intégration). Le service effectue une première recherche vers le RFI :\nsi le patient est trouvé, l’INS et les informations associées sont restitués : les cas passants que vous observez si le patient n’est pas trouvé, le service effectue une recherche au SNGI avec les données de la requête. Comme en environnement de tests éditeurs il n’y a pas de branche SNGI, la recherche est en échec et l’erreur « insi_101 » ou « insi_102 » (selon l’opération) est restituée (il s’agit d’une erreur technique : branche SNGI indisponible), un code CR01 ne peut être restitué. Dans la configuration actuelle de l’environnement de tests, il n’est pas possible d’obtenir un CR01, c’est pour cela (et pour tester les cinématiques attendues dans le Guide d’intégration) que dans le package de tests sont fournis des fichiers xml à injecter dans le LPS, pour simuler les réponses du service que l’on ne peut obtenir dans notre environnement. En environnement de production, lorsqu’un INS ne sera pas trouvé c’est bien un CR01 qui sera restitué. Déclaration à apporter lors de vos Tests Dans certains cas de tests de conformités, certaines déclarations peuvent être nécessaires. Elles sont reprises ici\nExemples json Voici quelques exemples json repris des tests :\nWS_INS1 Cas du POST par lecture des données vitales en amont : Carte vitale INSi 01 DE VINCI Ruth : test1_01.json WS_INS2 test2_03_cas1.json\nTest2_02 : Répoonse de DEVCOOP au CNDA pour ce test\nLe connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l’assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence. Si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l’assertion.\nDans le cas où plusieurs structures d’activité sont trouvées, il est demandé à l’intégrateur de fournir son identifiant National et une vérification de son existence sur la carte CPS est réalisée. L’attribut identifiantFacturation est demandé pour chaque requête de l’intégrateur\nTest2_07 Cas 1 : Uniquement après le premier appel, injection du fichier (simulant une réponse du service) : REP_CR01.xml\nCe cas n’est pas réalisable avec l’injecteur CNDA développé. En effet, l’injecteur injecte pour l’ensemble des requêtes effectuées la réponse injectée. C’est cette dernière qui est retournée par le service à l’intégrateur. Jusqu’à présent, il suffit de reprendre les 2 premières trames envoyées et reçues par la DevBox-Santé pour preuve.\nWS_INS3 test3_01.json\nTest3_02 : Réponse de DEVCOOP au CNDA pour ce test\nLe connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l’assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence, si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l’assertion.\nDans le cas où plusieurs structures d’activité sont trouvées, il est demandé à l’intégrateur de fournir son identifiant National et une vérification de son existence sur la carte CPS est réalisée. L’attribut identifiantFacturation est demandé pour chaque requête de l’intégrateur\nWS_INS4 insi_a_verifier_lot1_1.0.1.json insi_a_verifier_lot2_1.0.1.json insi_a_verifier_lot3_1.0.1.json ","categories":"","description":"Quelques exemples de requêtes JSON des tests de conformité du CNDA \n","excerpt":"Quelques exemples de requêtes JSON des tests de conformité du CNDA \n","ref":"/5.x/insi/howtos/testcnda/","tags":"","title":"Conformité CNDA"},{"body":"Les tests sont décrits dans le document SEL_GCONFORM_ApCV_Demander l'authentification et gérer le contexte ApCV_vXX.XX.XX.pdf.\nTemplate de requête authentifierUtilisateurProximite JSON pour les tests NFC :\n{ \"requestContext\": { \"professionnelSante\": { \"specialite\": \"35\" }, \"structure\": { \"identifiantFacturation\": \"123456789\" } }, \"sourceMedia\": \"NFC\" } Pour les tests QR_CODE :\n{ \"requestContext\": { \"professionnelSante\": { \"specialite\": \"35\" }, \"structure\": { \"identifiantFacturation\": \"123456789\" } }, \"sourceMedia\": \"QR_CODE_WEBCAM\" } Récupérer les trames SOAP Dans le fichier de traces d’exécution dans le répertoire d’installation dans le cas de l’installer, directement dans la console dans le cas d’une image Docker, vous pourrez trouver les requêtes sortantes en cherchant le mot REQ_OUT : 2023-05-03 11:37:32.107 INFO 31360 --- [nio-8080-exec-8] o.a.cxf.services.ServiceAUTH.REQ_OUT : REQ_OUT Address: https://qualiflps.ecv-xp.sesam-vitale.fr/wssoap/apcv/auth/1/0 HttpMethod: POST Content-Type: application/soap+xml; action=\"urn:ApCV_AUTH:1.0.0:authentifierUtilisateurProximite\" ExchangeId: 6390a8da-de71-4f4c-95a7-bf75ddcea86c ServiceName: ServiceAUTHService PortName: ServiceAUTHPort PortTypeName: ServiceAUTH Headers: {Accept=*/*, Connection=Keep-Alive} Payload: \u003csoap:Envelope xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\"\u003e\u003csoap:Header\u003e\u003cAction xmlns=\"http://www.w3.org/2005/08/addressing\"\u003eurn:ApCV_AUTH:1.0.0:authentifierUtilisateurProximite\u003c/Action\u003e\u003cMessageID xmlns=\"http://www.w3.org/2005/08/addressing\"\u003eurn:uuid:5e262000-01ba-4b20-a0fd-1b33a1b11ac4\u003c/MessageID\u003e\u003cTo xmlns=\"http://www.w3.org/2005/08/addressing\"\u003ehttps://qualiflps.ecv-xp.sesam-vitale.fr/wssoap/apcv/auth/1/0\u003c/To\u003e\u003cReplyTo xmlns=\"http://www.w3.org/2005/08/addressing\"\u003e\u003cAddress\u003ehttp://www.w3.org/2005/08/addressing/anonymous\u003c/Address\u003e\u003c/ReplyTo\u003e\u003cns3:Security xmlns:ns3=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:ns2=\"urn:siram:lps:ctxlps\" xmlns=\"http://www.sesam-vitale.fr/apcv/auth/1/0\"\u003e\u003csaml2:Assertion xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:saml2=\"urn:oasis:names:tc:SAML:2.0:assertion\" ID=\"_5b6c1f08-3ec3-4714-98c3-984eb98744d8\" IssueInstant=\"2023-05-03T09:37:31.052Z\" Version=\"2.0\"\u003e\u003csaml2:Issuer Format=\"urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName\"\u003eGIVENNAME=ANNE + CN=899700296140 + SURNAME=MED-CS RPPS0029614, T=Médecin, C=FR\u003c/saml2:Issuer\u003e\u003cds:Signature xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\"\u003e\u003cds:SignedInfo\u003e\u003cds:CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"/\u003e\u003cds:SignatureMethod Algorithm=\"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\"/\u003e\u003cds:Reference URI=\"#_5b6c1f08-3ec3-4714-98c3-984eb98744d8\"\u003e\u003cds:Transforms\u003e\u003cds:Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"/\u003e\u003cds:Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"\u003e\u003cec:InclusiveNamespaces xmlns:ec=\"http://www.w3.org/2001/10/xml-exc-c14n#\" PrefixList=\"xsd\"/\u003e\u003c/ds:Transform\u003e\u003c/ds:Transforms\u003e\u003cds:DigestMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#sha256\"/\u003e\u003cds:DigestValue\u003eacSKWAp700ozRreo54A4v0fVS1SBxSrxHhtAtR/A2nM=\u003c/ds:DigestValue\u003e\u003c/ds:Reference\u003e\u003c/ds:SignedInfo\u003e\u003cds:SignatureValue\u003epu1qbGzMlFdPMxDQa0hJINMntwbDyDxFSdhwkCHlIOtKTgRXDfwqdk0HOI4XZE24d47AJE2GhxMMrSKZ0A5FlGlG7hzxnG2kZzMZ+prpFFHCUMqKRB0Zt5Qoz/IKh6xkKD4cP0lDPkMwsBkHc4pW5IfuzhVGGdPEMQjX6LFwJQYMjHaoBg3rFLjIzlWR6LLQus0KeDgJZ/tiRtNSt5uiPw3NljbnhPkAHXxB+YbAMa2z7GsBBPOSZroMoljIhHzgCJgO8I2FKpkfMXOy3QhxV1KubRyxGrilzA9+khJB0++kggKyhX7fo0IrD4VUwFY7Lqy7TNq8HUz3yCPzkMFF9A==\u003c/ds:SignatureValue\u003e\u003cds:KeyInfo\u003e\u003cds:X509Data\u003e\u003cds:X509Certificate\u003eMIIIkjCCBnqgAwIBAgIQY9r/z8gDS9wvB2ErFSZ7ojANBgkqhkiG9w0BAQsFADB/MQswCQYDVQQG EwJGUjETMBEGA1UECgwKQVNJUC1TQU5URTEXMBUGA1UECwwOMDAwMiAxODc1MTI3NTExFzAVBgNV BAsMDklHQy1TQU5URSBURVNUMSkwJwYDVQQDDCBURVNUIEFDIElHQy1TQU5URSBGT1JUIFBFUlNP Tk5FUzAeFw0yMDEyMTUxMzA4MzFaFw0yMzEyMTUxMzA4MzFaMF8xCzAJBgNVBAYTAkZSMREwDwYD VQQMDAhNw6lkZWNpbjE9MAsGA1UEKgwEQU5ORTATBgNVBAMMDDg5OTcwMDI5NjE0MDAZBgNVBAQM Ek1FRC1DUyBSUFBTMDAyOTYxNDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALI4qUzO XnPZTYXyNvNP0mHQyBxNAzT0vqHwduBDeEF+uvQZAHXn82bQMBD30dvVfsy8EY9LYIxgA11QKf9a 0xd9GD7pgi8DtmGF4Lcd7ZEE0MWnW9NjCCeOO1STwT6+aarE3OHXApy3J/0AIFb3ZGyFNr0cGu15 L3v56aB4TJ0m6Agn7h3KD9VjWoCGbsu7/BHDYqgF3/PG7fai4zF0hBX+5VeToa6EZUnUNOgRyaJF 1rRI261fkyw09B7gNF2gHxpRxS9ryZ4n64WV5JU5q2UlHHkUgpXk8UdD0fKSE6Wu8k18/OHQd96t F6wrYtdmCxu6K7iWdOuGBMwwq/kie4kCAwEAAaOCBCgwggQkMAkGA1UdEwQCMAAwHQYDVR0OBBYE FFqE3AQVqvHlLHBxuclOPSJwlDleMB8GA1UdIwQYMBaAFDrx5/XO6+33jcnJsp/t1GUp3B/9MA4G A1UdDwEB/wQEAwIGQDBTBgNVHSAETDBKMEgGDSqBegGBVQEHAgEBAQEwNzA1BggrBgEFBQcCARYp aHR0cDovL2lnYy1zYW50ZS5lc2FudGUuZ291di5mci9QQyUyMFRFU1QwEwYDVR0lBAwwCgYIKwYB BQUHAwQwKwYDVR0QBCQwIoAPMjAyMDEyMTUxMzA4MzFagQ8yMDIzMTIxNTEzMDgzMVowggFABgNV HR8EggE3MIIBMzA8oDqgOIY2aHR0cDovL2lnYy1zYW50ZS5lc2FudGUuZ291di5mci9DUkwvQUNJ LUZPLVBQLVRFU1QuY3JsMIHyoIHvoIHshoHpbGRhcDovL2FubnVhaXJlLWlnYy5lc2FudGUuZ291 di5mci9jbj1URVNUJTIwQUMlMjBJR0MtU0FOVEUlMjBGT1JUJTIwUEVSU09OTkVTLG91PVRFU1Ql MjBBQyUyMFJBQ0lORSUyMElHQy1TQU5URSUyMEZPUlQsb3U9SUdDLVNBTlRFJTIwVEVTVCxvdT0w MDAyJTIwMTg3NTEyNzUxLG89QVNJUC1TQU5URSxjPUZSP2NlcnRpZmljYXRlcmV2b2NhdGlvbmxp c3Q7YmluYXJ5P2Jhc2U/b2JqZWN0Q2xhc3M9cGtpQ0EwgfoGA1UdLgSB8jCB7zCB7KCB6aCB5oaB 42xkYXA6Ly9hbm51YWlyZS1pZ2MuZXNhbnRlLmdvdXYuZnIvY249VEVTVCUyMEFDJTIwSUdDLVNB TlRFJTIwRk9SVCUyMFBFUlNPTk5FUyxvdT1URVNUJTIwQUMlMjBSQUNJTkUlMjBJR0MtU0FOVEUl MjBGT1JULG91PUlHQy1TQU5URSUyMFRFU1Qsb3U9MDAwMiUyMDE4NzUxMjc1MSxvPUFTSVAtU0FO VEUsYz1GUj9kZWx0YXJldm9jYXRpb25saXN0O2JpbmFyeT9iYXNlP29iamVjdENsYXNzPXBraUNB MIGABggrBgEFBQcBAQR0MHIwJgYIKwYBBQUHMAGGGmh0dHA6Ly9vY3NwLmVzYW50ZS5nb3V2LmZy MEgGCCsGAQUFBzAChjxodHRwOi8vaWdjLXNhbnRlLmVzYW50ZS5nb3V2LmZyL0FDJTIwVEVTVC9B Q0ktRk8tUFAtVEVTVC5jZXIwDwYIKoF6AUcBAgUEAwQBgDAPBggqgXoBRwECAgQDAgEAMCMGCCqB egFHAQIDBBcTFTgwMjUwMDAwMDEvMjgwMDgxMTExMjAPBggqgXoBRwECBwQDAgEKMBQGCCqBegFH BAIFBAgwBgwEU00yNjANBgkqhkiG9w0BAQsFAAOCAgEAjHlMgOOxa0WrBYYOu7QV1s73Cp+y2KYH elVvcZym8SM4qVFtbCuHljO3nFEYbEjMvs3aEtuTJ6vuEY4GkEg2fwcgbcIcwW4nXOV6YywyV0rB TBTW77GOsngHSpsMdtmBL41nr4WCtULCnQd0TGl3pEqRVuNpWt2WwReL6VGB+ZbCmRrTdkc3Ne/5 TR7hC6//ddvjjNIc1QCX3MU22d10ZsNnc9d5O3ZF9fenYlnCd2QLbWpSHJ7TCvAhNIF2S/EmLcWx o7NXoCW/Di7iOEYCM57mr79FuTyCUbUI0DDLz3lxJ+aHvyUAp/Tnzwd6NwO6HLgt7PTt2S/hX8ZM bS5UlQK3AoAr5++5Sb9QGEmopnVTz+YhCtJoyWtNudHtYUiS+1RrERALWC5++CaZDusOdxmAFRX8 84OQznWcxj5A1b1GOBF84yEXwxZgYKGBM9Iz8EmvpBHwVCj6VdjvVmeYJwiH+cjP1Q1N6aQlSEcR lHB6fvG7oSUZot3lcTldhHyxxhfR0+HEXYhG7/DYcsNymqwD4vDURUAwOvoOWzHPfs6r1fECw21T bP3Y2OtFuWfDXarPYW+3YMmMEJwboL+APfinsuS5tziDfoFKRMJf25o2SgNYOPNxnsTspW4P/x/2 Fdxj9tnROlPZfBxXLraunS7zw6uqjJS6iPHS80hoFHQ=\u003c/ds:X509Certificate\u003e\u003c/ds:X509Data\u003e\u003c/ds:KeyInfo\u003e\u003c/ds:Signature\u003e\u003csaml2:Subject\u003e\u003csaml2:NameID NameQualifier=\"CPS\"\u003e899700296140\u003c/saml2:NameID\u003e\u003c/saml2:Subject\u003e\u003csaml2:AttributeStatement\u003e\u003csaml2:Attribute Name=\"codeSpecialite\"\u003e\u003csaml2:AttributeValue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type=\"xsd:string\"\u003eSM26\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"secteurActivite\"\u003e\u003csaml2:AttributeValue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type=\"xsd:string\"\u003eSA05\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"identifiantFacturation\"\u003e\u003csaml2:AttributeValue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type=\"xsd:string\"\u003e123456789\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003c/saml2:AttributeStatement\u003e\u003c/saml2:Assertion\u003e\u003c/ns3:Security\u003e\u003cns2:ContexteLPS xmlns:ns3=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:ns2=\"urn:siram:lps:ctxlps\" xmlns=\"http://www.sesam-vitale.fr/apcv/auth/1/0\" Nature=\"CTXLPS\" Version=\"01_00\"\u003e\u003cns2:Id\u003e62922de0-6d55-45c4-9b5f-0c6ebc943189\u003c/ns2:Id\u003e\u003cns2:Temps\u003e2023-05-03T09:37:31.053Z\u003c/ns2:Temps\u003e\u003cns2:Emetteur\u003e899700296140\u003c/ns2:Emetteur\u003e\u003cns2:LPS\u003e\u003cns2:IDAM R=\"4\"\u003eDVB19NM21DW0\u003c/ns2:IDAM\u003e\u003cns2:Version\u003e1.0\u003c/ns2:Version\u003e\u003cns2:Instance\u003e616cec4a-b58e-4a45-b38f-e0f8e8f3d7eb\u003c/ns2:Instance\u003e\u003cns2:Nom\u003eurn:lps:DEVBOX_SANTE_MOBILITE:1.0\u003c/ns2:Nom\u003e\u003c/ns2:LPS\u003e\u003c/ns2:ContexteLPS\u003e\u003c/soap:Header\u003e\u003csoap:Body\u003e\u003cAuthentifierUtilisateurProximiteReq xmlns=\"http://www.sesam-vitale.fr/apcv/auth/1/0\" xmlns:ns2=\"urn:siram:lps:ctxlps\" xmlns:ns3=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" version=\"1.0\"\u003e\u003cProfessionnelSante\u003e\u003cIdentifiantFacturation\u003e123456789\u003c/IdentifiantFacturation\u003e\u003cCodeSpecialiteAMO\u003e35\u003c/CodeSpecialiteAMO\u003e\u003c/ProfessionnelSante\u003e\u003cDonnees\u003ePB83N8746746*980OK$ MSZ18Q9NIBSTPJFRD$VC*TY.QWFNHXECY0LPE%+HXDLJTJSJC/V1EA88B0OU9.C8R5LSVDS E 1N/3NO87O6J6CFZ%6.6D8R7$BB9+TDP08F6K9G*Y1LHAKORTV54IH+-E6%IJEJ+BV VR760Y-RRW0MT3$OM9+RO$B8BHDABL-M2TN5CQ5SPN+TU+2EH2:SB*8UATEQ9W290Z4N-SLDEGANSG39P357YGNSK FJXBL:NI5U695D+5SVBASPAFFD0ZK1*4CZC.7RT6P*/1+PD:6NLH5P0EF48FC9:B3%OHYSR:AO1ZSJABO6W234C*IM+F7HC.F2QHE:$DHB1EII4RN *EXVOHT0Q2DV-BG9Q1H1Z%RO-ONSPMISR0QWHITZGD/RZPI7 NQCE*SGKAAX5D-CWRS9+4UOVSW$P7 1+CM:0S6DD RJ7VB66RZ.4+*0+T45AA/UDK182YHME77R9M7U%+9ZTDP79*AL:TQR8GCJNNZU/%LHRBO$OVR3.5J%WP/TLQ3A4 4H*NENT.9SU6V:4S*TK2+6KINLO4E0FUTUY4A959N.D9V1+3AF9N0$IH$0-$IBK9+T9 DN$DQZ5O:U6WIA9ZRW43/-H9%5+J76R4$4KAFB213YXFSSPU1EQD31$FPHQ5A1 61UM8UOA/ LZ7PX8VF.D9:G4N52BOG2H%:6N09*B6XJPSYCD1C+64-CIM9B: 46MJV100RIG-RTVBK3UKNQG*V0WS82GG0WY93U3\u003c/Donnees\u003e\u003c/AuthentifierUtilisateurProximiteReq\u003e\u003c/soap:Body\u003e\u003c/soap:Envelope\u003e Et la réponse avec le mot RESP_IN\n2023-05-03 11:37:32.159 INFO 31360 --- [nio-8080-exec-8] o.a.cxf.services.ServiceAUTH.RESP_IN : RESP_IN Address: https://qualiflps.ecv-xp.sesam-vitale.fr/wssoap/apcv/auth/1/0 Content-Type: application/soap+xml;charset=UTF-8 ResponseCode: 200 ExchangeId: 6390a8da-de71-4f4c-95a7-bf75ddcea86c ServiceName: ServiceAUTHService PortName: ServiceAUTHPort PortTypeName: ServiceAUTH Headers: {content-type=application/soap+xml;charset=UTF-8, Content-Length=3108, Date=Wed, 03 May 2023 09:37:32 GMT} Payload: \u003csoap:Envelope xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\"\u003e\u003csoap:Header\u003e\u003cns6:MessageID xmlns:ns6=\"http://www.w3.org/2005/08/addressing\" xmlns:ns5=\"http://www.w3.org/2000/09/xmldsig#\" xmlns:ns4=\"http://www.sesam-vitale.fr/apcv/auth/1/0\" xmlns:ns3=\"urn:siram:lps:ctxlps\" xmlns:ns2=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:ns1=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"\u003eurn:uuid:5e262000-01ba-4b20-a0fd-1b33a1b11ac4\u003c/ns6:MessageID\u003e\u003c/soap:Header\u003e\u003csoap:Body\u003e\u003cns4:AuthentifierUtilisateurProximiteRep xmlns:ns1=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\" xmlns:ns2=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:ns3=\"urn:siram:lps:ctxlps\" xmlns:ns4=\"http://www.sesam-vitale.fr/apcv/auth/1/0\" xmlns:ns5=\"http://www.w3.org/2000/09/xmldsig#\" xmlns:ns6=\"http://www.w3.org/2005/08/addressing\" version=\"1.0\" horodatage=\"2023-05-03T11:37:32.552+02:00\" ID=\"_0380791b-17a2-4848-b0e6-500d5219d2ac\"\u003e\u003cns4:CodeStatut\u003e0\u003c/ns4:CodeStatut\u003e\u003cns4:ContexteApCV\u003e\u003cns4:DateFinValidite\u003e2023-05-03T09:57:32.549Z\u003c/ns4:DateFinValidite\u003e\u003cns4:Identifiant\u003edb615120-c539-4413-a4fc-f5b2000ecc0f\u003c/ns4:Identifiant\u003e\u003cns4:TokenApCV\u003edb615120-c539-4413-a4fc-f5b2000ecc0f\u003c/ns4:TokenApCV\u003e\u003c/ns4:ContexteApCV\u003e\u003cns4:ProfilApCV\u003e\u003cns4:Identification numSerie=\"000464100004\" type=\"T\"/\u003e\u003cns4:Utilisateur\u003e\u003cns4:IdentitePatient\u003e\u003cns4:INSACTIF\u003e\u003cns4:IdIndividu\u003e\u003cns4:NumIdentifiant\u003e1400163220755\u003c/ns4:NumIdentifiant\u003e\u003cns4:Cle\u003e08\u003c/ns4:Cle\u003e\u003c/ns4:IdIndividu\u003e\u003cns4:OID\u003e1.2.250.1.213.1.4.8\u003c/ns4:OID\u003e\u003cns4:DateDeb\u003e2020-03-25\u003c/ns4:DateDeb\u003e\u003cns4:DateFin\u003e2023-03-25\u003c/ns4:DateFin\u003e\u003c/ns4:INSACTIF\u003e\u003cns4:TIQ\u003e\u003cns4:NomNaissance\u003eADRQUATRE\u003c/ns4:NomNaissance\u003e\u003cns4:Prenom\u003eADRIEN\u003c/ns4:Prenom\u003e\u003cns4:ListePrenom\u003eADRIEN GERMAINE MARCELLE\u003c/ns4:ListePrenom\u003e\u003cns4:Sexe\u003eM\u003c/ns4:Sexe\u003e\u003cns4:DateNaissance\u003e1940-01-01\u003c/ns4:DateNaissance\u003e\u003cns4:LieuNaissance\u003e53300\u003c/ns4:LieuNaissance\u003e\u003c/ns4:TIQ\u003e\u003c/ns4:IdentitePatient\u003e\u003cns4:CarteVitaleIndividu\u003e\u003cns4:IdentiteAMO\u003e\u003cns4:NomFamille\u003eADRQUATRE\u003c/ns4:NomFamille\u003e\u003cns4:NomUsage\u003eADRQUATRE\u003c/ns4:NomUsage\u003e\u003cns4:Prenom\u003eADRIEN\u003c/ns4:Prenom\u003e\u003cns4:Qualite\u003e0\u003c/ns4:Qualite\u003e\u003cns4:DateNaissance rang=\"1\"\u003e1940-01-01\u003c/ns4:DateNaissance\u003e\u003cns4:NIRCertifie cle=\"08\"\u003e1400163220755\u003c/ns4:NIRCertifie\u003e\u003cns4:ContratAMO\u003e\u003cns4:NIRAssure cle=\"08\"\u003e1400163220755\u003c/ns4:NIRAssure\u003e\u003cns4:OrganismeAMO codeRegime=\"01\" codeCaisse=\"349\" codeCentre=\"9881\"/\u003e\u003c/ns4:ContratAMO\u003e\u003c/ns4:IdentiteAMO\u003e\u003c/ns4:CarteVitaleIndividu\u003e\u003c/ns4:Utilisateur\u003e\u003cns4:Individu\u003e\u003cns4:CarteVitaleIndividu\u003e\u003cns4:IdentiteAMO\u003e\u003cns4:NomFamille\u003eROCO\u003c/ns4:NomFamille\u003e\u003cns4:NomUsage\u003eROCO\u003c/ns4:NomUsage\u003e\u003cns4:Prenom\u003eLUCIENNE\u003c/ns4:Prenom\u003e\u003cns4:Qualite\u003e2\u003c/ns4:Qualite\u003e\u003cns4:DateNaissance rang=\"1\"\u003e1950-10-10\u003c/ns4:DateNaissance\u003e\u003cns4:NIRCertifie cle=\"96\"\u003e2501063220756\u003c/ns4:NIRCertifie\u003e\u003cns4:ContratAMO\u003e\u003cns4:NIRAssure cle=\"08\"\u003e1400163220755\u003c/ns4:NIRAssure\u003e\u003cns4:OrganismeAMO codeRegime=\"01\" codeCaisse=\"349\" codeCentre=\"9881\"/\u003e\u003c/ns4:ContratAMO\u003e\u003c/ns4:IdentiteAMO\u003e\u003c/ns4:CarteVitaleIndividu\u003e\u003c/ns4:Individu\u003e\u003c/ns4:ProfilApCV\u003e\u003c/ns4:AuthentifierUtilisateurProximiteRep\u003e\u003c/soap:Body\u003e\u003c/soap:Envelope\u003e ","categories":"","description":"Quelques exemples de requêtes JSON des tests de conformité du CNDA \n","excerpt":"Quelques exemples de requêtes JSON des tests de conformité du CNDA \n","ref":"/6.x/connecteurs/apcv/howtos/testcnda/","tags":"","title":"Conformité CNDA"},{"body":"Les tests sont décrits dans le document SEL-GCONFORM_INSi_Vxx.xx.pdf.\nAttention l’environnement de qualification pour les tests restitue bien les cas passants mais pas correctement les non passants.\nPour injecter les réponses souhaitées du document de vérification il faut configurer la DevBox-santé INSI avec le profil de test cnda\nPrécisions sur l’environnement de tests éditeurs :\nDes erreurs « insi_101 » et « insi_102 » en sortie des opérations de recherche vont être restituées lors du déroulement des tests en environnement éditeurs. L’environnement de tests éditeurs ne gère qu’une base de tests RFI (régime général et régimes hébergés) mais pas de base SNGI (autres régimes : pour plus de détail voir le Guide d’intégration). Le service effectue une première recherche vers le RFI :\nsi le patient est trouvé, l’INS et les informations associées sont restitués : les cas passants que vous observez si le patient n’est pas trouvé, le service effectue une recherche au SNGI avec les données de la requête. Comme en environnement de tests éditeurs il n’y a pas de branche SNGI, la recherche est en échec et l’erreur « insi_101 » ou « insi_102 » (selon l’opération) est restituée (il s’agit d’une erreur technique : branche SNGI indisponible), un code CR01 ne peut être restitué. Dans la configuration actuelle de l’environnement de tests, il n’est pas possible d’obtenir un CR01, c’est pour cela (et pour tester les cinématiques attendues dans le Guide d’intégration) que dans le package de tests sont fournis des fichiers xml à injecter dans le LPS, pour simuler les réponses du service que l’on ne peut obtenir dans notre environnement. En environnement de production, lorsqu’un INS ne sera pas trouvé c’est bien un CR01 qui sera restitué. Déclaration à apporter lors de vos Tests Dans certains cas de tests de conformités, certaines déclarations peuvent être nécessaires. Elles sont reprises dans : ./declarations\nJeu de tests CNDA Afin de pouvoir exécuter les tests d’injection demandées par le CNDA, il faut lancer le proxy avec le profil spring CNDA_WEB activé : Rem : Ce profil est activé par défaut sur les “Installers” de dev et les images Docker.\nVous pouvez également injecter la resource de votre choix à partir du moment où elle correspond au format de la réponse SOAP souhaitée : Exemple de fichier soap.xml demandé : Reponse_numcasINSI_11_DateNaissance00_Annee.xml Exemples json Voici quelques exemples json repris des tests :\nWS_INS1 Cas du POST par lecture des données vitales en amont : Carte vitale INSi 01 DE VINCI Ruth : test1_01.json WS_INS2 test2_03_cas1.json\nTest2_02 : Répoonse de DEVCOOP au CNDA pour ce test\nLe connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l’assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence. Si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l’assertion.\nDans le cas où plusieurs structures d’activité sont trouvées, il est demandé à l’intégrateur de fournir son identifiant National et une vérification de son existence sur la carte CPS est réalisée. L’attribut identifiantFacturation est demandé pour chaque requête de l’intégrateur\nTest2_07 Cas 1 : Uniquement après le premier appel, injection du fichier (simulant une réponse du service) : REP_CR01.xml\nCe cas n’est pas réalisable avec l’injecteur CNDA développé. En effet, l’injecteur injecte pour l’ensemble des requêtes effectuées la réponse injectée. C’est cette dernière qui est retournée par le service à l’intégrateur. Jusqu’à présent, il suffit de reprendre les 2 premières trames envoyées et reçues par la DevBox-Santé pour preuve.\nWS_INS3 test3_01.json\nTest3_02 : Réponse de DEVCOOP au CNDA pour ce test\nLe connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l’assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence, si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l’assertion.\nDans le cas où plusieurs structures d’activité sont trouvées, il est demandé à l’intégrateur de fournir son identifiant National et une vérification de son existence sur la carte CPS est réalisée. L’attribut identifiantFacturation est demandé pour chaque requête de l’intégrateur\nWS_INS4 insi_a_verifier_lot1_1.0.1.json insi_a_verifier_lot2_1.0.1.json insi_a_verifier_lot3_1.0.1.json ","categories":"","description":"Quelques exemples de requêtes JSON des tests de conformité du CNDA \n","excerpt":"Quelques exemples de requêtes JSON des tests de conformité du CNDA \n","ref":"/6.x/connecteurs/insi/howtos/testcnda/","tags":"","title":"Conformité CNDA"},{"body":"Il s’agit de l’authentification par certificat serveur provenant de l’IGC Santé (Infrastructure de gestion de clés) qui est délivré aux différents établissements de santé.\nUne documentation pour obtenir des certificats serveurs se trouve ici.\nCe mode d’authentification ne permet que l’alimentation de documents dans le DMP et pas la consultation.\nDescription scénario : L’intégrateur héberge le Proxy DevBox-santé dans son environnement, et l’intégre comme une passerelle vers le DMP.\nVersion REST Diagramme de composants !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 [FrontEnd intégrateur] as frontend node \"Environnement intégrateur\" { [BackEnd intégrateur] as backend package \"DevBox-Santé Proxy REST\" DEVBOX_COLOR { package \"DevBox-sante DMP\" as dmpFacade DMP_COLOR { [P12Manager] as P12Manager DMP_COLOR } } } cloud \"**DMP**\" as DMP frontend -down-\u003e backend backend -right-\u003e dmpFacade: REST dmpFacade -down-\u003e DMP : SOAP Version Embedded Diagramme de composants L’architecture du mode embedded peut être représentée par ce schéma :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 [FrontEnd intégrateur] as frontend node \"Environnement intégrateur\" { component \"BackEnd intégrateur\" as backend { component \"DevBox-Santé DMP\" as DMPC_API DMP_COLOR { [P12Manager] as P12Manager DMP_COLOR } } } cloud \"**DMP**\" as DMP frontend -down-\u003e backend DMPC_API -d-\u003e DMP : SOAP XDS / CDA ","categories":"","description":"Accéder au DMP via un certification d'établissement\n","excerpt":"Accéder au DMP via un certification d'établissement\n","ref":"/5.x/dmp/authentifications/indirecte/","tags":"","title":"Authentification Indirecte (via certificat serveur)"},{"body":"Il s’agit de l’authentification par certificat serveur provenant de l’IGC Santé (Infrastructure de gestion de clés) qui est délivré aux différents établissements de santé.\nCe mode d’authentification ne permet que l’alimentation de documents dans le DMP et pas la consultation.\nDescription scénario : L’intégrateur héberge le Proxy DevBox-santé dans son environnement, et l’intégre comme une passerelle vers le DMP.\nVersion REST Diagramme de composants !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 [FrontEnd intégrateur] as frontend node \"Environnement intégrateur\" { [BackEnd intégrateur] as backend package \"DevBox-Santé Proxy REST\" DEVBOX_COLOR { package \"DevBox-sante DMP\" as dmpFacade DMP_COLOR { [P12Manager] as P12Manager DMP_COLOR } } } cloud \"**DMP**\" as DMP frontend -down-\u003e backend backend -right-\u003e dmpFacade: REST dmpFacade -down-\u003e DMP : SOAP Version Embedded Diagramme de composants L’architecture du mode embedded peut être représentée par ce schéma :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 [FrontEnd intégrateur] as frontend node \"Environnement intégrateur\" { component \"BackEnd intégrateur\" as backend { component \"DevBox-Santé DMP\" as DMPC_API DMP_COLOR { [P12Manager] as P12Manager DMP_COLOR } } } cloud \"**DMP**\" as DMP frontend -down-\u003e backend DMPC_API -d-\u003e DMP : SOAP XDS / CDA ","categories":"","description":"Accéder au DMP via un certification d'établissement\n","excerpt":"Accéder au DMP via un certification d'établissement\n","ref":"/6.x/connecteurs/dmp/authentifications/indirecte/","tags":"","title":"Authentification Indirecte (via certificat serveur)"},{"body":"Ce projet contient l’API java proposé par la DevBox-santé pour l’intégration du téléservice. Pour une description de l’INS, consultez la page de l’ANS : https://esante.gouv.fr/securite/identite-nationale-de-sante\nElle est basée sur le Guide d’intégration du GIE SESAM-Vitale SEL-MP-043 : https://www.sesam-vitale.fr/documents/20182/75606/SEL-MP-043_01-00_INSi+sans+MR/92d6e408-012d-4dc5-9fd1-d3bdda78735a\nCette API respecte quand c’est possible le Modèle d’Objet de Santé proposé par l’ANS\nGlossaire ANS : Agence du Numérique en Santé CPS / CPx : Carte de Professionnel de Santé INS : Identité National de Santé INSi : Identité National de Santé integré MOS : Modèle d’Objets de Santé ","categories":"","description":"Téléservice Identité National de Santé (INS) intégré aux LPS \n","excerpt":"Téléservice Identité National de Santé (INS) intégré aux LPS \n","ref":"/6.x/connecteurs/insi/","tags":"","title":"INSi"},{"body":"La DevBox-Sante PFI a besoin d’accéder à un service de base de données MongoDB ainsi qu’à l’antivirus Clamav.\nLa DevBox-Sante PFI est un serveur qui peut être configuré sur différents protocoles de communication :\nmllp sftp file Docker Compose Pour une installation de la Devbox-santé, il faut mettre en place 4 services :\nmongodb : persistance des données (traces) clamav : antivirus pfi : serveur de la pfi back-office : outil d’administration et de visualisation des traces Tout cela Au sein d’un meme réseau : pfi-network protégé.\n!theme aws-orange package \"Docker pfi-network\" { component \"pfi-back-office\" as bo database mongodb as db component \"pfi-server\" as pfi component \"clamav\" as av } component \"DPI\" as dpi actor \"BO_administrateur\" as bo_admin pfi -\u003e db bo -\u003e db pfi -\u003e av dpi -u-\u003e pfi : protocol mllp/sftp/file bo_admin -u-\u003e bo : http/8282 Un bon point de départ est ce fichier compose.yml :\nname: devboxsante-pfi-default services: mongodb: image: mongo:8.2.3 container_name: pfi-default-mongodb networks: - pfi_network volumes: - /host_root_path/pfi/mongodb:/data/db # contient les fichiers de la base pour sauvegarde restart: unless-stopped clamav: image: clamav/clamav:1.5.1 container_name: pfi-default-clamav networks: - pfi_network volumes: - /host_root_path/pfi/clamav-db:/var/lib/clamav restart: unless-stopped pfi: image: devboxsante/devboxsante-pfi-server:latest container_name: pfi-default-server depends_on: - mongodb ports: - \"22222:22222\" # en cas de protocole réseau de l'intermediation (mllp, sftp) networks: - pfi_network volumes: - /host_root_path/pfi/server/config:/config # contient la config springframework (application.yml) - /host_root_path/pfi/server/files:/server/files # contient les fichiers hl7 en cas de protocole file environment: JAVA_OPTS: \"-Xms1024M -Xmx1536M\" MONGO_DB_URI: \"mongodb://mongodb:27017/pfi\" DEVBOX_LM_TOKEN: ${DEVBOX_LM_TOKEN} DEVBOX_LM_CLIENT: ${DEVBOX_LM_CLIENT} # autres variables d'environnement cf. la page de configuration restart: on-failure:2 back-office: image: devboxsante/devboxsante-pfi-backoffice:latest container_name: pfi-default-backoffice ports: - \"8282:8282\" networks: - pfi_network environment: MONGO_DB_URI: \"mongodb://mongodb:27017/pfi\" networks: pfi_network: Bien sûr, il faudra veiller à le personnaliser et le configurer en fonction du besoin et des différentes intermediations.\nNotamment, le host_root_path qui contiendra les différents volumes partagés sur le système de fichiers hôte.\n","categories":"","description":"Documentation d'installation de la PFI\n","excerpt":"Documentation d'installation de la PFI\n","ref":"/6.x/plateformes/pfi/installation/","tags":"","title":"Installation"},{"body":" Un projet de démonstration d’utilisation de la DevBox-santé DMP en mode embedded se trouve : https://bitbucket.org/devbox-sante/dmpc-demo\nInstaller l’utilisation de cette API ne nécessite pas d’installation. Il suffit d’ajouter les dépendances adequates dans votre projet Maven / Gradle.\n\u003cdependencies\u003e \u003cdependency\u003e \u003cgroupId\u003efr.devboxsante.dmp\u003c/groupId\u003e \u003cartifactId\u003edmp-api\u003c/artifactId\u003e \u003cversion\u003e${dmp-api.version}\u003c/version\u003e \u003c/dependency\u003e \u003cdependency\u003e \u003cgroupId\u003efr.devboxsante.dmp\u003c/groupId\u003e \u003cartifactId\u003edmp-client-impl\u003c/artifactId\u003e \u003cversion\u003e${dmp.version}\u003c/version\u003e \u003c/dependency\u003e Écrire votre première intégration Initialisation du client La DevBox-Santé DMP est une application spring, pour obtenir un client DMP, il faut injecter dans l’application la classe implémentant l’interface DMPCClient par les mécanismes CDI de spring.\n@Component public class MonComposantDMP { @Autowired private DMPCClient client; } Une méthode dans le composant // Initialisation d'un PS auteur des différentes transactions DMPCAuthor ps1 = new DMPCAuthor(\"1234\", \"Dupont\", \"Pierre\"); ps1.setRole(\"Médecin\"); ps1.setStructureNom(\"Clinique du beau Soleil\"); // Test d'existence (recherche) d'un patient DMPCPatient patient = client.td02Exist(new TD02Request(\"0404312364978044945679\")).getPatient(); // Initialisation d'un document à soumettre au DMP DMPCDocument document = new DMPCDocument(); document.setTitle(\"Titre du document concernant l'hépatite virale\"); document.setContent(\"Contenu textuel\"); document.addEvent(new DMPCCode(\"B18\", \"2.16.840.1.113883.6.3\", \"Hépatite virale chronique\")); document.setFormat(client.getCodesFor(DMPCCode.ANSJeuxValeurs.FORMAT_CODE).get(1).getCode()); // … // Création de l'enveloppe de soumission DMPCSubmission submission = new DMPCSubmission(); submission.addDocument(document); submission.setPatient(patient); // Envoi vers le DMP de la soumission. TD21Response td21Response = client.td21SubmitDocuments(context, new TD21Request(submission)); System.out.println(\"Soumission enregistré avec l'uuid :\" + td21Response.getSubmission().getUuid()); Diagrammme de séquences correspondant\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 == Initialisation == DMPCClient -\u003e DMPCClient : readCertificates DMPCClient -\u003e DMPCClient : generate VIHF DMPCClient -\u003e DMP: init TLS connexion(securise) == Test d'existence == DMPCClient -\u003e DMP : td02Exist(\"279035121518989\") DMP --\u003e DMPCClient : retourne un patient == Soumission == DMPCClient -\u003e DMP : td21SubmitDocuments(new Document(\"hepatite virale\") DMP --\u003e DMPCClient : acknowledge Les différents objets du modèle Afin de transmettre les métadonnées nécessaires aux DMP pendant les différentes transactions, la DevBox-Santé DMP contient un modèle métier dont les classes principales suivantes :\nDMPCCode DMPCPersonnelSante DMPCPatient DMPCDocument DMPCSubmission DMPCCode Un DMPCCode est la structure de base pour toute codification. Une fois un DMPCClient initialisé, il est possible d’obtenir toutes les nomenclatures standard depuis l’enum DMPCCode.ANSJeuxValeurs.\nExemple de récupération d’un DMPCCode :\n// Je m'intéresse à la nomenclature SubjectRole List\u003cDMPCCode\u003e roles = client.getCodesFor(DMPCCode.ANSJeuxValeurs.SUBJECT_ROLE); // liste de tous les codes SubjetRole for (DMPCCode role : roles) { System.out.println(\"role :\" + role); } Initialisation du contexte L’API étant stateless un contexte doit être rappelé pour chaque transaction vers le DMP. Un contexte peut être définit de la manière suivante :\nDMPCContext context = new DMPCContext(); DMPCPersonnelSante ps1 = // initialisation d'un personnel de santé responsable de la transaction vers le DMP context.setAuthor(ps1); Exemple d’utilisation du contexte dans le cadre d’un test d’existence\nclient.td02Exist(context, new TD02Request(patient)); Transactions L’ensemble des transactions sont décrites dans le document transactions\n","categories":"","description":"Intégrer directement dans votre application spring-boot\n","excerpt":"Intégrer directement dans votre application spring-boot\n","ref":"/6.x/connecteurs/dmp/embedded/","tags":"","title":"Embedded : Premier Pas"},{"body":"getParametres() (depuis version 3.0) Afin de pouvoir récupérer le paramètrage du DMP qui permet de répondre à un certain nombre d’exigences notamment les fonctions-gestion-mineurs (EX_GEN-1550). Il faut accéder à la méthode getParametres\nExemple :\nDMPCParametres parametres = dmpcClient.getParametres(); if (parametres.isFonctionsGestionMineurs() \u0026\u0026 agePatient \u003c parametres.getAgeMajorite()) { // Attention EX_GEN-1550 } if (parametres.isProduction()) { // Attention l'environnement est celui de production, } if (!parametres.isCumulInvisiblePatientMasquePs()) { // Attention EX_2.1-1050 } Exemple curl :\ncurl -X GET \"/dmp/parametres\" ","categories":"","description":"Gestion du fichier des Paramètres DMP\n","excerpt":"Gestion du fichier des Paramètres DMP\n","ref":"/5.x/dmp/howtos/transactions/parametres/","tags":"","title":"Fichier des Paramètres DMP"},{"body":"getParametres() (depuis version 3.0) Afin de pouvoir récupérer le paramètrage du DMP qui permet de répondre à un certain nombre d’exigences notamment les fonctions-gestion-mineurs (EX_GEN-1550). Il faut accéder à la méthode getParametres\nExemple :\nDMPCParametres parametres = dmpcClient.getParametres(); if (parametres.isFonctionsGestionMineurs() \u0026\u0026 agePatient \u003c parametres.getAgeMajorite()) { // Attention EX_GEN-1550 } if (parametres.isProduction()) { // Attention l'environnement est celui de production, } if (!parametres.isCumulInvisiblePatientMasquePs()) { // Attention EX_2.1-1050 } Exemple curl :\ncurl -X GET \"/dmp/parametres\" ","categories":"","description":"Gestion du fichier des Paramètres DMP\n","excerpt":"Gestion du fichier des Paramètres DMP\n","ref":"/6.x/connecteurs/dmp/howtos/transactions/parametres/","tags":"","title":"Fichier des Paramètres DMP"},{"body":"Déroulement Récupérer le plan de test depuis la plateforme du CNDA (Cahier de tests filtré par eux selon les profils déclarés précédemment) Remplir l’onglet “Phase 2 Déclarations” et “Phase 2 Tests” avec l’Arborescence_PDT remplis des trames et impressions écrans. Fournir au CNDA ce plan de tests pour vérification Onglet Déclarations Cet onglet demande de répondre à un ensemble d’exigences. Certaines sont couvertes par la DevBox-santé, certaines sont déléguées à l’intégrateur.\nPour vérifier les différents statuts des exigences une simple recherche dans le gestionnaire de demandes de ce projet vous permet d’en récupérer l’état : https://bitbucket.org/devbox-sante/homologation/issues\nOnglet tests Au préalable vous pouvez utilisez la macro de l’onglet “Arborescence” pour générer les répertoires de tests et déclarations. Pour chacun des test vous devez fournir des captures d’écran et/ou les trames SOAP (cf. /5.x/dmp/howto/logs)\n","categories":"","description":"Description de la Phase 2 avec le CNDA\n","excerpt":"Description de la Phase 2 avec le CNDA\n","ref":"/5.x/dmp/howtos/homologation/phase_2/","tags":"","title":"Référencement Phase 2"},{"body":"Déroulement Récupérer le plan de test depuis la plateforme du CNDA (Cahier de tests filtré par eux selon les profils déclarés précédemment) Remplir l’onglet “Phase 2 Déclarations” et “Phase 2 Tests” avec l’Arborescence_PDT remplis des trames et impressions écrans. Fournir au CNDA ce plan de tests pour vérification Onglet Déclarations Cet onglet demande de répondre à un ensemble d’exigences. Certaines sont couvertes par la DevBox-santé, certaines sont déléguées à l’intégrateur.\nPour vérifier les différents statuts des exigences une simple recherche dans le gestionnaire de demandes de ce projet vous permet d’en récupérer l’état : https://bitbucket.org/devbox-sante/homologation/issues\nOnglet tests Au préalable vous pouvez utilisez la macro de l’onglet “Arborescence” pour générer les répertoires de tests et déclarations. Pour chacun des test vous devez fournir des captures d’écran et/ou les trames SOAP (cf. /6.x/connecteurs/dmp/howto/logs)\n","categories":"","description":"Description de la Phase 2 avec le CNDA\n","excerpt":"Description de la Phase 2 avec le CNDA\n","ref":"/6.x/connecteurs/dmp/howtos/homologation/phase_2/","tags":"","title":"Référencement Phase 2"},{"body":"Diagramme de composants !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 [Application Intégrateur] as integrateur package \"DevBox-Santé Proxy REST\" as devbox DEVBOX_COLOR { [DevBox-sante MSSanté] as mss MSS_COLOR } cloud \"**Opérateur MSSanté Nouveau Reférentiel **\" as operateur cloud \"**Mailiz**\" as mailiz cloud \"Apicrypt v2\" as apicrypt integrateur -d-\u003e mss : HTTP REST mss .d.\u003e operateur : SMTP / IMAP mss -d-\u003e mailiz : HTTP / SOAP mss -d-\u003e apicrypt : socket Test et documentation Vous pouvez essayer l’API V2 avec une collection postman disponible ici : Vous pouvez également utiliser l’interface de démo mettant en œuvre les apis v1 et v2 : MS Santé Démo\nRemarque : Il s’agit d’un démonstrateur, toutes les fonctionnalités n’ont pas été implémentées sur cette interface.\nVous pouvez finalement consulter la documentation swagger (v1 et v2) : ","categories":"","description":"Accés à la messagerie sécurisée de Santé au travers d'une API Rest HTTP\n","excerpt":"Accés à la messagerie sécurisée de Santé au travers d'une API Rest …","ref":"/6.x/connecteurs/ms-sante/rest/","tags":"","title":"REST API"},{"body":"Diagramme de composants !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 [Application Intégrateur] as integrateur package \"DevBox-Santé Proxy REST\" as devbox DEVBOX_COLOR { [DevBox-sante MSSanté] as mss MSS_COLOR } cloud \"**Opérateur MSSanté Nouveau Reférentiel **\" as operateur cloud \"**Mailiz**\" as mailiz cloud \"Apicrypt v2\" as apicrypt integrateur -d-\u003e mss : HTTP REST mss .d.\u003e operateur : SMTP / IMAP mss -d-\u003e mailiz : HTTP / SOAP mss -d-\u003e apicrypt : socket Test et documentation Vous pouvez essayer l’API V2 avec une collection postman disponible ici : Vous pouvez également utiliser l’interface de démo mettant en œuvre les apis v1 et v2 : MS Santé Démo\nRemarque : Il s’agit d’un démonstrateur, toutes les fonctionnalités n’ont pas été implémentées sur cette interface.\nVous pouvez finalement consulter la documentation swagger (v1 et v2) : ","categories":"","description":"Accés à la messagerie sécurisée de Santé au travers d'une API Rest HTTP\n","excerpt":"Accés à la messagerie sécurisée de Santé au travers d'une API Rest …","ref":"/5.x/ms-sante/rest/","tags":"","title":"REST Proxy"},{"body":"Le composant CPS permet d’aposer une signature électronique par certificat provenant de l’IGC Santé à un document PDF. L’IGC Santé est une Infrastructure de Gestion de Clés défini par l’ANS :\nLes certificats émis par l’ANS permettent d’identifier les acteurs du secteur, personnes physiques et organisations. Ils attestent également de la qualité des pratiques de gestion des clés publiques mises en oeuvre par ces autorités. Ils peuvent être révoqués en cas de défaillance.\nPour plus de renseignements, sur l’utilisation de signature par certificat dans un fichier PDF : https://helpx.adobe.com/fr/acrobat/kb/certificate-signatures.html\nComment signer un fichier PDF Tout d’abord le résultat attendu :\nExplications :\nIci nous voyons que le document PDF a été signé par un professionnel de santé ayant pour RPPS 8997002296140, et qu’il a été émis par l’IGC-SANTE pour une authentification forte des personnes (de Test dans ce cas).\nCe sont ces mêmes mécanismes de signature qui sont mis en place dans le DMP. En effet, le DMP, comme tous les autres téléservices du Sesam-Vitale s’appuient sur cette même IGC-Santé pour réaliser les authentifications et les signatures des différents appels.\nPour générer, cette signature un seul appel rest du composant est nécessaire :\n8ans swagger Avec curl : curl -X 'POST' \\ 'http://localhost:9999/cps/signPdf' \\ -H 'accept: application/pdf' \\ -H 'Content-Type: multipart/form-data' \\ -F 'file=@1.pdf;type=application/pdf' \\ -F 'location=Bordeaux' \\ -F 'reason=Parce que' Ou encore en java : final PdfSignatureInfo pdfSignatureInfo = new PdfSignatureInfo(); pdfSignatureInfo.setLocation(\"Léognan, FRANCE\"); pdfSignatureInfo.setReason(\"Parceque\"); new PdfSigner(cps).sign(new FileOutputStream(\"exemple.pdf\"), pdfSignatureInfo, new FileOutputStream(\"exemple-signe.pdf\"))); Finalement avec l’outil de démonstration Sur l’environnement de démonstration vous pouvez tester le composant en situation :\nRécupération du fichier PDF à signer : Saisie du code pin si aucune session CPS n’est ouverte (durée de la session 1 heure) À savoir, l’IGC-santé n’est pas reconnu par défaut dans les logiciels d’ADOBE, il faut donc la rajouter dans le magasin d’Acrobat. Pour plus, de renseignements vous pouvez consulter l’article suivant\nÀ savoir également, les visionneuses des navigateurs telles que celles de chrome ou firefox ne possèdent pas de panneau de signature. La signature n’est donc pas détectée dans ces visionneuses. Il faut utiliser Acrobat Reader.\n","categories":"","description":"Comment signer un fichier PDF avec le composant CPS  \n","excerpt":"Comment signer un fichier PDF avec le composant CPS  \n","ref":"/5.x/cps/howtos/signature_pdf/","tags":"","title":"Signature PDF"},{"body":"Le composant CPS permet d’aposer une signature électronique par certificat provenant de l’IGC Santé à un document PDF. L’IGC Santé est une Infrastructure de Gestion de Clés défini par l’ANS :\nLes certificats émis par l’ANS permettent d’identifier les acteurs du secteur, personnes physiques et organisations. Ils attestent également de la qualité des pratiques de gestion des clés publiques mises en oeuvre par ces autorités. Ils peuvent être révoqués en cas de défaillance.\nPour plus de renseignements, sur l’utilisation de signature par certificat dans un fichier PDF : https://helpx.adobe.com/fr/acrobat/kb/certificate-signatures.html\nComment signer un fichier PDF Tout d’abord le résultat attendu :\nExplications :\nIci nous voyons que le document PDF a été signé par un professionnel de santé ayant pour RPPS 8997002296140, et qu’il a été émis par l’IGC-SANTE pour une authentification forte des personnes (de Test dans ce cas).\nCe sont ces mêmes mécanismes de signature qui sont mis en place dans le DMP. En effet, le DMP, comme tous les autres téléservices du Sesam-Vitale s’appuient sur cette même IGC-Santé pour réaliser les authentifications et les signatures des différents appels.\nPour générer, cette signature un seul appel rest du composant est nécessaire :\nDans swagger Avec curl : curl -X 'POST' \\ 'http://localhost:9999/cps/signPdf' \\ -H 'accept: application/pdf' \\ -H 'Content-Type: multipart/form-data' \\ -F 'file=@1.pdf;type=application/pdf' \\ -F 'location=Bordeaux' \\ -F 'reason=Parce que' Ou encore en java : final PdfSignatureInfo pdfSignatureInfo = new PdfSignatureInfo(); pdfSignatureInfo.setLocation(\"Léognan, FRANCE\"); pdfSignatureInfo.setReason(\"Parceque\"); new PdfSigner(cps).sign(new FileOutputStream(\"exemple.pdf\"), pdfSignatureInfo, new FileOutputStream(\"exemple-signe.pdf\"))); Finalement avec l’outil de démonstration Sur l’environnement de démonstration vous pouvez tester le composant en situation :\nRécupération du fichier PDF à signer : Saisie du code pin si aucune session CPS n’est ouverte (durée de la session 1 heure) À savoir, l’IGC-santé n’est pas reconnu par défaut dans les logiciels d’ADOBE, il faut donc la rajouter dans le magasin d’Acrobat. Pour plus, de renseignements vous pouvez consulter l’article suivant\nÀ savoir également, les visionneuses des navigateurs telles que celles de chrome ou firefox ne possèdent pas de panneau de signature. La signature n’est donc pas détectée dans ces visionneuses. Il faut utiliser Acrobat Reader.\nInsérer le cartouche de signature dans le pdf Il est possible d’insérer le cartouche contenant les informations de signature dans le fichier PDF. Pour cela, il suffit de mentionner une page d’insertion, une position dans la page et finalement une taille.\nExemple :\ncurl --request POST \\ --url http://devbox_url/cps/signPdf \\ --header 'content-type: multipart/form-data' \\ --form 'file=@resources\\1.pdf' \\ --form 'signatureInfo={\"location\":\"string\",\"reason\":\"string\",\"cartoucheInfo\":{\"unite\":\"MM\",\"startX\":50,\"startY\":50,\"height\":20,\"width\":120,\"pageNumber\":0}}' ","categories":"","description":"Comment signer un fichier PDF avec le composant CPS  \n","excerpt":"Comment signer un fichier PDF avec le composant CPS  \n","ref":"/6.x/composants/cps/howtos/signature_pdf/","tags":"","title":"Signature PDF"},{"body":" Attention :\nSuivre cette documentation ne vous dispense pas de lire attentivement le guide d’intégration “Service DMP intégré aux LPS” (SEL-MP-037) dans la version du package cible. Ce document est disponible sur l’espace industriel de Sesam-Vitale : https://industriels.sesam-vitale.fr/group/dmp-compatibilite\n","categories":"","description":"Contient un exemple d'utilisation de l'API java et curl des différentes transactions supportées.\n","excerpt":"Contient un exemple d'utilisation de l'API java et curl des …","ref":"/6.x/connecteurs/dmp/howtos/transactions/","tags":"","title":"Mettre en place les différentes transactions"},{"body":"Techniquement, il s’agit de la même authentification que l’authentification Indirecte. L’impact majeur se situe sur le jeton VIHF.\nIl s’agit pour l’intégrateur/établissement de mettre en place une authentification forte de leurs utilisateurs. Une fois authentifiée, l’autorisation de l’utilisateur à solliciter le système DMP doit être vérifiée par la structure de soins. Une fois autorisée l’utilisateur se connecte sur le serveur DMP avec le certificat de l’établissement et un jeton VIHF spécifique :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define DARK_COLOR #0073bb hide footbox actor \"Professionnel de Santé\" as utilisateur DARK_COLOR participant \"Navigateur\" as navigateur DARK_COLOR participant \"Modules métiers \\n\\nintégrateur\" as backend participant \"DevBox-Santé DMP\" as dbxdmp DMP_COLOR participant \"**DMP**\" as dmp DARK_COLOR utilisateur -\u003e navigateur : Connexion activate utilisateur activate navigateur navigateur -\u003e backend : Connexion activate backend note over navigateur, backend: Authentification primaire forte de l'utilisateur backend --\u003e navigateur : utilisateur authentifié deactivate backend navigateur --\u003e utilisateur deactivate navigateur utilisateur -\u003e navigateur activate navigateur navigateur -\u003e backend : accède à une foncion DMP activate backend backend -\u003e dbxdmp : POST /dmp/xxx {context: {air : true, samlAuthnContext: ...} activate dbxdmp note over dbxdmp : Forge du jeton vihf , génération trace\\n Génération requete XDS pour DMP dbxdmp -\u003e dmp : POST SOAP IHE/XDS activate dmp dmp--\u003e dbxdmp : response \u003cSOAP\u003e deactivate dmp dbxdmp -\u003e backend : response {json} deactivate dbxdmp backend -\u003e navigateur : response \u003chtml\u003e deactivate backend navigateur --\u003e utilisateur deactivate navigateur deactivate utilisateur L’inscription dans ce mode est soumise à une auto-homologation de la part du directeur de l’établissement qui engage la responsabilité de sa structure sur le respect du référentiel d’exigences du DMP.\nCelles-ci sont d’ordre organisationnel, technique et sécuritaire. Elles portent sur toute la chaîne d’authentification de l’utilisateur, depuis le processus d’enrôlement jusqu’au transport du jeton d’identification et d’habilitation (VIHF) pour l’accès au DMP. Cela passe par une authentification primaire forte de l’utilisateur.\n","categories":"","description":"Accéder au DMP en mode AIR\n","excerpt":"Accéder au DMP en mode AIR\n","ref":"/5.x/dmp/authentifications/indirecte_renforce/","tags":"","title":"Authentification Indirecte Renforcee AIR"},{"body":"Techniquement, il s’agit de la même authentification que l’authentification Indirecte. L’impact majeur se situe sur le jeton VIHF.\nIl s’agit pour l’intégrateur/établissement de mettre en place une authentification forte de leurs utilisateurs. Une fois authentifiée, l’autorisation de l’utilisateur à solliciter le système DMP doit être vérifiée par la structure de soins. Une fois autorisée l’utilisateur se connecte sur le serveur DMP avec le certificat de l’établissement et un jeton VIHF spécifique :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define DARK_COLOR #0073bb hide footbox actor \"Professionnel de Santé\" as utilisateur DARK_COLOR participant \"Navigateur\" as navigateur DARK_COLOR participant \"Modules métiers \\n\\nintégrateur\" as backend participant \"DevBox-Santé DMP\" as dbxdmp DMP_COLOR participant \"**DMP**\" as dmp DARK_COLOR utilisateur -\u003e navigateur : Connexion activate utilisateur activate navigateur navigateur -\u003e backend : Connexion activate backend note over navigateur, backend: Authentification primaire forte de l'utilisateur backend --\u003e navigateur : utilisateur authentifié deactivate backend navigateur --\u003e utilisateur deactivate navigateur utilisateur -\u003e navigateur activate navigateur navigateur -\u003e backend : accède à une foncion DMP activate backend backend -\u003e dbxdmp : POST /dmp/xxx {context: {air : true, samlAuthnContext: ...} activate dbxdmp note over dbxdmp : Forge du jeton vihf , génération trace\\n Génération requete XDS pour DMP dbxdmp -\u003e dmp : POST SOAP IHE/XDS activate dmp dmp--\u003e dbxdmp : response \u003cSOAP\u003e deactivate dmp dbxdmp -\u003e backend : response {json} deactivate dbxdmp backend -\u003e navigateur : response \u003chtml\u003e deactivate backend navigateur --\u003e utilisateur deactivate navigateur deactivate utilisateur L’inscription dans ce mode est soumise à une auto-homologation de la part du directeur de l’établissement qui engage la responsabilité de sa structure sur le respect du référentiel d’exigences du DMP.\nCelles-ci sont d’ordre organisationnel, technique et sécuritaire. Elles portent sur toute la chaîne d’authentification de l’utilisateur, depuis le processus d’enrôlement jusqu’au transport du jeton d’identification et d’habilitation (VIHF) pour l’accès au DMP. Cela passe par une authentification primaire forte de l’utilisateur.\n","categories":"","description":"Accéder au DMP en mode AIR\n","excerpt":"Accéder au DMP en mode AIR\n","ref":"/6.x/connecteurs/dmp/authentifications/indirecte_renforce/","tags":"","title":"Authentification Indirecte Renforcee AIR"},{"body":"Mode AIR (Authentification Indirecte Renforcee) Il s’agit d’une nouvelle transaction et d’un nouveau support qui n’a pas d’impact sur les autres modes d’authentification et autres transactions\ncf. Authentification Indirecte Renforcee cf. Transactions TD0.10 Ajout du mode de sécurité AuthInHeader Prise en compte du DbxAgent permettant l’authentification CPS depuis l’image docker.\nDocuments CDA Vaccinations Les dates en ZonedDateTime sont dépréciées au profit des LocalDate . Vu aucun usage dans le modèle de date avec l’heure. On va permettre dans le futur la saisie de ces deux types de date avec une convention de nommage, et gérer la sérialisation en fonction du contexte.\nCommentaire sous forme de String ==\u003e Commentaire.description , pour rajouter la notion d’auteur du commentaire : \"commentaire\" : \"(texte libre)\" devient :\n\"commentaire\" : { \"description\" : \"(texte libre)\", \"auteur\" : ... } DMPCCode Les anciens libellés sont ignorés désormais\n@JsonIgnore @Deprecated public String getCode() { return valeur; } @JsonIgnore @Deprecated public String getCodingScheme() { return identifiantNomenclature; } @JsonIgnore @Deprecated public String getDisplayName() { return libelle; } ne renseigner que ces derniers peuvent causer des problèmes :\njava.lang.NullPointerException: Cannot invoke \"fr.devboxsante.dmp.core.Code.getValeur()\" because \"input\" is null at fr.devboxsante.dmp.xds.rim.CodeToClassificationConverter.apply(CodeToClassificationConverter.java:32) ~[dmp-xds-client-6.0.1.jar!/:6.0.1] at fr.devboxsante.dmp.xds.rim.CodeToClassificationConverter.apply(CodeToClassificationConverter.java:15) ~[dmp-xds-client-6.0.1.jar!/:6.0.1] at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197) ~[na:na] ","categories":"","description":"Guide de migration vers la nouvelle version 6.0\n","excerpt":"Guide de migration vers la nouvelle version 6.0\n","ref":"/6.x/connecteurs/dmp/howtos/migrations/5.1_6.0/","tags":"","title":"Migration 5.1 vers la 6.0"},{"body":"L’annuaire Professionel et des établissements s’appuie sur le modèle du MOS\nModèle de base Identifiant { \"valeur\": \"string\", \"qualification\": \"string\", \"identifiantSysteme\": \"string\", \"nomSysteme\": \"string\", \"versionSysteme\": \"string\", \"identifantAgence\": \"string\", \"nomAgence\": \"string\", \"urisysteme\": \"string\" } Code { \"valeur\": \"string\", \"libelle\": \"string\", \"libelleCourt\": \"string\", \"lang\": \"string\", \"identifiantNomenclature\": \"string\", \"nomNomenclature\": \"string\", \"versionNomenclature\": \"string\", \"identifiantAgence\": \"string\", \"nomAgence\": \"string\", \"metadata\": {}, \"urinomenclature\": \"string\" } Tous les codes sont liés à une nomenclature du NOS\nTexte { \"valeur\": \"string\", \"langue\": \"string\" } Date { \"valeur\": \"string\", \"format\": \"string\" } Modèle commun Telecommunication { \"canal\": \"Code:TRE_R200-CanalCommunication\", \"adresseTelecom\": \"Texte\", \"typeMessagerie\": \"Code:TRE_R256-TypeMessagerie\", \"utilisation\": \"Texte\", \"niveauConfidentialite\": \"Code:TRE_R283-NiveauConfidentialite\", \"metadonnee\": {} } Champ Descriptif canal Code spécifiant le canal ou la manière dont s’établit la communication (téléphone, e-mail, URL, etc.) adresseTelecom Valeur de l’adresse de télécommunication dans le format induit par le canal de communication, par exemple un numéro de téléphone, une adresse de courrier électronique, une adresse URL, etc. typeMessagerie Type de messagerie électronique rassemblant des acteurs (personne physique, personne morale ou système) identifiés et enregistrés selon des règles qui garantissent leur légitimité à l’utiliser. L’échange de messages obéit à des spécifications fonctionnelles et techniques propres à ce type de messagerie utilisation (non utilisé) Précise l’utilisation du canal de communication (par exemple à des fins professionnelles, privées, etc.). niveauConfidentialite (non utilisé) Informations relatives à la gestion des classes et des données. Adresse { \"adresseGeocodee\": \"Texte\", \"adresseComplete\": \"Texte\", \"location\": { \"lat\": 0, \"lon\": 0 }, \"exacteLocationGps\": true, \"identificationDestinataire\": \"Texte\", \"identificationDomicile\": \"Texte\", \"pointRemise\": \"Texte\", \"complementPointGeographique\": \"Texte\", \"numeroVoie\": \"Texte\", \"extension\": \"Texte\", \"typeVoie\": \"Code:TRE_R35-TypeVoie\", \"libelleVoie\": \"Texte\", \"lieuDit\": \"Texte\", \"mentionDistribution\": \"Texte\", \"codePostal\": \"Code\", \"localite\": \"Texte\", \"internationPays\": \"Texte\", \"cogcommune\": \"Code:TRE_R13-CommuneOM\" } SavoirFaire { \"typeSavoirFaire\": \"Code:TRE_R04_TYPESAVOIRFAIRE\", \"dateReconnaissance\": \"Date\", \"dateAbandon\": \"Date\", \"metadonnee\": \"Metadonnee\", \"specialite\": \"Code:TRE_R38-SpecialiteOrdinale, TRE_R01-EnsembleSavoirFaire-CISIS\", \"competence\": \"Code:TRE_R39-Competence, TRE_R01-EnsembleSavoirFaire-CISIS\", \"competenceExclusive\": \"Code:TRE_R40-CompetenceExclusive, TRE_R01-EnsembleSavoirFaire-CISIS\", \"orientationParticuliere\": \"Code:TRE_G13-OrientationParticuliere, TRE_R01-EnsembleSavoirFaire-CISIS\", \"capaciteSavoirFaire\": \"Code:TRE_R43-CapaciteSavoirFaire, TRE_R01-EnsembleSavoirFaire-CISIS\" } Les champs suivants dépendent du type de savoir faire:\nType de compétence Champ S specialite C competence CEX competenceExclusive PO orientationParticuliere CAPA capaciteSavoirFaire ","categories":"","description":"Modèle des objets de santé\n","excerpt":"Modèle des objets de santé\n","ref":"/annuaire/mos/","tags":"","title":"Modèle des objets de santé"},{"body":"La version 5.1 apporte son lot de nouveautés, et est totalement compatible avec la 5.0.\nElle supporte néanmoins les évolutions définis dans les différents guides d’intégration 2.7, 2.8 et 2.9, mais également le support du volet CNAM-HR Historique de Remboursement (pour plus de renseignements rendez-vous sur la page dédiée)\n[2.7] Support de la recherche FindDocumentByReferenceId nécessaire à la recherche de documents d’imagerie Une nouvelle requête est disponible également pour la recherche FindDocumentByReferenceId permettant la recherche de documents DICOM :\n[2.8] Prise en charge du mode EJ/EG en authentification indirecte En fonction du déploiement, nous pouvons vouloir authentifier la structure Juridique de l’établissement pour un établissement géographique ou encore déployer que des certificats liés au FINESS Géographique. Le tableau ci-dessous reprend l’ensemble des exigences du GIE Sesam-Vitale en la matière\nPour vous cet intégration sera toute simple,\nMode EG : Vous utilisez un certificat EG (Établissement Géographique) pour vous connecter, toutes les informations de l’établissement (DMPCStructureSante) pour l’alimentation du DMP et l’authentification (VIHF) seront déduites du certificat.\nMode EJ/EG (assouplissement): Vous utilisez un certificat EJ (Établissement Juridique) pour vous connecter et vous précisez dans le contexte d’appel, l’identifiant Finess Géographique de la structure du professionnel. Alors les différents identifiants (celui de l’EJ dans le certificat, et celui de l’EG donné dans le contexte) seront utilisés à bon escient dans les différents champs des transactions (VIHF, Soumission XDS, Document XDS, Document CDA, Document de signature XADES.\nPassage de l’EG dans le contexte des requêtes :\n{ \"author\": { \"structureSante\": { \"idNational\": \"10B0130811\", ... } ... } } Mode EJ (déconseillé): Vous utilisez un certificat EJ (Établissement Juridique) pour vous connecter, si vous ne précisez rien dans le contexte d’appel (DMPCContext) ce sont les informations de ce certificat qui seront utilisées. Attention, toutefois ce mode EJ est fortement déconseillé dorénavant.\n[2.9] Gestion des notes de vaccination en version 2023.1 Il s’agit ici d’une mise en conformité avec le Cadre d’intéropérabilité SIS. Ces modifications sont transparentes pour vous, vous soummettrez les mêmes notes de vaccination et retrouver les mêmes historiques de vaccination avec nos apis : /5.x/dmp/cda/vaccination.\n[2.9] Gestion de la TD0.4 pour les CPE La TD0.4 peut dorénavant être appelé via une CPE pour le compte d’un professionnel, dans ce cas le RPPS du professionnel de santé doit être passé dans la requête\nhttps://bitbucket.org/devbox-sante/devbox-sante-apis/src/master/dmpc-api/src/main/java/fr/devboxsante/dmp/TD04Request.java\nTools : récupérer les informations du contexte d’appel. Un nouvel endpoint a été rajouté, afin d’aider et comprendre les informations récupérées du certificat P12 ou de la carte CPS et insérées à la volée dans les appels vers le DMP.\nDans le cas d’une POST vide en mode securité P12 sur le endpoint /dmp/authenticationContext :\ncurl --location 'http://localhost:9999/dmp/authenticationContext' --data '{}' la réponse est :\n{ \"authorInfo\": { \"internalId\": \"UNKNOWN\", \"structureSante\": { \"idNational\": \"10B0130811\", \"nom\": \"CENTRE DE SANTE RPPS13081\" } }, \"serverInfo\": { \"urlPrefix\": \"https://dev1.lps2.dmp.gouv.fr/si-dmp-server/v2/services\", \"urlWebPrefix\": \"https://ledmp.dmp.gouv.fr\", \"developement\": true }, \"authenticationInfo\": { \"securityMode\": \"p12\", \"p12\": true } } Dans le même cas dans un mode CPS :\n{ \"authorInfo\": { \"rpps\": \"899700296140\", \"nom\": \"MED-CS RPPS0029614\", \"prenom\": \"ANNE\", \"role\": \"10\", \"roleCode\": { \"valeur\": \"10\", \"identifiantNomenclature\": \"1.2.250.1.71.1.2.7\", \"libelle\": \"Médecin\", }, \"specialite\": \"G15_10/SM26\", \"specialiteCode\": { \"valeur\": \"G15_10/SM26\", \"identifiantNomenclature\": \"1.2.250.1.213.1.1.4.5\", \"libelle\": \"Médecin - Qualifié en Médecine Générale (SM)\", }, \"secteurActivite\": \"SA05\", \"secteurActiviteCode\": { \"valeur\": \"SA05\", \"identifiantNomenclature\": \"1.2.250.1.71.4.2.4\", \"libelle\": \"Centre de santé\", }, \"structureSante\": { \"idNational\": \"10B0156832\", \"nom\": \"CENTRE DE SANTE RPPS15683\" } }, \"serverInfo\": { \"urlPrefix\": \"https://dev1.lps2.dmp.gouv.fr/si-dmp-server/v2/services\", \"urlWebPrefix\": \"https://dev1.ps.dmp.gouv.fr/ps/acces-web\", \"developement\": true }, \"authenticationInfo\": { \"securityMode\": \"cps\", \"p12\": false } } Ces informations sont utilisées pour la génération du VIHF (Vecteur d’Identification et d’Habilitations Formelles), et pour identifier le legalAuthenticator des requêtes.\nGestion des logs Les logs CXF sont tracés en mode debug au lieu de info :\nlogging.level: org.apache.cxf.services: debug # pour tracer les messages soaps Validation cda par schematron La validation se fait par les outils du projet https://github.com/ansforge/TestContenuCDA-3-0 au lieu de l’ancien projet https://github.com/ansforge/TestContenuCDA\nPour la liste de toutes les autres demandes : Release note de la version 5.1\n","categories":"","description":"Guide de migration vers la nouvelle version 5.1\n","excerpt":"Guide de migration vers la nouvelle version 5.1\n","ref":"/5.x/dmp/howtos/migrations/5.0_5.1/","tags":"","title":"Migration 5.0 vers la 5.1"},{"body":"","categories":"","description":"Les différents connecteurs de la DevBox-Santé\n","excerpt":"Les différents connecteurs de la DevBox-Santé\n","ref":"/6.x/connecteurs/","tags":"","title":"Connecteurs"},{"body":"La DevBox-santé DMP est une api Java dont tous les composants sont injectables dans un environnement SpringFramework. Elle suit le guide d’intégration définit par le GIE SESAM-Vitale. (https://www.sesam-vitale.fr/en/dmp)\nConnecteur ou API embarquée ","categories":"","description":"Le DMP intégré aux LPS\n","excerpt":"Le DMP intégré aux LPS\n","ref":"/6.x/connecteurs/dmp/","tags":"","title":"DMP"},{"body":"Exigences Ségur Afin d’apporter les preuves segur suivantes :\nDescription Exigence Scénario Le système DOIT être en capacité d’intégrer automatiquement l’extraction publique « PS_LibreAcces_Personne_activite » de l’annuaire santé.fr, conformément au Dossier des Spécifications Fonctionnelles et Techniques “Dossier des Spécifications Fonctionnelles et Techniques Fichiers d’extraction des données en libre accès de l’annuaire esanté.fr” [ANN1]. ANN 1.1 L’éditeur doit exécuter le scénario de conformité suivant : 1. Charger les données en libre accès sur le site https://annuaire.sante.fr (Extractions des données en libre accès des professionnels de santé) Le Système DOIT permettre de paramétrer la fréquence d’intégration automatique de l’annuaire santé. ANN 4.1 L’éditeur DOIT exécuter le scénario de conformité suivant : 1. Paramétrer la fréquence d’intégration automatique de l’annuaire santé. Le système DOIT être en capacité de rechercher une adresse MSSanté d’un correspondant dans l’annuaire Santé, avec l’une des méthodes extraites du “Référentiel #2 Clients de Messageries Sécurisées de Santé” [MSS1]. ANN 5.1 “L’éditeur DOIT exécuter le scénario de conformité suivant : 1. Rechercher une adresse MSSanté d’un correspondant récupérée de l’annuaire Santé ANN 1.1 et ANN 4.1 Mise à jour des données Les données sont chargées chaque semaine via un cron paramétrable dans le fichier de configuration de l’annuaire. Par exemple pour le chargement des professionnels:\nprofessionel: host: https://service.annuaire.sante.fr/annuaire-sante-webservices/V300/services/extraction/PS_LibreAcces file: PS_LibreAcces_Personne_activite cron: ${PROFESSIONEL_CRON:0 0 2 * * 1} Chaque mise à jour de données envoi aux administrateurs un rapport par mail: Les utilisateurs de l’annuaire dispose du service suivant /api/lastUpdated afin de connaitre la dernière mise à jour des données:\ncurl -X GET \"https://annuaire-demo.devbox-sante.fr/api/lastUpdated\" -H \"accept: */*\" { \"Finess\": \"2022-04-20\", \"Nomenclature\": \"2022-04-20\", \"Professionnels\": \"2022-04-20\" } Preuve ANN.1.1.1 Dans le cas d’usage du téléchargement : fournir un exemple de log du chargement du fichier\n2025-07-17 12:16:54.909 INFO 49872 --- [ main] f.d.a.loader.ImportAnnuaireProTask : ################# ImportAnnuaireProTask start 2025-07-17 12:16:54.910 INFO 49872 --- [ main] f.d.a.loader.ImportAnnuaireProTask : ####### downloadSourceFileTask start 2025-07-17 12:16:54.912 INFO 49872 --- [ main] f.d.a.loader.DownloadSourceFileTask : download in C:\\Users\\djidj\\AppData\\Local\\Temp\\/asip.csv.zip from https://service.annuaire.sante.fr/annuaire-sante-webservices/V300/services/extraction/PS_LibreAcces 2025-07-17 12:16:54.925 INFO 49872 --- [ main] f.d.a.loader.DownloadSourceFileTask : save file .... 2025-07-17 12:17:58.122 INFO 49872 --- [ main] f.d.a.loader.DownloadSourceFileTask : unzip PS_LibreAcces_Personne_activite 2025-07-17 12:18:05.939 INFO 49872 --- [ main] f.d.a.loader.DownloadSourceFileTask : download file done (C:\\Users\\djidj\\AppData\\Local\\Temp\\/asip.csv / https://service.annuaire.sante.fr/annuaire-sante-webservices/V300/services/extraction/PS_LibreAcces) 2025-07-17 12:18:05.939 INFO 49872 --- [ main] f.d.a.loader.ImportAnnuaireProTask : ####### downloadSourceFileTask ended 2025-07-17 12:18:07.357 INFO 49872 --- [ main] f.d.a.loader.ImportAnnuaireProTask : ####### loadRepositoryTask Source professionnel_demo_1752747414905 start 2025-07-17 12:18:13.419 INFO 49872 --- [ main] f.d.annuaire.utils.MsSanteUtils : Load MS Santé DONE 2025-07-17 12:18:14.116 INFO 49872 --- [ main] f.d.annuaire.loader.LoadAnnuaireProTask : Bulk :1, time=6755 2025-07-17 12:18:14.517 INFO 49872 --- [ main] f.d.annuaire.loader.LoadAnnuaireProTask : Bulked :1, time=401 2025-07-17 12:18:29.523 INFO 49872 --- [ main] f.d.annuaire.loader.LoadAnnuaireProTask : Bulk :2001, time=15006 2025-07-17 12:18:32.386 INFO 49872 --- [ main] f.d.annuaire.loader.LoadAnnuaireProTask : Bulked :2001, time=2863 … 2025-07-17 12:44:47.955 INFO 49872 --- [ main] f.d.annuaire.loader.LoadAnnuaireProTask : Bulked :2140001, time=1788 2025-07-17 12:44:48.013 INFO 49872 --- [ main] f.d.annuaire.loader.LoadAnnuaireProTask : Bulk :2142001, time=58 2025-07-17 12:44:49.333 INFO 49872 --- [ main] f.d.annuaire.loader.LoadAnnuaireProTask : Bulked :2142001, time=1320 2025-07-17 12:44:49.388 INFO 49872 --- [ main] f.d.annuaire.loader.LoadAnnuaireProTask : Bulk :2144001, time=55 2025-07-17 12:44:50.622 INFO 49872 --- [ main] f.d.annuaire.loader.LoadAnnuaireProTask : Bulked :2144001, time=1234 2025-07-17 12:44:51.050 INFO 49872 --- [ main] f.d.annuaire.loader.LoadAnnuaireProTask : LoadAnnuaireProTask DONE 2025-07-17 12:44:51.052 INFO 49872 --- [ main] f.d.a.loader.ImportAnnuaireProTask : ####### loadRepositoryTask Sourceprofessionnel_demo_1752747414905 ended 2025-07-17 12:44:51.308 INFO 49872 --- [ main] f.d.a.loader.SituationExerciceProTask : *******************SituationExerciceProTask DONE********************** 2025-07-17 12:44:51.308 INFO 49872 --- [ main] f.d.a.loader.ImportAnnuaireProTask : ###################### update professionnel_demo_1752747414905 ended 2025-07-17 12:44:55.025 INFO 49872 --- [ main] f.d.a.s.mail.ToolBoxMessageService : send mail to contact@devcoop.fr subject [Annuaire] Import Professionnel success ANN.4.1.1 Fournir une vidéo montrant le paramétrage de la fréquence de chargement de l’annuaire\nVidéo (Accès à nous demander)\nANN 5.1 Dans le référentiel socle (ANS_MSS_Ref2_Clients_de_messageries_MSSanté_v1.0_20230131.pdf) on peut lire :\nLes clients de messageries disposent de 3 méthodes pour rechercher une adresse MSSanté dans l’Annuaire santé :\nInterface LDAP afin d’effectuer en interactif des recherches de BAL, voir [AS-LDAP-MSS]. Extraction publique des données de l’annuaire afin de constituer un annuaire local synchronisé avec l’annuaire national, voir [AS-EXTRAC-LIBRE], Interface FIHR, nouveau service permettant d’exposer des données des référentiels Personnes physiques/Personnes morales au format JSON, structurées selon le standard d’interopérabilité FHIR, voir [AS-API-FIHR]. L’offre annuaire de la DevBox-santé utilise la méthode numéro 2 pour obtenir l’adresse MSS, car cette extraction publique fait partie de l’intégration de cette offre.\nmssante: host: https://service.annuaire.sante.fr/annuaire-sante-webservices/V300/services/extraction/Extraction_Correspondance_MSSante file: Extraction_ isZip: true forceDownload: true Pour compléter cette methode la DevBox-Santé MSSanté permet d’utiliser la méthode numéro 1 en proposant une intégration de l’annuaire LDAP MSSanté. Il s’agit du service : https://mss-demo.devbox-sante.fr/swagger-ui/index.html#/mss-proxy/findUsers\nExemple de recherche à effectuer depuis votre application\ncurl -X 'GET' \\ 'https://annuaire-demo.devbox-sante.fr/annuaire/professionnels?page=0\u0026size=20\u0026email=infirmier.mssante.fr' \\ -H 'accept: */*' \\ -H 'Authorization: Basic XXXXXX' { \"content\": [ { \"id\": \"XXXX\", \"idPP\": { \"valeur\": \"XXXX\" }, \"typeIdNat_PP\": { \"valeur\": \"8\", \"libelle\": \"N° RPPS\", \"libelleCourt\": \"N° RPPS\", \"lang\": \"fr\", \"identifiantNomenclature\": \"1.2.250.1.71.1.2.15\", \"nomNomenclature\": \"TRE_G08-TypeIdentifiantPersonne\", \"versionNomenclature\": \"20101104000000\", \"urinomenclature\": \"https://mos.esante.gouv.fr/NOS/TRE_G08-TypeIdentifiantPersonne\" }, \"idNat_PS\": { \"valeur\": \"XXX\" }, \"civilite\": { \"valeur\": \"M\", \"libelle\": \"Monsieur\", \"libelleCourt\": \"M\", \"lang\": \"fr\", \"identifiantNomenclature\": \"1.2.250.1.213.1.6.1.69\", \"nomNomenclature\": \"TRE_R81-Civilite\", \"versionNomenclature\": \"20130628000000\", \"urinomenclature\": \"https://mos.esante.gouv.fr/NOS/TRE_R81-Civilite\" }, \"nomExercice\": { \"valeur\": \"XXX\" }, \"prenomExercice\": { \"valeur\": \"DAVID\" }, \"profession\": { \"valeur\": \"60\", \"libelle\": \"Infirmier\", \"libelleCourt\": \"Infirmier\", \"lang\": \"fr\", \"identifiantNomenclature\": \"1.2.250.1.71.1.2.7\", \"nomNomenclature\": \"TRE_G15-ProfessionSante\", \"versionNomenclature\": \"20120618000000\", \"urinomenclature\": \"https://mos.esante.gouv.fr/NOS/TRE_G15-ProfessionSante\" }, \"categorieProfessionnelle\": { \"valeur\": \"C\", \"libelle\": \"Civil\", \"libelleCourt\": \"Civil\", \"lang\": \"fr\", \"identifiantNomenclature\": \"1.2.250.1.213.1.6.1.10\", \"nomNomenclature\": \"TRE_R09-CategorieProfessionnelle\", \"versionNomenclature\": \"20080320092455\", \"urinomenclature\": \"https://mos.esante.gouv.fr/NOS/TRE_R09-CategorieProfessionnelle\" }, \"nomComplet\": { \"valeur\": \"XXXX DAVID\" }, \"situationExercice\": { \"identifiantEG\": { \"valeur\": \"XXXXXX\" }, \"denominationEG\": { \"valeur\": \"CABINET XXXXX DAVID\" }, \"adresse\": { \"adresseGeocodee\": { \"valeur\": \"12 rue des lilas 33000 Bordeaux\" }, \"adresseComplete\": { \"valeur\": \"12 rue des lilas 33000 Bordeaux\" }, \"location\": { \"lat\": 43.013235, \"lon\": 1.344305 }, \"exacteLocationGps\": true, \"numeroVoie\": { \"valeur\": \"12\" }, \"libelleVoie\": { \"valeur\": \"rue des lilas\" }, \"codePostal\": { \"valeur\": \"33000\" }, \"localite\": { \"valeur\": \"Bordeaux\" }, \"internationPays\": { \"valeur\": \"99000\" }, \"cogcommune\": { \"valeur\": \"33063\", \"libelle\": \"Bordeaux\", \"nomNomenclature\": \"TRE_R13-CommuneOM\" } }, \"telecommunication\": [ { \"canal\": { \"valeur\": \"3\", \"libelle\": \"Courrier électronique\", \"libelleCourt\": \"MAIL\", \"nomNomenclature\": \"TRE_R200-CanalCommunication\" }, \"adresseTelecom\": { \"valeur\": \"xxxx@infirmier.xx.mssante.fr\" }, \"typeMessagerie\": { \"valeur\": \"MSSANTE\", \"libelle\": \"MSSANTE\", \"libelleCourt\": \"MSSANTE\", \"nomNomenclature\": \"TRE_R256-TypeMessagerie\" }, \"utilisation\": { \"valeur\": \"PER\" } } ], \"secteurActivite\": { \"valeur\": \"SA07\", \"libelle\": \"Cabinet individuel\", \"libelleCourt\": \"Cabinet individuel\", \"lang\": \"fr\", \"identifiantNomenclature\": \"1.2.250.1.71.4.2.4\", \"nomNomenclature\": \"TRE_R02-SecteurActivite\", \"versionNomenclature\": \"20070725150444\", \"urinomenclature\": \"https://mos.esante.gouv.fr/NOS/TRE_R02-SecteurActivite\" } }, \"modeExercice\": { \"valeur\": \"L\", \"libelle\": \"Libéral, indépendant, artisan, commerçant\", \"libelleCourt\": \"Libéral,indép,artisan,commerç\", \"lang\": \"fr\", \"identifiantNomenclature\": \"1.2.250.1.213.1.6.1.18\", \"nomNomenclature\": \"TRE_R23-ModeExercice\", \"versionNomenclature\": \"20070725150443\", \"urinomenclature\": \"https://mos.esante.gouv.fr/NOS/TRE_R23-ModeExercice\" } }, {}, {}, {}, {} ], \"pageable\": { \"sort\": { \"unsorted\": false, \"sorted\": true, \"empty\": false }, \"pageNumber\": 0, \"pageSize\": 5, \"offset\": 0, \"paged\": true, \"unpaged\": false }, \"last\": true, \"totalPages\": 1, \"totalElements\": 5, \"sort\": { \"unsorted\": false, \"sorted\": true, \"empty\": false }, \"first\": true, \"number\": 0, \"numberOfElements\": 5, \"size\": 5, \"empty\": false } Preuve ANN.5.1.1 Etre en capacité de montrer que le service appelle les services de publication des adresses MSSanté depuis la source de référence pour les adresses MSSanté\n2025-07-17 15:43:57.913 INFO 36792 --- [ main] f.d.annuaire.ImportMsSanteTaskTest : Started ImportMsSanteTaskTest 2025-07-17 15:43:58.694 INFO 36792 --- [ main] f.d.a.loader.ImportAnnuaireMsSanteTask : ################# ImportAnnuaireMssanteTask start 2025-07-17 15:43:58.694 INFO 36792 --- [ main] f.d.a.loader.ImportAnnuaireMsSanteTask : ####### downloadSourceFileTask start 2025-07-17 15:43:58.701 INFO 36792 --- [ main] f.d.a.loader.DownloadSourceFileTask : download in C:\\Users\\djidj\\AppData\\Local\\Temp\\/mssante.txt.zip from https://service.annuaire.sante.fr/annuaire-sante-webservices/V300/services/extraction/Extraction_Correspondance_MSSante 2025-07-17 15:43:58.715 INFO 36792 --- [ main] f.d.a.loader.DownloadSourceFileTask : save file .... 2025-07-17 15:44:04.151 INFO 36792 --- [ main] f.d.a.loader.DownloadSourceFileTask : unzip Extraction_ 2025-07-17 15:44:04.816 INFO 36792 --- [ main] f.d.a.loader.DownloadSourceFileTask : download file done (C:\\Users\\djidj\\AppData\\Local\\Temp\\mssante.txt / https://service.annuaire.sante.fr/annuaire-sante-webservices/V300/services/extraction/Extraction_Correspondance_MSSante) 2025-07-17 15:44:04.816 INFO 36792 --- [ main] f.d.a.loader.ImportAnnuaireMsSanteTask : ####### downloadSourceFileTask ended 2025-07-17 15:44:06.017 INFO 36792 --- [ main] f.d.a.loader.ImportAnnuaireMsSanteTask : ####### loadRepositoryTask Sourcemssante_1752759838685 start 2025-07-17 15:44:06.477 INFO 36792 --- [ main] f.d.a.loader.LoadAnnuaireMsSanteTask : Bulk :1 2025-07-17 15:44:12.181 INFO 36792 --- [ main] f.d.a.loader.LoadAnnuaireMsSanteTask : Bulk :5001 2025-07-17 15:44:15.721 INFO 36792 --- [ main] f.d.a.loader.LoadAnnuaireMsSanteTask : Bulk :10001 2025-07-17 15:44:18.470 INFO 36792 --- [ main] f.d.a.loader.LoadAnnuaireMsSanteTask : Bulk :15001 2025-07-17 15:44:21.359 INFO 36792 --- [ main] f.d.a.loader.LoadAnnuaireMsSanteTask : Bulk :20001 ... 2025-07-17 15:49:11.725 INFO 36792 --- [ main] f.d.a.loader.LoadAnnuaireMsSanteTask : Bulk :535001 2025-07-17 15:49:14.327 INFO 36792 --- [ main] f.d.a.loader.LoadAnnuaireMsSanteTask : Bulk :540001 2025-07-17 15:49:17.258 INFO 36792 --- [ main] f.d.a.loader.LoadAnnuaireMsSanteTask : Bulk :545001 2025-07-17 15:49:21.246 INFO 36792 --- [ main] f.d.a.loader.LoadAnnuaireMsSanteTask : Load MS Santé DONE 2025-07-17 15:49:21.247 INFO 36792 --- [ main] f.d.a.loader.ImportAnnuaireMsSanteTask : ####### loadRepositoryTask Sourcemssante_1752759838685 ended 2025-07-17 15:49:23.548 INFO 36792 --- [ main] f.d.a.s.mail.ToolBoxMessageService : send mail to contact@devcoop.fr subject [Annuaire] Import MsSante success ","categories":"","description":"Preuves Ségur\n","excerpt":"Preuves Ségur\n","ref":"/annuaire/segur/","tags":"","title":"Segur"},{"body":"La version 2.0 de la DevBox-santé MSS apporte le support du nouveau référentiel v2 conforme au ségur vague 2\nQuelques changements ont été apportés.\nExécution Vous pouvez essayer l’API V2 avec une collection postman disponible ici :\nou le swagger :\nSwagger\nAuthentification 2 modes d’authentification sont disponibles:\nPro Santé Connect Certificat p12 (cas d’une bal applicative) La connexion par carte cps est supprimée et la connexion par login/mdp/otp est à priori supprimée (à voir selon l’opérateur)\nModèle Modification du type des identifiants (id, folderId, messageId) integer =\u003e string Modification des Flags: REPLIED =\u003e ANSWERED UNREAD =\u003e SEEN ATTACHMENT, LOW_PRIORITY, NONE, PRIORITY, SENT_BY_ME, URGENT =\u003e Deprecated Nouveaux flags: RECENT, ANSWERED, SEEN Liste complète en V2: ANSWERED, DELETED, DRAFT, FLAGGED, FORWARDED, SEEN, RECENT Modification d’un message (MessageStatus): DELETE =\u003e DELETED DELETE, SPAM, TRASH, UNSPAM =\u003e Deprecated DELETED, READ, FLAGGED, UNFLAGGED, UNREAD, UNDELETED MessageQuery isSent =\u003e sent Rest API Les APIs v2 sont disponible sur l’url /mssante/v2/xxxx, elles ont les mêmes signatures que la V1 à quelques exceptions près:\nEndpoints supprimés Authentification : GET /authentication/cps, POST /authentication/otp, GET /authentication/otp/{otp} POST /messages/attachment Ajout de pièce jointe =\u003e Faire un save du message brouillon avec la PJ DELETE /messages/{id}/attachment/{part} Suppression d’une pièce jointe =\u003e Faire un save du message brouillon sans la PJ Nouveaux endpoints Vider la corbeille: DELETE /folders/trash/clean (=\u003e suppression des messages ayant le flag DELETED) POST /folders/{parentId}/create/type/{type}: Lors de la création d’un dossier ce dernier est “typé” comme contenant des messages ou des dossiers. Si le endpoint ne permet pas de préciser le type alors le dossier est par défaut contenant des messages. POST /folders/{id}/rename GET /messages/{folderId}/ByPage: recherche paginée ","categories":"","description":"Guide de migration vers la nouvelle version 2.0\n","excerpt":"Guide de migration vers la nouvelle version 2.0\n","ref":"/5.x/ms-sante/howtos/migrations/1.2_2.0/","tags":"","title":"Migration 1.2 vers la 2.0"},{"body":"La version 2.0 de la DevBox-santé MSS apporte le support du nouveau référentiel v2 conforme au ségur vague 2\nQuelques changements ont été apportés.\nExécution Vous pouvez essayer l’API V2 avec une collection postman disponible ici :\nou le swagger :\nSwagger\nAuthentification 2 modes d’authentification sont disponibles:\nPro Santé Connect Certificat p12 (cas d’une bal applicative) La connexion par carte cps est supprimée et la connexion par login/mdp/otp est à priori supprimée (à voir selon l’opérateur)\nModèle Modification du type des identifiants (id, folderId, messageId) integer =\u003e string Modification des Flags: REPLIED =\u003e ANSWERED UNREAD =\u003e SEEN ATTACHMENT, LOW_PRIORITY, NONE, PRIORITY, SENT_BY_ME, URGENT =\u003e Deprecated Nouveaux flags: RECENT, ANSWERED, SEEN Liste complète en V2: ANSWERED, DELETED, DRAFT, FLAGGED, FORWARDED, SEEN, RECENT Modification d’un message (MessageStatus): DELETE =\u003e DELETED DELETE, SPAM, TRASH, UNSPAM =\u003e Deprecated DELETED, READ, FLAGGED, UNFLAGGED, UNREAD, UNDELETED MessageQuery isSent =\u003e sent Rest API Les APIs v2 sont disponible sur l’url /mssante/v2/xxxx, elles ont les mêmes signatures que la V1 à quelques exceptions près:\nEndpoints supprimés Authentification : GET /authentication/cps, POST /authentication/otp, GET /authentication/otp/{otp} POST /messages/attachment Ajout de pièce jointe =\u003e Faire un save du message brouillon avec la PJ DELETE /messages/{id}/attachment/{part} Suppression d’une pièce jointe =\u003e Faire un save du message brouillon sans la PJ Nouveaux endpoints Vider la corbeille: DELETE /folders/trash/clean (=\u003e suppression des messages ayant le flag DELETED) POST /folders/{parentId}/create/type/{type}: Lors de la création d’un dossier ce dernier est “typé” comme contenant des messages ou des dossiers. Si le endpoint ne permet pas de préciser le type alors le dossier est par défaut contenant des messages. POST /folders/{id}/rename GET /messages/{folderId}/ByPage: recherche paginée ","categories":"","description":"Guide de migration vers la nouvelle version 2.0\n","excerpt":"Guide de migration vers la nouvelle version 2.0\n","ref":"/6.x/connecteurs/ms-sante/howtos/migrations/1.2_2.0/","tags":"","title":"Migration 1.2 vers la 2.0"},{"body":"La version 5.0 apporte son lot de nouveautés, et tend vers une intégration la plus souple avec le DMP mais aussi les autres téléservices de santé.\nCette version supporte encore les anciennes requêtes mais déprecient certaines notions.\nUne nouvelle collection postman est disponible dans l’espace public Postman : https://www.postman.com/universal-satellite-657415/workspace/devbox-sante-exemples\nNote et Historique de vaccination Tout d’abord, nous avons ajouté le support de la note et historique de vaccinations, pour plus d’information consulter la documentation à ce sujet : /5.x/dmp/cda/vaccination\nGestion de l’INS améliorée Pour être en conformité avec l’INSi et simplifier l’intégration entre les deux composants DMP et INSi, dans tous les objets faisant référence à un INS, le couple identifiant/autorité est dorénavant utilisé au lieu de spécifier cette autorité dans le contexte de la requête.\nPar exemple, une requête (td0.2 test d’existence) en version 4.7 :\ndevient en 5.0 :\nBien sur, l’ancienne forme est encore supporté sur cette version mais il est fortement conseillé d’adopter la nouvelle forme.\nLe même exemple en java, un test d’existence en 4.7 :\ncontext.setInsNirAutorite(DMPCContext.DMPCInsNirAutorite.TEST); TD02Response response = client.td02Exist(context, new TD02Request(\"277076322082910\")); devient en 5.0\nvar response = client.td02Exist( context, TD02Request.builder() .matriculeINS(Identifiant.builder() .valeur(\"277076322082910\") .identifiantSysteme(Oids.ANS_1_2_250_1_213._1_4_10_INS_NIR_TEST.val()) .build()) .build() ); Validation Les messages de validation ont été améliorés en contextualisant la plupart des validations (en soumission, en récupération). Mais aussi plus finement, comme par exemple, la vérification qu’un code d’un document est bien dans son jeu de valeurs spécifique.\nQuelques exemples de validations effectuées sur un DMPCDocument :\npublic class DMPCDocument { ... @CodeValid(jeuValeurs = DMPCCode.JeuxValeursDMP.FORMAT_CODE, groups = {OnSubmit.class}) private DMPCCode formatCode; ... @NotNull(groups = {BinaryRequired.class}) private byte[] content; @NotNull(groups = {OnRetrieve.class}) private String entryUuid; Exemple de message obtenu dorénavant pour un classCode erronné dans le document :\n\"message\": \"Code 55 inexistant dans la nomenclature JDV_J57-ClassCode-DMP.tabs\" Par conséquent, certains contrôles sont plus sévères, et donc certains cas passant peuvent ne plus l’être. Par exemple, il n’est plus possible d’identifier un Personnel de santé avec un internalId sans préciser son identifiant de structure. Ou encore, une vérification du format des RPPS est effectué dans les documents envoyés.\nConsulter, les sources pour visualiser les contrôles possibles : https://bitbucket.org/devbox-sante/devbox-sante-apis/src/master/dmpc-api\nAjout de la TD0.4 La documentation sur cette nouvelle transaction est ici\nAutres évolutions Suppression de la TD0.0\nMeilleur gestion des cartes CPF (en formation)\nGestion multicertificats\nSuppression de la transaction TD1.5\nSuppression du statut Médecint Traitant (TD0.3)\nContrôle des formats d’identifiant (RPPS, FINESS …)\n… et d’autres encore cf. le release note\n","categories":"","description":"Guide de migration vers la nouvelle version 5.0\n","excerpt":"Guide de migration vers la nouvelle version 5.0\n","ref":"/5.x/dmp/howtos/migrations/4.7_5.0/","tags":"","title":"Migration 4.7 vers la 5.0"},{"body":"Le DevBox-Santé agent est le composant d’accès aux différentes cartes se connectant sur une DevBox-Santé backend via des WebSockets :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Environnement intégrateur\" { [BackEnd intégrateur] as backend component \"DevBox-Santé Proxy REST\" as devbox DEVBOX_COLOR { [CpsAgentClient] CPS_COLOR [VitaleAgentClient] VITALE_COLOR } } node \"Poste Utilisateur PC\" { ' node \"Navigateur\" as browser { ' [FrontEnd intégrateur] as frontend ' } component \"DevBox-agent\" as dbxAgent DEVBOX_COLOR { [DevBox-sante CPS] as cps CPS_COLOR [DevBox-sante Vitale] as vitale VITALE_COLOR } [Cryptolib CPS (ANS)] as cryptolibCPS [Apis natives Vitale] as apiVitale } cps -[hidden]d- vitale CpsAgentClient -[hidden]- VitaleAgentClient CpsAgentClient \u003c-\u003e cps : wss:// VitaleAgentClient \u003c-\u003e vitale : wss:// backend -d-\u003e CpsAgentClient : http(s) 'devbox \u003c--\u003e dbxAgent : websocket cps -\u003e cryptolibCPS : natif vitale -\u003e apiVitale : natif Courte démonstration Comment récupérer par carte vitale l’INS de Ruth de Vinci avec une carte CPS depuis un environnement distant en moins de 2 minutes (installation comprise):\nTéléchargement Windows Win 64 (native): DevBoxSante-agent-windows-x64-1.0.5 MacOS Mac OS (java) : DevBoxSante-jAgent-macos-1.0.6 Installation Installation manuel Il suffit de suivre les étapes d’installation de la GUI de l’installer.\nInstallation en mode silencieux L’installer de la DevBox-Santé-agent s’appuie sur install4j, il est donc possible de lancer une installation en mode silencieux avec l’option -q. Pour cela :\nInstaller la devbox-sante en mode GUI sur un poste afin de récupérer le fichier .install4j/response.varfile se trouvant dans le répertoire d’installation. Il devrait ressembler à cela : # install4j response file for DevBox Santé - Agent sys.adminRights$Boolean=true sys.component.178$Boolean=true sys.component.2855$Boolean=false sys.component.2857$Boolean=true sys.installationDir=C\\:\\\\Program Files\\\\DevBoxSante-agent sys.languageId=fr sys.programGroupAllUsers$Boolean=true sys.programGroupDisabled$Boolean=false sys.programGroupName=DevBox Sant\\u00E9 - Agent Lancer l’installation en mode silencieux. Sous Windows depuis un terminal en tant qu’administrateur : .\\DevBoxSante-agent-windows-x64-VERSION.exe -q -varfile response.varfile Plus d’information : https://www.ej-technologies.com/resources/install4j/help/doc/installers/installerModes.html\nExécution Si le DevBox-Santé Agent est bien démarré, vous pouvez depuis le menu “À propos” de l’icone de la barre de tâches :\nAu 1er lancement, l’agent est configuré avec des valeurs par défaut et ne pourra donc pas se connecter à votre backend.\nGestion des paramètres de lancement Afin de configurer l’agent selon votre installation, vous devez le relancer en lui passant les paramètres suivants :\ndevbox-sante.agent.backend.baseUrl : url du serveur distant devbox-sante.agent.sessionId : token de session partagé entre le serveur et l’agent (format uuid) devbox-sante.agent.backend.auth.basic : l’authentification basic encodée en base64 Nous allons détailler les paramètres.\nBackend url Cet url dépend de votre environnement, sa récupération est à votre convenance (configuration dans votre backend par exemple)\nSessionId Cet id va permettre de relier l’utilisateur. Lorsque vous faites une lecture de carte CPS par exemple:\ncurl -X GET /cps/cardInfo -H dbx-agent-sessionid=\u003cUUID\u003e Le serveur va alors interroger l’Agent ayant cette session id. Cet UUID doit être généré par votre application.\nAuth Afin de se connecter au backend, l’Agent a besoin d’une authentification temporaire. Pour cela, votre backend appelle le service suivant:\nGET /auth/generate/token/forUser/{username} Result;\n{token: xxxx} Le token a une durée de vie de 1H.\nLancement de l’Agent Une fois tous les paramètres récupérés, vous pouvez lancer l’agent via:\ndepuis un navigateur : dbx://config?devbox-sante.agent.sessionId=22f01...0f658\u0026devbox-sante.agent.backend.baseUrl=ws://localhost:8080\u0026devbox-sante.agent.backend.auth.basic=ZGV2Y29vcDplYmFjMz...NzA3OGI1ZDQ= ou depuis une ligne de commande Windows ( MINGW64 ): /c/Program Files/DevBoxSante-agent/devbox-sante.exe -Ddevbox-sante.agent.sessionId=22...90f65 -Ddevbox-sante.agent.backend.baseUrl=ws://localhost:8080 -Ddevbox-sante.agent.backend.auth.basic=ZGV2Y29vcDplYmFj...hZDA4NzA3OGI1ZDQ= Administration Liste des agents connectés: GET /sessions/info Détail d’un agent: GET /sessions/{agentSessionId}/info Arrêt d’un agent GET /sessions/{agentSessionId}/shutdown ","categories":"","description":"Accéder aux Cartes CPS et Vitale des postes utilisateurs depuis votre environnement serveur \n","excerpt":"Accéder aux Cartes CPS et Vitale des postes utilisateurs depuis votre …","ref":"/6.x/installation/agent/","tags":"","title":"Agent DevBox-santé"},{"body":"Dans la DevBox-Santé MSS, le choix a été fait de définir un mode d’authentification privilégiée le mode Authentication in Header HTTP.\nAuthentification In Header Dans le cas d’authentification authInHeader (Le type d’autentification est renseigné dans le fichier de configuration, cf: Configuration V1 et v2)\nLe connecteur dispose de 4 modes d’authentification possibles :\nJeton PSC (Pro Santé Connect) (V2) Certificat p12 (BAL applicative) (V2) Token de session après authentification avec Login / Mot de passe et OTP (Mailiz) Carte CPS (Mailiz) Lors d’un appel à un service REST, la requête doit contenir les informations dans le header HTTP suivante :\noperator pour désigner l’opérateur MSS choisi (un endpoint permet de donner la liste des opérateurs possibles) userName pour initialiser la session SMTP/IMAP Une fois l’operator choisi et le userName connu, il faut mettre à disposition dans le header HTTP les informations d’authentifications :\nCertificat PSC (pro santé connect) Cette authentification est disponible pour les BALs personnelles/individuelles ou organisationnelles.\nLe client doit au préalable récupérer un jeton PSC (access token) via son serveur d’authentification enregistré auprès de l’ANS et le passer aux requêtes dans un header. Ce token est généralement valable 4-5 minutes. Le client doit donc redemander régulièrement un nouveau jeton à son serveur d’authentification.\nExemple:\nheaders { mssAuthentication.operator: mailiz mssAuthentication.psc: MIIcbAIBA...Bv4sVwVpAICCAA= mssAuthentication.userName: xxx-pers@mssante.fr } Certificat p12 (bal applicative) Cette authentification est disponible pour les BALs applicatives. L’application cliente se connecte à la mssanté via un certificat p12 et le mot de passe associé qui sont passé dans les headers lors de chaque appel au connecteur.\nExemple:\nheaders { mssAuthentication.operator: medimail mssAuthentication.password: password mssAuthentication.p12: MIIcbAIBA...Bv4sVwVpAICCAA= mssAuthentication.userName: xxx-applicatif-test@medimail.mssante.fr } Le certificat p12 doit être encodé en base64.\nLogin, mot de passe et OTP (mailiz avec les API v1) Cette authentification est disponible pour mailiz mais avec les API v1. Le client s’authentifie via des services de connexion REST et doit repasser le cookie correspondant à la session courante lors de chaque appel au connecteur.\nExemple:\nheaders { mssAuthentication.operator: mailiz-v1 Cookie: JSESSIONID=1139181CDF6638784181753183EC32A5 } Carte CPS (mailiz avec les API v1) Cette authentification est disponible pour mailiz mais avec les API v1. Le client s’authentifie l’utilitaire CPS de la DevBox Santé puis doit repasser le cookie correspondant à la session courante lors de chaque appel au connecteur.\nExemple:\nheaders { mssAuthentication.operator: mailiz-v1 Cookie: JSESSIONID=1139181CDF6638784181753183EC32A5 } ","categories":"","description":"Différents modes d'authentification\n","excerpt":"Différents modes d'authentification\n","ref":"/5.x/ms-sante/authentifications/","tags":"","title":"Authentifications"},{"body":"Dans la DevBox-Santé MSS, le choix a été fait de définir un mode d’authentification privilégiée le mode Authentication in Header HTTP.\nAuthentification In Header Dans le cas d’authentification authInHeader (Le type d’autentification est renseigné dans le fichier de configuration, cf: Configuration V1 et v2)\nLe connecteur dispose de 4 modes d’authentification possibles :\nJeton PSC (Pro Santé Connect) (V2) Certificat p12 (BAL applicative) (V2) Token de session après authentification avec Login / Mot de passe et OTP (Mailiz) Carte CPS (Mailiz) Lors d’un appel à un service REST, la requête doit contenir les informations dans le header HTTP suivante :\noperator pour désigner l’opérateur MSS choisi (un endpoint permet de donner la liste des opérateurs possibles) userName pour initialiser la session SMTP/IMAP Une fois l’operator choisi et le userName connu, il faut mettre à disposition dans le header HTTP les informations d’authentifications :\nCertificat PSC (pro santé connect) Cette authentification est disponible pour les BALs personnelles/individuelles ou organisationnelles.\nLe client doit au préalable récupérer un jeton PSC (access token) via son serveur d’authentification enregistré auprès de l’ANS et le passer aux requêtes dans un header. Ce token est généralement valable 4-5 minutes. Le client doit donc redemander régulièrement un nouveau jeton à son serveur d’authentification.\nExemple:\nheaders { mssAuthentication.operator: mailiz mssAuthentication.psc: MIIcbAIBA...Bv4sVwVpAICCAA= mssAuthentication.userName: xxx-pers@mssante.fr } Certificat p12 (bal applicative) Cette authentification est disponible pour les BALs applicatives. L’application cliente se connecte à la mssanté via un certificat p12 et le mot de passe associé qui sont passé dans les headers lors de chaque appel au connecteur.\nExemple:\nheaders { mssAuthentication.operator: medimail mssAuthentication.password: password mssAuthentication.p12: MIIcbAIBA...Bv4sVwVpAICCAA= mssAuthentication.userName: xxx-applicatif-test@medimail.mssante.fr } Le certificat p12 doit être encodé en base64.\nLogin, mot de passe et OTP (mailiz avec les API v1) Cette authentification est disponible pour mailiz mais avec les API v1. Le client s’authentifie via des services de connexion REST et doit repasser le cookie correspondant à la session courante lors de chaque appel au connecteur.\nExemple:\nheaders { mssAuthentication.operator: mailiz-v1 Cookie: JSESSIONID=1139181CDF6638784181753183EC32A5 } Carte CPS (mailiz avec les API v1) Cette authentification est disponible pour mailiz mais avec les API v1. Le client s’authentifie l’utilitaire CPS de la DevBox Santé puis doit repasser le cookie correspondant à la session courante lors de chaque appel au connecteur.\nExemple:\nheaders { mssAuthentication.operator: mailiz-v1 Cookie: JSESSIONID=1139181CDF6638784181753183EC32A5 } ","categories":"","description":"Différents modes d'authentification\n","excerpt":"Différents modes d'authentification\n","ref":"/6.x/connecteurs/ms-sante/authentifications/","tags":"","title":"Authentifications"},{"body":"Configuration application.yml Pour configurer la DevBox-Santé INSi, il suffit de modifier les paramètres du fichier application.yml :\ndevbox-sante: insi: url: https://qualiflps.services-ps.ameli.fr/lps lpsInfo: nom: À_CHANGER numeroAutorisation: À_CHANGER version: À_CHANGER #Cet élément XML contient l’identifiant d’installation du logiciel. Cet identifiant est généré lors de l’installation du SI-PS. Cet identifiant prend la forme d’un UUID sous sa forme canonique. Il doit être pérenne pour une installation d’un logiciel. Ce numéro est une aide au support, car il permet de regrouper les requêtes d’un même logiciel. Il permet également de compter le nombre de logiciels distincts accédant au TLSi. instance: À_CHANGER (UUID) context.strictCheckIdentifiantFacturation: true # true par défaut mais peut être mis à false car \"Il est recommandé de rendre cette donnée paramétrable dans le LPS.\" Pour charger le fichier de configuration :\njava -Dspring.config.location=./application.yml -jar insi-proxy.jar Mode de sécurité Il existe quatre modes d’authentification pour accéder au téléservice INSi dans le composant DevBox-Santé :\nCPS : génération des signatures des messages SOAP en utilisant la cryptolib CPS au travers du composant DevBox-Santé CPS. CPS Stellair : mode d’authentification spécifique offre Stellair P12 : initialisation des connexion TLS avec le Téléservice INSi avec un certificat d’établissement p12 P12Multiple : permet la connexion TLS avec plusieurs certificats d’établissements p12 P12InHeader : permet lo connexion TLS avec le certificat P12 passé dans le header HTTP. Attention les urls des téléservices sont différents en fonction du mode d’authentification CPS Mode de sécurité CPS, dans le fichier de configuration application.yml : devbox-sante: insi: security.mode: cps # url: https://qualiflps.services-ps.ameli.fr/lps url: https://services-ps.ameli.fr/lps Utiliser ce mode de sécurité pour l’utilisation du composant avec l’authentification par carte CPS.\nP12 Ce mode de sécurité P12, permet le chargement d’un fichier p12 défini le fichier de configuration application.yml :\ndevbox-sante: insi: security.mode: p12 # url: https://qualiflps-services-ps-tlsm.ameli.fr/lps url: https://services-ps-tlsm.ameli.fr/lps tls.p12: path: À_CHANGER_NOM_FICHIER.p12 password: À_CHANGER_MOT_DE_PASSE_FICHIER.p12 Utiliser ce mode de sécurité pour l’utilisation du composant avec l’authentification par certificat serveur.\nRemarque Il existe deux types de certificat les INSI-AUTO et les INSI-MANU. Il s’agit d’une règle de nommage défini dans les spécifications. Il est demandé par le CNDA d’utiliser des certificats INSI-MANU pour tout accès au téléservice INSi par des acteurs humains, et INSI-AUTO pour des accès par des acteurs de traitements automatiques, types batchs. P12 Multiple Ce mode de sécurité p12s permet de gérer en une seule installation l’ensemble des connexions des différents établissements géographiques/juridiques.\nUn AmoP12Provider par défaut va charger un ensemble de fichier P12 à partir de la configuration, comme par exemple :\ndevbox-sante: insi: security.mode: p12s # url: https://qualiflps-services-ps-tlsm.ameli.fr/lpss url: https://services-ps-tlsm.ameli.fr/lps tls: p12: - name: FINESS_ETAB_1-manu path: FINESS_ETAB_1_CERTIFICAT_MANU.p12 password: À_CHANGER_MOT_DE_PASSE_FICHIER - name: FINESS_ETAB_1-auto path: FINESS_ETAB_1E_CERTIFICAT_AUTO.p12 password: À_CHANGER_MOT_DE_PASSE_FICHIER - name: FINESS_ETAB_2-manu path: FINESS_ETAB_2_CERTIFICAT_AUTO.p12 password: À_CHANGER_MOT_DE_PASSE_FICHIER Il est toutefois possible de définir un autre AmoP12Provider, il suffit de configurer un nouvau Bean Spring avec une autre implémentation. Comme par exemple, une implémentation qui va charger le certificat en base de données :\n@Component public class FromDatabaseP12Provider implements AmoP12Provider { public AmoP12 getP12(String name) { // chargement en base de donnée des informations du certificat ayant pour nom name. } } Pour charger dynamiquement un certificat il suffit de rajouter le nom du certificat (amoP12.name) dans le header de la requête HTTP :\ncurl -X GET \"http://localhost:8584/insi/rechercheSansVitale\" -H \"accept: application/json\" -H \"amoP12.name: ÀPréciser\" P12 in header Ce mode de sécurité, p12InHeader permet d’envoyer dans le header le certificat p12 et le password à la devbox-santé INSI. Ainsi l’appelant maîtrise la gestion de ces certificats.\nAttention : Il est conseillé de mettre en place ce mode de sécurité seulement dans un environnement sécurisé\nPour le configurer :\ndevbox-sante: insi: security.mode: p12InHeader Il faut donc rajouter deux header dans chaque requête HTTP :\namoP12.p12 contenant le p12 encodé en base 64 amoP12.password contenant le mot de passe du certificat p12 Jeu de test CNDA Afin de pouvoir exécuter les tests d’injection demandées par le CNDA, il faut lancer le proxy avec l’un des profils spring activés suivant :\nCNDA_WEB : rajoute un nouvel endpoint CNDA permettant l’injection des fichiers de test XML du CNDA. CNDA : rajoute un menu dans le TrayIcon du système d’exploitation permettant l’injection des fichiers de test XML du CNDA. Exemple :\njava -Dspring.profiles.active=CNDA_WEB -jar insi-proxy.jar Vous pouvez également injecter la resource de votre choix à partir du moment où elle correspond au format de la réponse SOAP souhaitée : Exemple de fichier soap.xml demandé : Reponse_numcasINSI_11_DateNaissance00_Annee.xml Configuration de la sécurité Le proxy insi est une application web Spring Boot, toutes les possibilités de spring-security sont donc disponibles.\nExemple de configuration par défaut empêchant toutes les IPs externes :\ndevbox-sante: security.forceLocalAddress: true Surcharge les LpsInfo dans le proxy La configuration du proxy contient les informations par défaut de configuration du LPS (Logiciel de Professionnel de Santé) cf. paragraphe précédent. Il est toutefois possible de surcharger ces valeurs (comme le numeroAutorisation qui peut être confidentiel) en les passant dans les header HTTP des requêtes.\nVoici la liste des informations LPS pouvant etre surchargées :\nInformations LPS Clef dans le header numero d’autorisation insi.lpsInfo.numeroAutorisation nom du lps insi.lpsInfo.nom version du LPS insi.lpsInfo.version Par exemple :\ncurl -X GET \"http://localhost:8485/insi/rechercheAvecVitale\" -H \"accept: application/json\" -H \"insi.lpsInfo.numeroAutorisation: ÀPréciser\" Ainsi le client peut dynamiquement passer les informations du LPS.\n","categories":"","description":"Configuration de la DevBox-santé INSi\n","excerpt":"Configuration de la DevBox-santé INSi\n","ref":"/5.x/insi/configuration/","tags":"","title":"Configuration DevBox-santé INSi"},{"body":"Configuration application.yml Pour configurer la DevBox-Santé INSi, il suffit de modifier les paramètres du fichier application.yml :\ndevbox-sante: insi: url: https://qualiflps.services-ps.ameli.fr/lps lpsInfo: nom: À_CHANGER numeroAutorisation: À_CHANGER version: À_CHANGER #Cet élément XML contient l’identifiant d’installation du logiciel. Cet identifiant est généré lors de l’installation du SI-PS. Cet identifiant prend la forme d’un UUID sous sa forme canonique. Il doit être pérenne pour une installation d’un logiciel. Ce numéro est une aide au support, car il permet de regrouper les requêtes d’un même logiciel. Il permet également de compter le nombre de logiciels distincts accédant au TLSi. instance: À_CHANGER (UUID) context.strictCheckIdentifiantFacturation: true # true par défaut mais peut être mis à false car \"Il est recommandé de rendre cette donnée paramétrable dans le LPS.\" Pour charger le fichier de configuration :\njava -Dspring.config.location=./application.yml -jar insi-proxy.jar Mode de sécurité Il existe quatre modes d’authentification pour accéder au téléservice INSi dans le composant DevBox-Santé :\nCPS : génération des signatures des messages SOAP en utilisant la cryptolib CPS au travers du composant DevBox-Santé CPS. CPS Stellair : mode d’authentification spécifique offre Stellair P12 : initialisation des connexion TLS avec le Téléservice INSi avec un certificat d’établissement p12 P12Multiple : permet la connexion TLS avec plusieurs certificats d’établissements p12 P12InHeader : permet lo connexion TLS avec le certificat P12 passé dans le header HTTP. Attention les urls des téléservices sont différents en fonction du mode d’authentification CPS Mode de sécurité CPS, dans le fichier de configuration application.yml : devbox-sante: insi: security.mode: cps # url: https://qualiflps.services-ps.ameli.fr/lps url: https://services-ps.ameli.fr/lps Utiliser ce mode de sécurité pour l’utilisation du composant avec l’authentification par carte CPS.\nP12 Ce mode de sécurité P12, permet le chargement d’un fichier p12 défini le fichier de configuration application.yml :\ndevbox-sante: insi: security.mode: p12 # url: https://qualiflps-services-ps-tlsm.ameli.fr/lps url: https://services-ps-tlsm.ameli.fr/lps tls.p12: path: À_CHANGER_NOM_FICHIER.p12 password: À_CHANGER_MOT_DE_PASSE_FICHIER.p12 Utiliser ce mode de sécurité pour l’utilisation du composant avec l’authentification par certificat serveur.\nRemarque Il existe deux types de certificat les INSI-AUTO et les INSI-MANU. Il s’agit d’une règle de nommage défini dans les spécifications. Il est demandé par le CNDA d’utiliser des certificats INSI-MANU pour tout accès au téléservice INSi par des acteurs humains, et INSI-AUTO pour des accès par des acteurs de traitements automatiques, types batchs. P12 Multiple Ce mode de sécurité p12s permet de gérer en une seule installation l’ensemble des connexions des différents établissements géographiques/juridiques.\nUn AmoP12Provider par défaut va charger un ensemble de fichier P12 à partir de la configuration, comme par exemple :\ndevbox-sante: insi: security.mode: p12s # url: https://qualiflps-services-ps-tlsm.ameli.fr/lpss url: https://services-ps-tlsm.ameli.fr/lps tls: p12: - name: FINESS_ETAB_1-manu path: FINESS_ETAB_1_CERTIFICAT_MANU.p12 password: À_CHANGER_MOT_DE_PASSE_FICHIER - name: FINESS_ETAB_1-auto path: FINESS_ETAB_1E_CERTIFICAT_AUTO.p12 password: À_CHANGER_MOT_DE_PASSE_FICHIER - name: FINESS_ETAB_2-manu path: FINESS_ETAB_2_CERTIFICAT_AUTO.p12 password: À_CHANGER_MOT_DE_PASSE_FICHIER Il est toutefois possible de définir un autre AmoP12Provider, il suffit de configurer un nouvau Bean Spring avec une autre implémentation. Comme par exemple, une implémentation qui va charger le certificat en base de données :\n@Component public class FromDatabaseP12Provider implements AmoP12Provider { public AmoP12 getP12(String name) { // chargement en base de donnée des informations du certificat ayant pour nom name. } } Pour charger dynamiquement un certificat il suffit de rajouter le nom du certificat (amoP12.name) dans le header de la requête HTTP :\ncurl -X GET \"http://localhost:8584/insi/rechercheSansVitale\" -H \"accept: application/json\" -H \"amoP12.name: ÀPréciser\" P12 in header Ce mode de sécurité, p12InHeader permet d’envoyer dans le header le certificat p12 et le password à la devbox-santé INSI. Ainsi l’appelant maîtrise la gestion de ces certificats.\nAttention : Il est conseillé de mettre en place ce mode de sécurité seulement dans un environnement sécurisé\nPour le configurer :\ndevbox-sante: insi: security.mode: p12InHeader Il faut donc rajouter deux header dans chaque requête HTTP :\namoP12.p12 contenant le p12 encodé en base 64 amoP12.password contenant le mot de passe du certificat p12 Surcharge les LpsInfo dans le proxy La configuration du proxy contient les informations par défaut de configuration du LPS (Logiciel de Professionnel de Santé) cf. paragraphe précédent. Il est toutefois possible de surcharger ces valeurs (comme le numeroAutorisation qui peut être confidentiel) en les passant dans les header HTTP des requêtes.\nVoici la liste des informations LPS pouvant etre surchargées :\nInformations LPS Clef dans le header numero d’autorisation insi.lpsInfo.numeroAutorisation nom du lps insi.lpsInfo.nom version du LPS insi.lpsInfo.version Par exemple :\ncurl -X GET \"http://localhost:8485/insi/rechercheAvecVitale\" -H \"accept: application/json\" \\ -H \"insi.lpsInfo.nom: MON_LPS\" \\ -H \"insi.lpsInfo.version: VERSION_DE_MON_LPS\" \\ -H \"insi.lpsInfo.numeroAutorisation: FOURNI_PAR_LE_CNDA\" Ainsi le client peut dynamiquement passer les informations du LPS.\n","categories":"","description":"Configuration de la DevBox-santé INSi\n","excerpt":"Configuration de la DevBox-santé INSi\n","ref":"/6.x/connecteurs/insi/configuration/","tags":"","title":"Configuration DevBox-santé INSi"},{"body":"PFI-Server La PFI server est personnalisable en activant différents profils. Ces profils peuvent être configurés par des variables d’environnements au démarrage.\nLe fichier de configuration principal est /config/application.yml, il active les différents profils comme :\nspring.profiles: active: - lm - pfi - antivirus - dmp - mss - simulation - vague1 - intermediation-file - intermediation-mllp Les differents profils springs lm Il permet de configurer la licence d’utilisation\ndevbox-sante: lm: env: ${DEVBOX_ENV:DEV} token: ${DEVBOX_LM_TOKEN:null} client: ${DEVBOX_LM_CLIENT:null} version: pfi 1 pfi Configuration général de la PFI :\nlogging: level: fr.devboxsante: ${DEVBOX_PFI_LOG_LEVEL:debug} fr.devboxsante.pfi: ${DEVBOX_PFI_LOG_LEVEL:debug} org.eclipse.angus.mail: ${DEVBOX_PFI_LOG_LEVEL:info} javax.net.ssl: ${DEVBOX_PFI_LOG_LEVEL:info} org.apache.cxf.services: ${DEVBOX_PFI_LOG_LEVEL:debug} org.apache.hc.client5.http: ${DEVBOX_PFI_LOG_LEVEL:info} spring: jackson: default-property-inclusion: non_null deserialization: adjust_dates_to_context_time_zone: false data.mongodb: uri: ${MONGO_DB_URI:mongodb://mongodb:27017/pfi} devbox-sante: pfi: nil: DEV343004 tasks: cron: ${DEVBOX_PFI_TASKS_CRON:0 */5 * * * *} dmp.maxRetry: 5 antivirus devbox-sante: pfi: antivirus: host: ${DEVBOX_PFI_ANTIVIRUS_HOST:clamav} port: ${DEVBOX_PFI_ANTIVIRUS_PORT:3310} dmp Configuration spécifique au composant DMP utiliser par la PFI.\ndevbox-sante: dmp: security.mode: p12ByIntermediation url.prefix: ${DEVBOX_DMP_URL:https://lps.de2.dmp.gouv.fr/si-dmp-server/v2/services} source: idExtension: ${DEVBOX_DMP_SOURCE_ID_EXTENSION:1234567} cda.validator: warningLaxistPolicy: ${DEVBOX_DMP_CDA_VALIDATOR_LAXIST_POLICY:true} jdvLaxistPolicy: ${DEVBOX_DMP_CDA_VALIDATOR_LAXIST_POLICY:true} cda.tools.latest: ${DEVBOX_DMP_CDA_TOOLS_LATEST:false} mss Configuration spécifique au composant MS-Santé utiliser par la PFI\ndevbox-sante: ms-sante: git: branch: ${DEVBOX_PFI_MSS_ENV:test} annuaire: impl: ldap simulation Profil spécifique qui permet de simuler le traitement des messages sans utiliser les composants MSS et DMP. Ce profil peut être activé pour tester la PFI sans exécuter réellement les actions.\nATTENTION : Toutefois les tâches programmées de réception de messages seront, elles exécutées. Un moyen de les désactiver temporairement et de modifier la variable d’environnements DEVBOX_PFI_TASKS_CRON.\nvague1 Profil spécifique permettant de gérer les Messages en compatibilité SÉGUR Vague 1 : https://esante.gouv.fr/sites/default/files/media_entity/documents/cisis_specs_techniques-trans_doc_cda_en_hl7v2_v1.2.0_vfinale.pdf\nIntermediations La PFI a pour vocation de gérer une ou plusieurs intermediations. Une intermediation est configuré dans un fichier profil dédié. Une page dédiée lui est consacrée.\n","categories":"","description":"","excerpt":"PFI-Server La PFI server est personnalisable en activant différents …","ref":"/6.x/plateformes/pfi/configuration/","tags":"","title":"Configuration"},{"body":"L’api CPS3 (même une SPI) proposée par DEVCOOP afin de proposer un niveau d’abstraction suffisant pour un programme java d’accéder à la carte CPS3.\nLe document de référence est ASIP_CPS3_Données-métier_v1.0.2.doc\nImplémentation Le module cps-impl, fournit l’implémentation de la CPSFacade qui intègre la Cryptolib CPS de l’ANS.\nExemple de code dans une application Spring Boot :\npublic class MonComposantCPS { @Autowired CPSFacade cps; public void maMethode() { assert cps.isAvailable(); final List\u003cCardReaderInfo\u003e availableReaders = cps.getAvailableReaders(); cps.selectReader(0L); final CpsCardInfo cardInfo = cps.readInfo(); // Une demande d'authentification auprès de l'utilisateur est réalisée sur cet appel assert cps.isLogged(); final PrivateKey signaturePrivateKey = cps.getSignaturePrivateKey(); } } Personnalisation du PinProvider La saisie du code Pin est possible à partir du PinProviderFrame développé en Swing.\nMais, il est tout à fait possible de fournir son propre provider ou encore utiliser le NoPinProvider, et appelé explicitement la méthode setPin().\nSignature PDF Le module cps-pdf, contient le code permettant de générer des signatures PDF https://helpx.adobe.com/fr/acrobat/using/signing-pdfs.html.\nIl s’appuie sur la librairie apache PDF-BOX.\nProxy REST Le module cps-proxy, permet de fournit une facade REST à la CPSFacade java.\nL’accès au CPS-proxy est indépendant de la technologie utilisée par l’intégrateur. Exemple d’intégration possible :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Poste Client (Windows/Mac/Linux)\" { [FrontEnd intégrateur] as frontend package \"DevBox-Santé\" DEVBOX_COLOR { [interface CPS-API] as cpsFacade CPS_COLOR } [Cryptolib CPS (ANS / ASIP)] as cryptolibCPS } [BackEnd intégrateur] as backend frontend -down-\u003e cpsFacade : REST \"GET \"/cps/cardInfo\"\" cpsFacade \u003c-down-\u003e cryptolibCPS : appel natif frontend -right-\u003e backend : REST Exécution Exemple Swagger :\nExemple CURL :\nRécupérer l’état des différents lecteurs de carte : curl -X GET \"http://127.0.0.1:8484/cps/readersInfo\" -H \"accept: */*\" Lire les informations de la carte curl -X GET \"http://127.0.0.1:8484/cps/cardInfo\" -H \"accept: */*\" Signer un fichier PDF : curl -X POST \"http://127.0.0.1:8484/cps/signPdf?location=Bordeaux\u0026reason=Parceque\" -H \"accept: */*\" -H \"Content-Type: multipart/form-data\" -F \"multipart=@fichier.pdf;type=application/pdf\" Configuration Configurer le lien vers la cryptolib CPS Il est possible de configurer et de surcharger le path par défaut de la cryptolib de la manière suivante :\ndevbox-sante: cps: module.path: \"C:\\\\Program Files\\\\DevBoxSante\\\\santesocial\\\\cps\\\\cps3_pkcs11_w64.dll\" Securité Le cps-proxy comme tous les composants de la DevBox-Santé est une application web Spring Boot, toutes les possibilités de spring-security sont donc disponibles.\nExemple de configuration de base empêchant toutes les IPs externes :\ndevbox-sante: security: forceLocalAddress: true Licences “This product includes software developed by Stiftung SIC.” : https://jce.iaik.tugraz.at/products/core-crypto-toolkits/pkcs11-wrapper/#License\n","categories":"","description":"Composant d'intégration de la CPS\n","excerpt":"Composant d'intégration de la CPS\n","ref":"/5.x/cps/","tags":"","title":"CPS"},{"body":"L’api CPS3 (même une SPI) proposée par DEVCOOP afin de proposer un niveau d’abstraction suffisant pour un programme java d’accéder à la carte CPS3.\nLe document de référence est ASIP_CPS3_Données-métier_v1.0.2.doc\nImplémentation Le module cps-impl, fournit l’implémentation de la CPSFacade qui intègre la Cryptolib CPS de l’ANS.\nExemple de code dans une application Spring Boot :\npublic class MonComposantCPS { @Autowired CPSFacade cps; public void maMethode() { assert cps.isAvailable(); final List\u003cCardReaderInfo\u003e availableReaders = cps.getAvailableReaders(); cps.selectReader(0L); final CpsCardInfo cardInfo = cps.readInfo(); // Une demande d'authentification auprès de l'utilisateur est réalisée sur cet appel assert cps.isLogged(); final PrivateKey signaturePrivateKey = cps.getSignaturePrivateKey(); } } Personnalisation du PinProvider La saisie du code Pin est possible à partir du PinProviderFrame développé en Swing.\nMais, il est tout à fait possible de fournir son propre provider ou encore utiliser le NoPinProvider, et appelé explicitement la méthode setPin().\nSignature PDF Le module cps-pdf, contient le code permettant de générer des signatures PDF https://helpx.adobe.com/fr/acrobat/using/signing-pdfs.html.\nIl s’appuie sur la librairie apache PDF-BOX.\nConfiguration Configurer le lien vers la cryptolib CPS Il est possible de configurer et de surcharger le path par défaut de la cryptolib de la manière suivante :\ndevbox-sante: cps: module.path: \"C:\\\\Program Files\\\\DevBoxSante\\\\santesocial\\\\cps\\\\cps3_pkcs11_w64.dll\" Securité Le cps-proxy comme tous les composants de la DevBox-Santé est une application web Spring Boot, toutes les possibilités de spring-security sont donc disponibles.\nExemple de configuration de base empêchant toutes les IPs externes :\ndevbox-sante: security: forceLocalAddress: true Licences “This product includes software developed by Stiftung SIC.” : https://jce.iaik.tugraz.at/products/core-crypto-toolkits/pkcs11-wrapper/#License\n","categories":"","description":"Composant d'intégration de la CPS\n","excerpt":"Composant d'intégration de la CPS\n","ref":"/6.x/composants/cps/","tags":"","title":"CPS"},{"body":"Ce mode d’authentification nécessite l’installation sur le poste client d’un lecteur de carte CPS ainsi que le composant DevBox-santé. Le professionnel de santé doit posséder une carte CPS.\nScénario possible : Le frontend/client lourd s’exécutant sur le poste client de l’utilisateur accède au DMP grâce à la DevBox-Santé DMP installé sur le poste client._\nVersion REST Diagramme de composants !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Poste Client (Windows/Mac/Linux)\" { [FrontEnd intégrateur] as frontend package \"DevBox-Santé Proxy REST\" DEVBOX_COLOR { component \"DevBox-sante DMP\" as dmpFacade #35D9C0 { [DevBox-sante CPS] as cps #D34A3C } } [Cryptolib CPS (ANS)] as cryptolibCPS } [BackEnd intégrateur] as backend cloud \"**DMP**\" as DMP frontend -right-\u003e dmpFacade : REST cps \u003c-up-\u003e cryptolibCPS : appel natif dmpFacade -down-\u003e DMP : SOAP frontend -down-\u003e backend Version Embedded Diagramme de composants !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Poste Client (Windows/Mac/Linux)\" { component \"Client de l'intégrateur\" { component \"DevBox-Santé Proxy REST\" DEVBOX_COLOR { component \"DevBox-sante DMP\" as dmpFacade #35D9C0 { [DevBox-sante CPS] as cps #D34A3C } } } [Cryptolib CPS (ANS)] as cryptolibCPS } cloud \"**DMP**\" as DMP cps \u003c--\u003e cryptolibCPS : appel natif dmpFacade --\u003e DMP : SOAP Diagramme de séquences !theme aws-orange !define DEVBOX_COLOR #278ef5 !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF box \"Poste Client\" participant frontend participant \"DevBox-Santé DMP\" as dbxdmp DMP_COLOR participant \"DevBox-Santé CPS\" as dbxCps CPS_COLOR end box participant \"**DMP**\" as dmp frontend -\u003e dbxdmp : /dmp/td21SubmitDocuments == initialisation d'une connexion SSL en authentification mutuelle avec le DMP == dbxdmp -\u003e \"DMP\" as dmp : [SSL] 1. Client Hello dmp -\u003e dbxdmp : [SSL] 2. Server Hello (certificat du DMP server inclus) dmp -\u003e dbxdmp : [SSL] 3. Client certificate request dbxdmp -\u003e dbxCps : readAuthenticationCertificate dbxCps -\u003e dbxdmp : {certificate authentification} dbxdmp -\u003e dmp : [SSL] 4. Client certificate dbxdmp -\u003e dmp : [SSL] 5. Client sends key info \\n(encrypted with DMP server public's key) dbxdmp -\u003e dbxCps : signForAuthentication(SHA256WithRSA, hanshake data) dbxCps -\u003e dbxdmp : {signed handshake data} dbxdmp -\u003e dmp : [SSL] 6. Certificate verify \\n (with Digital Signature) dbxdmp -\u003e dmp : [SSL] 7. Finnished message \\n (encrypted with symmetric key) dmp -\u003e dbxdmp : [SSL] 8. Finnished message \\n (encrypted with symmetric key) == fin de l'initialisation de la connexion ssl avec le DMP == dbxdmp -\u003e dmp : POST SOAP message de soumission (XDS/CDA) dmp -\u003e dbxdmp : SOAP response OK dbxdmp -\u003e frontend : ok ","categories":"","description":"Authentification directe en utilisant les cartes CPx (CPS/CPE...) et la cryptolib\n","excerpt":"Authentification directe en utilisant les cartes CPx (CPS/CPE...) et …","ref":"/5.x/dmp/authentifications/directe/","tags":"","title":"Authentification Directe (via carte CPx)"},{"body":"Ce mode d’authentification nécessite l’installation sur le poste client d’un lecteur de carte CPS ainsi que le composant DevBox-santé. Le professionnel de santé doit posséder une carte CPS.\nScénario possible : Le frontend/client lourd s’exécutant sur le poste client de l’utilisateur accède au DMP grâce à la DevBox-Santé DMP installé sur le poste client._\nVersion REST Diagramme de composants !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Poste Client (Windows/Mac/Linux)\" { [FrontEnd intégrateur] as frontend package \"DevBox-Santé Proxy REST\" DEVBOX_COLOR { component \"DevBox-sante DMP\" as dmpFacade #35D9C0 { [DevBox-sante CPS] as cps #D34A3C } } [Cryptolib CPS (ANS)] as cryptolibCPS } [BackEnd intégrateur] as backend cloud \"**DMP**\" as DMP frontend -right-\u003e dmpFacade : REST cps \u003c-up-\u003e cryptolibCPS : appel natif dmpFacade -down-\u003e DMP : SOAP frontend -down-\u003e backend Version Embedded Diagramme de composants !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Poste Client (Windows/Mac/Linux)\" { component \"Client de l'intégrateur\" { component \"DevBox-Santé Proxy REST\" DEVBOX_COLOR { component \"DevBox-sante DMP\" as dmpFacade #35D9C0 { [DevBox-sante CPS] as cps #D34A3C } } } [Cryptolib CPS (ANS)] as cryptolibCPS } cloud \"**DMP**\" as DMP cps \u003c--\u003e cryptolibCPS : appel natif dmpFacade --\u003e DMP : SOAP Diagramme de séquences !theme aws-orange !define DEVBOX_COLOR #278ef5 !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF box \"Poste Client\" participant frontend participant \"DevBox-Santé DMP\" as dbxdmp DMP_COLOR participant \"DevBox-Santé CPS\" as dbxCps CPS_COLOR end box participant \"**DMP**\" as dmp frontend -\u003e dbxdmp : /dmp/td21SubmitDocuments == initialisation d'une connexion SSL en authentification mutuelle avec le DMP == dbxdmp -\u003e \"DMP\" as dmp : [SSL] 1. Client Hello dmp -\u003e dbxdmp : [SSL] 2. Server Hello (certificat du DMP server inclus) dmp -\u003e dbxdmp : [SSL] 3. Client certificate request dbxdmp -\u003e dbxCps : readAuthenticationCertificate dbxCps -\u003e dbxdmp : {certificate authentification} dbxdmp -\u003e dmp : [SSL] 4. Client certificate dbxdmp -\u003e dmp : [SSL] 5. Client sends key info \\n(encrypted with DMP server public's key) dbxdmp -\u003e dbxCps : signForAuthentication(SHA256WithRSA, hanshake data) dbxCps -\u003e dbxdmp : {signed handshake data} dbxdmp -\u003e dmp : [SSL] 6. Certificate verify \\n (with Digital Signature) dbxdmp -\u003e dmp : [SSL] 7. Finnished message \\n (encrypted with symmetric key) dmp -\u003e dbxdmp : [SSL] 8. Finnished message \\n (encrypted with symmetric key) == fin de l'initialisation de la connexion ssl avec le DMP == dbxdmp -\u003e dmp : POST SOAP message de soumission (XDS/CDA) dmp -\u003e dbxdmp : SOAP response OK dbxdmp -\u003e frontend : ok ","categories":"","description":"Authentification directe en utilisant les cartes CPx (CPS/CPE...) et la cryptolib\n","excerpt":"Authentification directe en utilisant les cartes CPx (CPS/CPE...) et …","ref":"/6.x/connecteurs/dmp/authentifications/directe/","tags":"","title":"Authentification Directe (via carte CPx)"},{"body":"Erreur logicielle module origine de l’erreur logicielle (Erreur : 1))\nc’est lié à un appel sans carte vitale avec une session CPS en cours, il faut changer par une lecture avec CPS .\nPC/SC ou galss ? Le galss n’est officiellement plus supporté au 31 décembre 2021, donc il faut configurer les lecteurs en PC/SC\nChangement de lecteur PC/SC -\u003e Galss Le lecteur carte vitale, enregistre dans le fichier %Program_FILES%/DevBoxSante-%client%/santesocial/api_lec/api_lec.ini les lecteurs PC/SC utilisés, une fois enregistré si l’utilisateur change de lecteur pour un lecteur bi-fente utilisant le galss, le lecteur ne sera pas détecté par la DevBoxSanté car les api sesam vitale ne recherche les lecteurs galss que si il n’y a pas de lecteurs PS/SC d’enregistrés.\nSolution: supprimer dans le fichier api_lec.ini les lecteurs enregistrés.\n[Lecteur] Ressource_Vitale= Ressource_CPS= PS: Le changement de lecteur PS/SC pour un autre PS/SC ne pose aucun soucis\n","categories":"","description":"","excerpt":"Erreur logicielle module origine de l’erreur logicielle (Erreur : 1)) …","ref":"/6.x/composants/vitale/howtos/issues/","tags":"","title":"FAQ"},{"body":"Comment débloquer une carte CPS Quatre étapes :\nLancer le gestionnaire de carte : Si vous n’avez pas accès au gestionnaire de carte depuis votre poste c’est que vous n’avez probablement pas installé la cryptolib CPS. Plus d’informations ici : https://esante.gouv.fr/services/espace-cps/telechargements-libres/cryptolib-cps-windows\nAller dans le menu “Déblocage de carte” : Saisir le code de déblocage (pour une carte de test : 12345678) Saisir le nouveau code (pour une carte de test : 1234) ","categories":"","description":"Gestionnaire de carte CPS\n","excerpt":"Gestionnaire de carte CPS\n","ref":"/5.x/cps/howtos/gestionnaire_cps/","tags":"","title":"Gestionnaire carte CPS"},{"body":"Installer la cryptolib et le CPS Gestion Si vous n’avez pas accès au gestionnaire de carte depuis votre poste il vous faut installer la cryptolib CPS. Plus d’informations ici :\nhttps://esante.gouv.fr/services/espace-cps/telechargements-libres/cryptolib-cps-windows https://esante.gouv.fr/services/espace-cps/telechargements-libres/cryptolib-cps-mac-os-x Mais également :\nhttps://apps.microsoft.com/detail/9p2gqm5hlsbs?hl=en-US\u0026gl=US https://apps.apple.com/fr/app/cps-gestion/id1470411027?mt=12 Vérifier la version de la cryptolib installée Comment débloquer une carte CPS Trois étapes :\nLancer le gestionnaire de carte : Aller dans le menu “Déblocage de carte” :\nSaisir le code de déblocage (pour une carte de test : 12345678) aints que le nouveau code PIN (pour une carte de test : 1234)\n","categories":"","description":"Gestionnaire de carte CPS outil de l'ANS\n","excerpt":"Gestionnaire de carte CPS outil de l'ANS\n","ref":"/6.x/composants/cps/howtos/gestionnaire_cps/","tags":"","title":"Gestionnaire carte CPS"},{"body":"getCodesFor() (depuis version 1.0) Méthode permettant d’accéder aux différents jeux de valeurs imposés par le Guide d’intégration.\nnotamment :\npublic enum JeuxValeursDMP { QUALITE_REPRESENTANT_LEGAL, AUTHOR_SPECIALITY, CLASS_CODE, CONFIDENTIALITY_CODE, CONTENT_TYPE_CODE, FORMAT_CODE, HEALTH_CARE_FACILITY_TYPE_CODE, PRACTICE_SETTING_CODE, SUBJECT_ROLE, TYPE_CODE, RESTRICTION_AUDIENCE_VIHF } Exemple Java :\nList\u003cDMPCCode\u003e allPersonnelDeSanteSpecialities = client.getCodesFor(DMPCCode.JeuxValeursDMP.AUTHOR_SPECIALITY); List\u003cDMPCCode\u003e allPossibleFormatCodesForADocument = client.getCodesFor(DMPCCode.JeuxValeursDMP.FORMAT_CODE); Exemple curl :\ncurl -X GET \"/dmp/nomenclatures?jeuxValeurs=AUTHOR_SPECIALTY\" curl -X GET \"/dmp/nomenclatures?jeuxValeurs=FORMAT_CODE\" getTypesIndexedByClassCode() (depuis version 4.5) Méthode permettant d’indexer tous les types par leur classCodes.\nExemple Java :\nMap\u003cString, List\u003cDMPCCode\u003e\u003e allTypesIndexedByClassCode = client.getTypesIndexedByClassCode(); String compteRenduClassCode = \"10\"; List\u003cDMPCCode\u003e allCompteRenduTypes = allTypesIndexedByClassCode.get(compteRenduClassCode); Exemple curl :\ncurl -X GET \"/dmp/nomenclatures/typesByClassCode\" ","categories":"","description":"Récupération des jeux de Valeurs \n","excerpt":"Récupération des jeux de Valeurs \n","ref":"/5.x/dmp/howtos/transactions/jeux_de_valeurs/","tags":"","title":"Jeux de Valeurs"},{"body":"getCodesFor() (depuis version 1.0) Méthode permettant d’accéder aux différents jeux de valeurs imposés par le Guide d’intégration.\nnotamment :\npublic enum JeuxValeursDMP { QUALITE_REPRESENTANT_LEGAL, AUTHOR_SPECIALITY, CLASS_CODE, CONFIDENTIALITY_CODE, CONTENT_TYPE_CODE, FORMAT_CODE, HEALTH_CARE_FACILITY_TYPE_CODE, PRACTICE_SETTING_CODE, SUBJECT_ROLE, TYPE_CODE, RESTRICTION_AUDIENCE_VIHF } Exemple Java :\nList\u003cDMPCCode\u003e allPersonnelDeSanteSpecialities = client.getCodesFor(DMPCCode.JeuxValeursDMP.AUTHOR_SPECIALITY); List\u003cDMPCCode\u003e allPossibleFormatCodesForADocument = client.getCodesFor(DMPCCode.JeuxValeursDMP.FORMAT_CODE); Exemple curl :\ncurl -X GET \"/dmp/nomenclatures?jeuxValeurs=AUTHOR_SPECIALTY\" curl -X GET \"/dmp/nomenclatures?jeuxValeurs=FORMAT_CODE\" getTypesIndexedByClassCode() (depuis version 4.5) Méthode permettant d’indexer tous les types par leur classCodes.\nExemple Java :\nMap\u003cString, List\u003cDMPCCode\u003e\u003e allTypesIndexedByClassCode = client.getTypesIndexedByClassCode(); String compteRenduClassCode = \"10\"; List\u003cDMPCCode\u003e allCompteRenduTypes = allTypesIndexedByClassCode.get(compteRenduClassCode); Exemple curl :\ncurl -X GET \"/dmp/nomenclatures/typesByClassCode\" ","categories":"","description":"Récupération des jeux de Valeurs \n","excerpt":"Récupération des jeux de Valeurs \n","ref":"/6.x/connecteurs/dmp/howtos/transactions/jeux_de_valeurs/","tags":"","title":"Jeux de Valeurs"},{"body":"Il existe 2 modes de sécurité :\nAuthentification p12 : p12 Authentification dans le header : authInHeader Configuration p12 Dans ce mode de securité, le connecteur DevBox-Santé MSS possède les informations de connexion, à savoir un certificat p12 provenant de l’IGC Santé.\nCe mode est utile dans le cas où un seul certificat est utilisé pour se connecter à une (ou plusieurs) BALs applicatives.\nExemple pour authentification espace de test medimail du MIPIH :\ndevbox-sante: ms-sante: security.mode: p12 tls.p12: path: asip-p12-EL-TEST-ORG-AUTH_CLI-20230717-152710.p12 password: MOT_DE_PASSE Configuration authInHeader Le mode authInHeader permet de faire passer les informations d’authentification dans les headers HTTP des appels REST.\nAvec ce mode, le client dispose de 3 moyens d’authentification:\nCertificat p12 (BAL applicative) (V2) Jeton PSC (pro santé connect) (V2) Token de session après authentification avec Login / Mot de passe et OTP (V1 Mailiz) La configuration application.yml est :\ndevbox-sante: ms-sante: security.mode: authInHeader Pour la connexion d’un client dans ce mode de sécurité, consulter la page dédiée : Authentifications\n","categories":"","description":"Référentiel MSSante #2 et Api Mailiz V1\n","excerpt":"Référentiel MSSante #2 et Api Mailiz V1\n","ref":"/5.x/ms-sante/configuration/referentiel2/","tags":"","title":"Multi-Opérateur v1 et v2"},{"body":"Il existe 2 modes de sécurité :\nAuthentification p12 : p12 Authentification dans le header : authInHeader Configuration p12 Dans ce mode de securité, le connecteur DevBox-Santé MSS possède les informations de connexion, à savoir un certificat p12 provenant de l’IGC Santé.\nCe mode est utile dans le cas où un seul certificat est utilisé pour se connecter à une (ou plusieurs) BALs applicatives.\nExemple pour authentification espace de test medimail du MIPIH :\ndevbox-sante: ms-sante: security.mode: p12 tls.p12: path: asip-p12-EL-TEST-ORG-AUTH_CLI-20230717-152710.p12 password: MOT_DE_PASSE Configuration authInHeader Le mode authInHeader permet de faire passer les informations d’authentification dans les headers HTTP des appels REST.\nAvec ce mode, le client dispose de 3 moyens d’authentification:\nCertificat p12 (BAL applicative) (V2) Jeton PSC (pro santé connect) (V2) Token de session après authentification avec Login / Mot de passe et OTP (V1 Mailiz) La configuration application.yml est :\ndevbox-sante: ms-sante: security.mode: authInHeader Pour la connexion d’un client dans ce mode de sécurité, consulter la page dédiée : Authentifications\n","categories":"","description":"Référentiel MSSante #2 et Api Mailiz V1\n","excerpt":"Référentiel MSSante #2 et Api Mailiz V1\n","ref":"/6.x/connecteurs/ms-sante/configuration/referentiel2/","tags":"","title":"Multi-Opérateur v1 et v2"},{"body":"Voici la todo list pour commencer simplement\nAller sur le hub de Docker avec le lien donné La dernière image à récupérer est configurée comme précisé dans le README.md . Vérifier que cela correspond à vos besoins. docker pull devboxsante\\clientname:tagname docker run --name devbox-sante-clientname -p 8080:8080 -d devboxsante/clientname:tagname Accéder au swagger pour consulter les APIs REST disponibles : http://dockerhost:8080/swagger-ui/index.html Consulter les collections Postman disponibles : https://www.postman.com/universal-satellite-657415/workspace/devbox-sante-exemples/overview [WIP] Ou encore les collections Bruno : https://bitbucket.org/devbox-sante/dbx-examples-bruno ","categories":"","description":"Howtos pour bien démarrer\n","excerpt":"Howtos pour bien démarrer\n","ref":"/5.x/installer/docker/premier_pas/","tags":"","title":"Premier Pas"},{"body":"Installation Une fois que vous avez téléchargez le binaire sur l’url qui vous a été fournis :\nSuivez les différentes étapes du programme d’installation et cliquez sur terminé. La DevBox-santé est lancée automatiquement sur un port pré-défini.\nSous Windows La DevBox-santé est accessible dans la barre de tâches :\nUn menu contextuel sur l’icône s’affiche sur un clic droit, permettant d’afficher des informations d’installation notamment le numéro de port :\nSous MacOS TODO\nExécution sur l’environnement de démonstration Une fois le numéro de port obtenu depuis la boîte de dialogue “À propos”, vous pouvez accéder à l’environnement de démonstration (pour une version de développement seulement) depuis votre navigateur : http://localhost:PORT\nCe qui vous permet de tester l’installation et d’observer les différentes requêtes possibles pour les différents composants.\nVous pouvez également vous jeter sur les différents documentation swagger à vos dispositions : http://localhost:PORT/swagger-ui/index.html\nAprès l’installation Vérifier une mise à jour Dans le menu contextuel de la barre des tâches, il est possible d’accéder à la vérification de la mise à jour automatique :\nObtenir les Logs Le répertoire d’installation se présente comme celà :\nIl est possible de récupérer dans le répertoire de log, et plus précisément output.log les traces d’exécution. Ce sont ces traces qui sont utiles pour diagnostiquer les éventuels problèmes d’intégration.\nMais aussi, dans une installation de développement les trames de message SOAP avec l’ensemble des téléservices sont récupérables. Ce sont ces dernières qui sont demandées pour preuve par le CNDA.\nComme dans cet exemple de log pour un appel INSi :\n2022-02-08 10:17:17.371 INFO 32672 --- [nio-9999-exec-1] o.a.cxf.services.ICIRService.REQ_OUT : REQ_OUT Address: https://qualiflps.services-ps.ameli.fr/lps HttpMethod: POST Content-Type: application/soap+xml; action=\"urn:ServiceIdentiteCertifiee:1.0.0:rechercherInsAvecTraitsIdentite\" ExchangeId: 1b180b89-d4d2-4e40-bd2c-1485b96c3105 ServiceName: ICIRServiceService PortName: ICIRServicePort PortTypeName: ICIRService Headers: {Accept=*/*, Connection=Keep-Alive} Payload: \u003csoap:Envelope xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\"\u003e\u003csoap:Header\u003e\u003cAction xmlns=\"http://www.w3.org/2005/08/addressing\"\u003eurn:ServiceIdentiteCertifiee:1.0.0:rechercherInsAvecTraitsIdentite\u003c/Action\u003e\u003cMessageID xmlns=\"http://www.w3.org/2005/08/addressing\"\u003euuid:fae22ada-31f7-4584-94bd-fb4ce305711c\u003c/MessageID\u003e\u003cTo xmlns=\"http://www.w3.org/2005/08/addressing\"\u003ehttps://qualiflps.services-ps.ameli.fr/lps\u003c/To\u003e\u003cReplyTo xmlns=\"http://www.w3.org/2005/08/addressing\"\u003e\u003cAddress\u003ehttp://www.w3.org/2005/08/addressing/anonymous\u003c/Address\u003e\u003c/ReplyTo\u003e\u003cns6:Security xmlns:ns7=\"urn:siram\" xmlns:ns6=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:ns5=\"http://www.cnamts.fr/INSiRecSans\" xmlns:ns4=\"http://www.cnamts.fr/INSiResultat\" xmlns:ns3=\"urn:siram:bam:ctxbam\" xmlns:ns2=\"urn:siram:lps:ctxlps\" xmlns=\"http://www.cnamts.fr/INSiRecVit\"\u003e\u003csaml2:Assertion xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:saml2=\"urn:oasis:names:tc:SAML:2.0:assertion\" ID=\"_cedba2ba-af67-43fa-836d-ba4f4c7ebd37\" IssueInstant=\"2022-02-08T09:17:16.483Z\" Version=\"2.0\"\u003e\u003csaml2:Issuer Format=\"urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName\"\u003eGIVENNAME=ANNE + CN=899700296140 + SURNAME=MED-CS RPPS0029614, T=Médecin, C=FR\u003c/saml2:Issuer\u003e\u003cds:Signature xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\"\u003e \u003cds:SignedInfo\u003e \u003cds:CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"/\u003e \u003cds:SignatureMethod Algorithm=\"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\"/\u003e \u003cds:Reference URI=\"#_cedba2ba-af67-43fa-836d-ba4f4c7ebd37\"\u003e \u003cds:Transforms\u003e \u003cds:Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"/\u003e \u003cds:Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"\u003e\u003cec:InclusiveNamespaces xmlns:ec=\"http://www.w3.org/2001/10/xml-exc-c14n#\" PrefixList=\"xsd\"/\u003e\u003c/ds:Transform\u003e \u003c/ds:Transforms\u003e \u003cds:DigestMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#sha256\"/\u003e \u003cds:DigestValue\u003ekyudM3vGDu9c2+MzHnPoyocEYV5G9PtOfvZaZr8HTFI=\u003c/ds:DigestValue\u003e \u003c/ds:Reference\u003e \u003c/ds:SignedInfo\u003e \u003cds:SignatureValue\u003e m5WCwYjjqgCMfwoF34i4X1sHo5Qm9ZQ3pvDaj1ducPZRJqQCBohVUUKHne7qvwmeLP48bR2VMge0\u0026#xd; ... AYgIW5NZvIU/DSiutXETfnuMnKyMhb5lsVrKLA== \u003c/ds:SignatureValue\u003e \u003cds:KeyInfo\u003e\u003cds:X509Data\u003e\u003cds:X509Certificate\u003eMIIIkjCCBnqgAwIBAgIQY9r/z8gDS9wvB2ErFSZ7ojANBgkqhkiG9w0BAQsFADB/MQswCQYDVQQG EwJGUjETMBEGA1UECgwKQVNJUC1TQU5URTEXMBUGA1UECwwOMDAwMiAxODc1MTI3NTExFzAVBgNV ... bP3Y2OtFuWfDXarPYW+3YMmMEJwboL+APfinsuS5tziDfoFKRMJf25o2SgNYOPNxnsTspW4P/x/2 Fdxj9tnROlPZfBxXLraunS7zw6uqjJS6iPHS80hoFHQ=\u003c/ds:X509Certificate\u003e\u003c/ds:X509Data\u003e\u003c/ds:KeyInfo\u003e\u003c/ds:Signature\u003e\u003csaml2:Subject\u003e\u003csaml2:NameID NameQualifier=\"CPS\"\u003e899700296140\u003c/saml2:NameID\u003e\u003c/saml2:Subject\u003e\u003csaml2:AttributeStatement\u003e\u003csaml2:Attribute Name=\"codeSpecialite\"\u003e\u003csaml2:AttributeValue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type=\"xsd:string\"\u003eSM26\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"secteurActivite\"\u003e\u003csaml2:AttributeValue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type=\"xsd:string\"\u003eSA05\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"identifiantFacturation\"\u003e\u003csaml2:AttributeValue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type=\"xsd:string\"\u003e123456789\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003c/saml2:AttributeStatement\u003e\u003c/saml2:Assertion\u003e\u003c/ns6:Security\u003e\u003cns2:ContexteLPS xmlns:ns7=\"urn:siram\" xmlns:ns6=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:ns5=\"http://www.cnamts.fr/INSiRecSans\" xmlns:ns4=\"http://www.cnamts.fr/INSiResultat\" xmlns:ns3=\"urn:siram:bam:ctxbam\" xmlns:ns2=\"urn:siram:lps:ctxlps\" xmlns=\"http://www.cnamts.fr/INSiRecVit\" Nature=\"CTXLPS\" Version=\"01_00\"\u003e\u003cns2:Id\u003e2f2cca2f-586a-4a5c-9b63-bf3a49b33aca\u003c/ns2:Id\u003e\u003cns2:Temps\u003e2022-02-08T09:17:16.483Z\u003c/ns2:Temps\u003e\u003cns2:Emetteur\u003e899700296140\u003c/ns2:Emetteur\u003e\u003cns2:LPS\u003e\u003cns2:IDAM R=\"4\"\u003eDVB17HE21HW0\u003c/ns2:IDAM\u003e\u003cns2:Version\u003e2.0\u003c/ns2:Version\u003e\u003cns2:Instance\u003e0dc098f1-d47f-42f6-9f38-4ca148268ae7\u003c/ns2:Instance\u003e\u003cns2:Nom\u003eurn:lps:DEVBOX_SANTE_INSI:2.0\u003c/ns2:Nom\u003e\u003c/ns2:LPS\u003e\u003c/ns2:ContexteLPS\u003e\u003cns3:ContexteBAM xmlns:ns7=\"urn:siram\" xmlns:ns6=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:ns5=\"http://www.cnamts.fr/INSiRecSans\" xmlns:ns4=\"http://www.cnamts.fr/INSiResultat\" xmlns:ns3=\"urn:siram:bam:ctxbam\" xmlns:ns2=\"urn:siram:lps:ctxlps\" xmlns=\"http://www.cnamts.fr/INSiRecVit\" Nature=\"CTXBAM\" Version=\"01_02\"\u003e\u003cns3:Id\u003eef567c29-e980-41e3-b304-347dc70e5797\u003c/ns3:Id\u003e\u003cns3:Temps\u003e2022-02-08T09:17:16.483Z\u003c/ns3:Temps\u003e\u003cns3:Emetteur\u003e899700296140\u003c/ns3:Emetteur\u003e\u003cns3:COUVERTURE/\u003e\u003c/ns3:ContexteBAM\u003e\u003c/soap:Header\u003e\u003csoap:Body\u003e\u003cns5:RECSANSVITALE xmlns=\"http://www.cnamts.fr/INSiRecVit\" xmlns:ns2=\"urn:siram:lps:ctxlps\" xmlns:ns3=\"urn:siram:bam:ctxbam\" xmlns:ns4=\"http://www.cnamts.fr/INSiResultat\" xmlns:ns5=\"http://www.cnamts.fr/INSiRecSans\" xmlns:ns6=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:ns7=\"urn:siram\"\u003e\u003cns5:NomNaissance\u003eDE VINCI\u003c/ns5:NomNaissance\u003e\u003cns5:Prenom\u003eRUTH\u003c/ns5:Prenom\u003e\u003cns5:Sexe\u003eF\u003c/ns5:Sexe\u003e\u003cns5:DateNaissance\u003e1977-07-14\u003c/ns5:DateNaissance\u003e\u003c/ns5:RECSANSVITALE\u003e\u003c/soap:Body\u003e\u003c/soap:Envelope\u003e 2022-02-08 10:17:17.872 WARN 32672 --- [nio-9999-exec-1] o.a.cxf.ws.addressing.soap.MAPCodec : Response message does not contain WS-Addressing properties. Not correlating response. 2022-02-08 10:17:17.873 WARN 32672 --- [nio-9999-exec-1] o.apache.cxf.ws.addressing.ContextUtils : WS-Addressing - failed to retrieve Message Addressing Properties from context 2022-02-08 10:17:17.874 INFO 32672 --- [nio-9999-exec-1] o.a.cxf.services.ICIRService.RESP_IN : RESP_IN Address: https://qualiflps.services-ps.ameli.fr/lps Content-Type: application/soap+xml; charset=utf-8 ResponseCode: 200 ExchangeId: 1b180b89-d4d2-4e40-bd2c-1485b96c3105 ServiceName: ICIRServiceService PortName: ICIRServicePort PortTypeName: ICIRService Headers: {X-ORACLE-DMS-ECID=1360e356-5091-4ec5-8d19-dce653f132d7-00004557, content-type=application/soap+xml; charset=utf-8, Content-Length=940, Date=Tue, 08 Feb 2022 09:17:17 GMT} Payload: \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003csoap:Envelope xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\"\u003e\u003cenv:Body xmlns:S=\"http://www.w3.org/2003/05/soap-envelope\" xmlns:env=\"http://www.w3.org/2003/05/soap-envelope\"\u003e\u003cns2:RESULTAT xmlns:ns3=\"http://www.cnamts.fr/INSiRecVit\" xmlns:ns2=\"http://www.cnamts.fr/INSiResultat\" xmlns=\"http://www.cnamts.fr/INSiRecSans\"\u003e\u003cns2:CR\u003e\u003cns2:CodeCR\u003e00\u003c/ns2:CodeCR\u003e\u003cns2:LibelleCR\u003eOK\u003c/ns2:LibelleCR\u003e\u003c/ns2:CR\u003e\u003cns2:INDIVIDU\u003e\u003cns2:INSACTIF\u003e\u003cns2:IdIndividu\u003e\u003cns2:NumIdentifiant\u003e2770763220829\u003c/ns2:NumIdentifiant\u003e\u003cns2:Cle\u003e10\u003c/ns2:Cle\u003e\u003c/ns2:IdIndividu\u003e\u003cns2:OID\u003e1.2.250.1.213.1.4.8\u003c/ns2:OID\u003e\u003c/ns2:INSACTIF\u003e\u003cns2:TIQ\u003e\u003cns2:NomNaissance\u003eNESSI\u003c/ns2:NomNaissance\u003e\u003cns2:Prenom\u003eRUTH\u003c/ns2:Prenom\u003e\u003cns2:ListePrenom\u003eRUTH ISABELLE\u003c/ns2:ListePrenom\u003e\u003cns2:Sexe\u003eF\u003c/ns2:Sexe\u003e\u003cns2:DateNaissance\u003e1977-07-14\u003c/ns2:DateNaissance\u003e\u003cns2:LieuNaissance\u003e63220\u003c/ns2:LieuNaissance\u003e\u003c/ns2:TIQ\u003e\u003c/ns2:INDIVIDU\u003e\u003c/ns2:RESULTAT\u003e\u003c/env:Body\u003e\u003c/soap:Envelope\u003e ","categories":"","description":"Howtos pour bien démarrer\n","excerpt":"Howtos pour bien démarrer\n","ref":"/5.x/installer/poste_client/premier_pas/","tags":"","title":"Premier Pas"},{"body":"Voici la todo list pour commencer simplement\nAller sur le hub de Docker avec les informations données\nRécupérer l’image que correspond à vos besoins:\ndevboxsante-insi devboxsante-dmp devboxsante-mss devboxsante-all… Par exemple :\ndocker pull devboxsante/devboxsante-all:latest Lancer le container avec vos informations de licence :\ndocker run --name devbox-sante -p 8080:8080 -d -m1g \\ -e 'DEVBOX_LM_TOKEN=ebac...78b5d4' \\ -e 'DEVBOX_LM_CLIENT=client' \\ -e 'JAVA_OPTS=-Xms728M -Xmx856M' \\ devboxsante/devboxsante-all:latest Accéder au swagger pour consulter les APIs REST disponibles : http://dockerhost:8080/swagger-ui/index.html la basic auth utilise les mêmes informations de client et token pour mot de passe Consulter les collections Bruno d’exemple : https://bitbucket.org/devbox-sante/dbx-examples-bruno Configurer votre image : /6.x/installation/docker/configuration proxy HTTP Si vous utilisez un proxy, vous pouvez configurer la JVM avec les propriétés suivantes (à passer dans JAVA_OPTS):\ndocker run ... \\ -e 'JAVA_OPTS= ... -Dhttps.proxyHost=VOTRE_PROXY -Dhttps.proxyPort=PORT' Les propriétés de la JVM configurable sont : http.proxyHost, http.proxyPort, https.proxyHost, https.proxyPort\n","categories":"","description":"Howtos pour bien démarrer\n","excerpt":"Howtos pour bien démarrer\n","ref":"/6.x/installation/docker/premier_pas/","tags":"","title":"Premier Pas"},{"body":"Installation Une fois que vous avez téléchargez le binaire sur l’url qui vous a été fournis :\nSuivez les différentes étapes du programme d’installation et cliquez sur terminé. La DevBox-santé est lancée automatiquement sur un port pré-défini.\nSous Windows La DevBox-santé est accessible dans la barre de tâches :\nUn menu contextuel sur l’icône s’affiche sur un clic droit, permettant d’afficher des informations d’installation notamment le numéro de port :\nExécution sur l’environnement de démonstration Une fois le numéro de port obtenu depuis la boîte de dialogue “À propos”, vous pouvez accéder à l’environnement de démonstration (pour une version de développement seulement) depuis votre navigateur : http://localhost:PORT\nCe qui vous permet de tester l’installation et d’observer les différentes requêtes possibles pour les différents composants.\nVous pouvez également vous jeter sur les différents documentation swagger à vos dispositions : http://localhost:PORT/swagger-ui/index.html\nQuelques exemples de requêtes Vous pouvez consulter les collections Bruno d’exemple : https://bitbucket.org/devbox-sante/dbx-examples-bruno\nAprès l’installation Vérifier une mise à jour Dans le menu contextuel de la barre des tâches, il est possible d’accéder à la vérification de la mise à jour automatique :\n","categories":"","description":"Howtos pour bien démarrer\n","excerpt":"Howtos pour bien démarrer\n","ref":"/6.x/installation/poste_client/premier_pas/","tags":"","title":"Premier Pas"},{"body":"Ceci est l’api carte vitale proposée par DEVCOOP afin de proposer un niveau d’abstraction suffisant pour un programme java d’accéder à la carte vitale.\nLes documents de référence sont apilec-mp-001_lecv6.3x_V2.1.pdf et apilec-mf-001_lecv6.3x_V1.6.pdf\nImplémentation Le module carte-vitale-impl, fournit l’implémentation de la VitalFacade qui intègre l’API LectureVitale fournit par Sesam Vitale : PDT-INF-400-API_Lecture_Vitale_6.31.pdf\nExemple de code dans une application Spring Boot :\npublic class MonComposantVitale { @Autowired VitaleFacade vitale; public void maMethode() { final List\u003cCardReaderInfo\u003e availableReaders = vitale.getAvailableReaders().getCardReaders(); boolean selecteBeneficiaire = true; vitale.readVitale(selectBeneficiaire); } } Proxy REST Le module carte-vitale-proxy, permet de fournit une facade REST à la VitaleFacade java.\nL’accès au carte-vitale-proxy est indépendant de la technologie utilisée par l’intégrateur.\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Poste Client (Windows/Mac/Linux)\" { [FrontEnd intégrateur] as frontend package \"DevBox-Santé\" DEVBOX_COLOR { [DevBox-Santé Vitale API] as vitaleFacade VITALE_COLOR } [ApiVitale (SESAM-vitale)] as apiVitale } [BackEnd intégrateur] as backend frontend -down-\u003e vitaleFacade : REST \"GET \"/vitale/readVitale\"\" vitaleFacade \u003c-down-\u003e apiVitale : appel natif frontend -right-\u003e backend : REST Exécution Exemple Swagger :\nExemple CURL :\nRécupérer l’état des différents lecteurs de carte : curl -X GET \"http://localhost:8585/vitale/availableReaders\" -H \"accept: */*\" Lire les données administratives de la carte vitale curl -X GET \"http://localhost:8585/vitale/readVitale\" -H \"accept: */*\" Signer un fichier PDF : curl -X POST \"http://127.0.0.1:8484/cps/signPdf?location=Bordeaux\u0026reason=Parceque\" -H \"accept: */*\" -H \"Content-Type: multipart/form-data\" -F \"multipart=@fichier.pdf;type=application/pdf\" Configuration La carte-vitale-proxy est une application web Spring Boot, toutes les possibilités de spring-security sont donc disponibles.\nDonnées disponibles en plus avec la CPS Avec la carte CPS vous pouvez accéder aux données de santé, comme les exonérations du ticket modérateur (ETM) qui peuvent être liées par exemple à une ALD.\nL’exonération du ticket modérateur peut également être accordée pour certaines prestations : Certains actes médicaux comme le diagnostic et le traitement de la stérilité ; Les actes effectués dans le cadre des campagnes de prévention mises en place par les Pouvoirs publics (dépistage du cancer du sein par exemple). C’est aussi le cas des soins liés à un accident du travail ou encore à une maladie professionnelle.\n","categories":"","description":"Composant d'intégration de la carte vitale  \n","excerpt":"Composant d'intégration de la carte vitale  \n","ref":"/5.x/vitale/","tags":"","title":"Vitale"},{"body":"Ceci est l’api carte vitale proposée par DEVCOOP afin de proposer un niveau d’abstraction suffisant pour un programme java d’accéder à la carte vitale.\nLes documents de référence sont apilec-mp-001_lecv6.3x_V2.1.pdf et apilec-mf-001_lecv6.3x_V1.6.pdf\nImplémentation Le module carte-vitale-impl, fournit l’implémentation de la VitalFacade qui intègre l’API LectureVitale fournit par Sesam Vitale : PDT-INF-400-API_Lecture_Vitale_6.31.pdf\nExemple de code dans une application Spring Boot :\npublic class MonComposantVitale { @Autowired VitaleFacade vitale; public void maMethode() { final List\u003cCardReaderInfo\u003e availableReaders = vitale.getAvailableReaders().getCardReaders(); boolean selecteBeneficiaire = true; vitale.readVitale(selectBeneficiaire); } } Configuration La carte-vitale-proxy est une application web Spring Boot, toutes les possibilités de spring-security sont donc disponibles.\nDonnées disponibles en plus avec la CPS Avec la carte CPS vous pouvez accéder aux données de santé, comme les exonérations du ticket modérateur (ETM) qui peuvent être liées par exemple à une ALD.\nL’exonération du ticket modérateur peut également être accordée pour certaines prestations : Certains actes médicaux comme le diagnostic et le traitement de la stérilité ; Les actes effectués dans le cadre des campagnes de prévention mises en place par les Pouvoirs publics (dépistage du cancer du sein par exemple). C’est aussi le cas des soins liés à un accident du travail ou encore à une maladie professionnelle.\n","categories":"","description":"Composant d'intégration de la carte vitale  \n","excerpt":"Composant d'intégration de la carte vitale  \n","ref":"/6.x/composants/vitale/","tags":"","title":"Vitale"},{"body":"L’intégration de cet annuaire dans votre application, vous premettra de répondre aux exigences SEGUR pour notamment les annuaires professionnels et l’utilisation des codes DCI pour la prescriptions\nCette annuaire est le fruit de l’intégration de plusieurs bases de données:\nAnnuaire Finess: https://www.data.gouv.fr Annuaire Rpps: https://ws.annuaire.sante.fr Annuaire MSSanté: https://service.annuaire.sante.fr Nomenclature NOS: https://esante.gouv.fr Nomenclature CCAM: https://www.ameli.fr Nomenclature CIM10: https://smt.esante.gouv.fr Nomenclature CIM11: https://smt.esante.gouv.fr Nomenclature CIS: https://base-donnees-publique.medicaments.gouv.fr Nomenclature CIP: https://base-donnees-publique.medicaments.gouv.fr Bien d’autres nomenclatures ATC … avec géolocalisation des adresses\nMode SAAS Accéder à l’annuaire en REST depuis nos environnements : https://annuaire-demo.devbox-sante.fr/swagger-ui.html\nAccès aux différents environnements L’accès à la plateforme de démonstration : https://annuaire-demo.devbox-sante.fr/\nL’accès à la plateforme de production : https://annuaire.devbox-sante.fr/\nLes applications front servent de démonstrateur des possibilités de l’annuaire mais leurs fonctionnalités ne sont pas exaustives.\nContactez-nous\nStatistiques d’usage Un service de statistique est disponible permettant de connaître le nombre de requêtes lancés dans le mois :\ncurl -X GET \"https://annuaire-demo.devbox-sante.fr/statistiques/activities\" -H \"accept: */*\" { \"content\": [ { \"id\": \"devcoop_202201\", \"year\": 2022, \"month\": 1, \"client\": \"devcoop\", \"count\": 10105 }, { \"id\": \"devcoop_202202\", \"year\": 2022, \"month\": 2, \"client\": \"devcoop\", \"count\": 2045 } ], \"pageable\": { ... } } Les autres points d’entrée :\nMode hébergé sur vos serveur Installation dans votre propre environnement\nContactez-nous\n","categories":"","description":"Annuaire géolocalisé des professionnels de santé et des établissements de soin, ainsi que les nomenclatures du NOS, ATC, CIM11, CIP, ... \n","excerpt":"Annuaire géolocalisé des professionnels de santé et des établissements …","ref":"/annuaire/","tags":"","title":"Annuaire et nomenclature de santé"},{"body":"","categories":"","description":"Guide de migration vers les versions supérieures de la DevBox-Santé DMP\n","excerpt":"Guide de migration vers les versions supérieures de la DevBox-Santé …","ref":"/6.x/connecteurs/dmp/howtos/migrations/","tags":"","title":"Migrations"},{"body":"La DevBox-santé Mobilité intègre le téléservice ApCV authentifierUtilisateurProximite en proposant une API Java ou Rest simple à intégrer. Le guide d’intégration de ce téléservice est : ApCV-MP-001 - GI Demander l'authentification et gérer le contexte ApCV v1.3.pdf\nElle vous permet :\nl’authentification par carte CPS la lecture NFC de l’application mobile la lecture du QRCode l’appel au téléservice INS En java authentifierUtilisateurProximite ApCV01AuthentificationRequest request = ApCV01AuthentificationRequest.builder().requestContext(ApCVRequestContext.builder() .professionnelSante(ApCVRequestContext.ProfessionnelSante.builder() .specialite(SPECIALITE) .build()) .structure(ApCVRequestContext.StructureSante.builder().identifiantFacturation(identifiantFacturation).build()) .build()) .donnees(donnees.getBytes()) .build(); ApCV01AuthentificationResponse response = client.authentifierUtilisateurProximite(request); restituerContexteApCV final ApCV02RestitutionResponse restitution = client.restituerContexteApCV(ApCV02RestitutionRequest.builder() .requestContext(request.getRequestContext()) .build() ); detruireContexteApCV final ApCV03DestructionResponse destruction = client.detruireContexteApCV(ApCV03DestructionRequest.builder() .requestContext(request.getRequestContext()) .identifiant(response.getContexte().getIdentifiant()) .build() ); En REST authentifierUtilisateurProximite curl -X 'POST' \\ 'http://localhost:8080/apcv/authentifierUtilisateurProximite' \\ -H 'accept: */*' \\ -H 'Content-Type: application/json' \\ -d '{ \"requestContext\": { \"professionnelSante\": { \"specialite\": \"35\" }, \"structure\": { \"identifiantFacturation\": \"123456789\" } }, \"sourceMedia\": \"NFC\" }' La réponse du contexte ressemble à : avcv_response.json\nrestituerContexteApCV curl -X 'POST' \\ 'http://localhost:8080/apcv/restituerContexte' \\ -H 'accept: */*' \\ -H 'Content-Type: application/json' \\ -d '{ \"requestContext\": { \"professionnelSante\": { \"specialite\": \"35\" }, \"structure\": { \"identifiantFacturation\": \"123456789\" } } }' detruireContexteApCV curl -X 'POST' \\ 'http://localhost:8080/apcv/detruireContexte' \\ -H 'accept: */*' \\ -H 'Content-Type: application/json' \\ -d '{ \"requestContext\": { \"professionnelSante\": { \"specialite\": \"35\" }, \"structure\": { \"identifiantFacturation\": \"123456789\" } }, \"identifiant\": \"0474c48a-380a-424b-a038-c777a691f844\" }' ","categories":"","description":"La DevBox-Santé mobilité ApCV\n","excerpt":"La DevBox-Santé mobilité ApCV\n","ref":"/5.x/apcv/","tags":"","title":"ApCV"},{"body":"Introduction Une des difficultés d’intégration avec le DMP consiste à établir une connexion SSL (TLS) en authentification mutuelle avec le DMP. Contrairement aux connexions SSL classiques que nous pouvons avoir avec n’importe quel site, non seulement le DMP doit prouver son identité mais aussi le client qui s’y connecte.\nCela signifie que l’opération Certificate Verify dans le schéma doit être réalisé :\nCette étape consiste à ce que le client signe un handshake provenant du serveur avec une clé privé provenant d’une IGC (Infrastructure de Gestion de Clés) reconnue par le DMP : l’IGC Santé.\nCelà permet de définir deux modes d’authentification dans le DMP :\nl’authentification indirecte par l’usage d’un fichier p12 certificat serveur provenant de l’IGC santé l’authentification directe par l’usage d’une carte CPS Ces deux modes d’authentification, peuvent se dériver en différentes architectures en fonction du contexte de l’intégrateur.\n","categories":"","description":"Les différentes mécanismes d'authentifications et architectures possibles avec le DMP\n","excerpt":"Les différentes mécanismes d'authentifications et architectures …","ref":"/5.x/dmp/authentifications/","tags":"","title":"Authentifications"},{"body":"Introduction Une des difficultés d’intégration avec le DMP consiste à établir une connexion SSL (TLS) en authentification mutuelle avec le DMP. Contrairement aux connexions SSL classiques que nous pouvons avoir avec n’importe quel site, non seulement le DMP doit prouver son identité mais aussi le client qui s’y connecte.\nCela signifie que l’opération Certificate Verify dans le schéma doit être réalisé :\nCette étape consiste à ce que le client signe un handshake provenant du serveur avec une clé privé provenant d’une IGC (Infrastructure de Gestion de Clés) reconnue par le DMP : l’IGC Santé.\nCelà permet de définir deux modes d’authentification dans le DMP :\nl’authentification indirecte par l’usage d’un fichier p12 certificat serveur provenant de l’IGC santé l’authentification directe par l’usage d’une carte CPS Ces deux modes d’authentification, peuvent se dériver en différentes architectures en fonction du contexte de l’intégrateur.\n","categories":"","description":"Les différentes mécanismes d'authentifications et architectures possibles avec le DMP\n","excerpt":"Les différentes mécanismes d'authentifications et architectures …","ref":"/6.x/connecteurs/dmp/authentifications/","tags":"","title":"Authentifications"},{"body":"Authentification Directe avec CPS Agent Scenario possible : Le frontend de l’intégrateur, passe le contexte d’authentification de la DevBox-Santé CPS agent se trouvant sur le poste client au backend. Le backend initie une session TLS/SSL avec le serveur DMP grâce au CpsAgentClient.\nDiagramme de composants !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Poste Client (Windows/Mac/Linux)\" { [FrontEnd intégrateur] as frontend package \"DevBox-Santé Proxy REST\" as cpsAgent DEVBOX_COLOR { [DevBox-sante CPS] as cps CPS_COLOR } [Cryptolib CPS (ANS)] as cryptolibCPS } node \"Environnement intégrateur\" { [BackEnd intégrateur] as backend package \"DevBox-Santé Proxy REST\" DEVBOX_COLOR { component \"DevBox-sante DMP\" as dmpFacade DMP_COLOR { [CpsAgentClient] CPS_COLOR } } } cloud \"**DMP**\" as DMP frontend -d-\u003e backend : 1 backend -d-\u003e dmpFacade : 2 CpsAgentClient -\u003e cpsAgent : 3 cps -down-\u003e cryptolibCPS : 4 dmpFacade -down-\u003e DMP : 5 Diagramme de séquences !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 box \"Poste Client\" participant frontend participant cpsAgent CPS_COLOR end box box \"Environnement intégrateur\" #white participant \"DevBox-Santé DMP\" as dbxdmp DMP_COLOR participant backend end box participant \"**DMP**\" as dmp frontend -\u003e backend : storeDocumentPatient backend -\u003e dbxdmp : /dmp/td21SubmitDocuments == initialisation d'une connexion SSL en authentification mutuelle avec le DMP == dbxdmp -\u003e \"DMP\" as dmp : [SSL] 1. Client Hello dmp -\u003e dbxdmp : [SSL] 2. Server Hello (certificat du DMP server inclus) dmp -\u003e dbxdmp : [SSL] 3. Client certificate request dbxdmp -\u003e cpsAgent : HTTP GET /cps/authenticationCertificate cpsAgent -\u003e dbxdmp : {certificate authentification} dbxdmp -\u003e dmp : [SSL] 4. Client certificate dbxdmp -\u003e dmp : [SSL] 5. Client sends key info \\n(encrypted with DMP server public's key) dbxdmp -\u003e cpsAgent : HTTP POST /cps/sign/for/authentication/SHA256WithRSA body : {handshake data} cpsAgent -\u003e dbxdmp : {signed handshake data} dbxdmp -\u003e dmp : [SSL] 6. Certificate verify \\n (with Digital Signature) dbxdmp -\u003e dmp : [SSL] 7. Finnished message \\n (encrypted with symmetric key) dmp -\u003e dbxdmp : [SSL] 8. Finnished message \\n (encrypted with symmetric key) == fin de l'initialisation de la connexion ssl avec le DMP == dbxdmp -\u003e dmp : POST SOAP message de soumission (XDS/CDA) dmp -\u003e dbxdmp : SOAP response OK dbxdmp -\u003e backend : HTTP 200 Ok backend -\u003e frontend : ok ","categories":"","description":"Authentification via le CPS Agent (Démon sur le poste client minimaliste)\n","excerpt":"Authentification via le CPS Agent (Démon sur le poste client …","ref":"/5.x/dmp/authentifications/cps_agent/","tags":"","title":"Authentification Directe via le CPS Agent"},{"body":"Obtenir les logs Les logs sont générés dans un fichier output.log dans le cas d’un installer ou directement dans la console pour une instance docker.\nPour s’assurer que les traces SOAP soient bien générés dans les traces, il faut que la configuration des logs de org.apache.cxf.services :\nsoit à un niveau info dans les versions jusqu’à 5.0 soit à un niveau debug dans les versions postérieures (à partir de la 5.1) Pour forcer un niveau de log : /5.x/dmp/configuration/#logging\nInterpréter les logs Dans la totalité des tests il vous sera demandé de fournir “les requête/réponse de l’appel au service\nUne fois lancée dans le fichier output.log ou dans la console de l’instance docker:\n____ ____ _ | _ \\ _____ _| __ ) _____ __ ___ __ _ _ __ | |_ ___ | | | |/ _ \\ \\ / / _ \\ / _ \\ \\/ /____/ __|/ _` | '_ \\| __/ _ \\ | |_| | __/\\ V /| |_) | (_) \u003e \u003c_____\\__ \\ (_| | | | | || __/ |____/ \\___| \\_/ |____/ \\___/_/\\_\\ |___/\\__,_|_| |_|\\__\\___| 2022-09-16 09:32:25.747 INFO 38652 --- [ main] f.devboxsante.clients.DevboxSanteServer : Starting DevboxSanteServer v2.18.0 on lfo-xps15-2 with PID 38652 (C:\\Program Files\\DevBoxSante\\repository\\devboxsante.jar started by lfo in C:\\Program Files\\DevBoxSante) 2022-09-16 09:32:25.750 DEBUG 38652 --- [ main] f.devboxsante.clients.DevboxSanteServer : Running with Spring Boot v2.3.4.RELEASE, Spring v5.2.9.RELEASE 2022-09-16 09:32:25.750 INFO 38652 --- [ main] f.devboxsante.clients.DevboxSanteServer : The following profiles are active: SWAGGER_INSTALLER,CNDA_WEB 2022-09-16 09:32:29.231 INFO 38652 --- [ main] o.o.core.config.InitializationService : Initializing OpenSAML using the Java Services API 2022-09-16 09:32:29.763 INFO 38652 --- [ main] o.o.xmlsec.algorithm.AlgorithmRegistry : Algorithm failed runtime support check, will not be usable: http://www.w3.org/2001/04/xmlenc#ripemd160 2022-09-16 09:32:29.768 INFO 38652 --- [ main] o.o.xmlsec.algorithm.AlgorithmRegistry : Algorithm failed runtime support check, will not be usable: http://www.w3.org/2001/04/xmldsig-more#hmac-ripemd160 2022-09-16 09:32:29.776 INFO 38652 --- [ main] o.o.xmlsec.algorithm.AlgorithmRegistry : Algorithm failed runtime support check, will not be usable: http://www.w3.org/2001/04/xmldsig-more#rsa-ripemd160 2022-09-16 09:32:30.331 INFO 38652 --- [ main] f.d.c.c.AlternativePortsConfiguration : Try to start on port 9999 2022-09-16 09:32:30.712 INFO 38652 --- [ main] f.d.c.configuration.CookieConfiguration : Cookie same-site: Lax 2022-09-16 09:32:30.714 INFO 38652 --- [ main] o.s.b.w.embedded.tomcat.TomcatWebServer : Tomcat initialized with port(s): 9999 (http) 2022-09-16 09:32:30.723 INFO 38652 --- [ main] o.apache.catalina.core.StandardService : Starting service [Tomcat] 2022-09-16 09:32:30.723 INFO 38652 --- [ main] org.apache.catalina.core.StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.38] 2022-09-16 09:32:30.783 INFO 38652 --- [ main] o.a.c.c.C.[Tomcat].[localhost].[/] : Initializing Spring embedded WebApplicationContext 2022-09-16 09:32:30.783 INFO 38652 --- [ main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4968 ms 2022-09-16 09:32:31.345 INFO 38652 --- [ main] f.d.c.configuration.LMConfiguration : installer.token: 50587132-ac43-4f41-b1e0-1d82c61b1d34 2022-09-16 09:32:31.346 INFO 38652 --- [ main] f.d.c.configuration.LMConfiguration : installer.env: DEV 2022-09-16 09:32:31.346 INFO 38652 --- [ main] f.d.c.configuration.LMConfiguration : installer.client: devcoop 2022-09-16 09:32:31.347 INFO 38652 --- [ main] f.d.c.configuration.LMConfiguration : installer.backendUrl: https://clients.devbox-sante.fr 2022-09-16 09:32:31.347 INFO 38652 --- [ main] f.d.c.configuration.LMConfiguration : installer.version: 2.18.0 Vous pourrez trouver les requêtes sortantes en cherchant le mot REQ_OUT : 2022-09-16 14:21:42.982 INFO 33980 --- [ main] o.a.cxf.services.GDP_PortType.REQ_OUT : REQ_OUT Address: https://devh.lps2.dmp.gouv.fr/si-dmp-server/v2/services/patients HttpMethod: POST Content-Type: application/soap+xml; action=\"urn:hl7-org:v3:PRPA_IN201307UV02\" ExchangeId: 37018935-b110-4782-a191-d6a5ffc84d94 ServiceName: GDPPortTypeService PortName: GDP_PortTypePort PortTypeName: GDP_PortType Headers: {Accept=*/*} Payload: \u003csoap:Envelope xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\"\u003e\u003csoap:Header\u003e\u003cAction xmlns=\"http://www.w3.org/2005/08/addressing\"\u003eurn:hl7-org:v3:PRPA_IN201307UV02\u003c/Action\u003e\u003cMessageID xmlns=\"http://www.w3.org/2005/08/addressing\"\u003eurn:uuid:c6de458d-4527-4959-a9c6-0e913af58247\u003c/MessageID\u003e\u003cTo xmlns=\"http://www.w3.org/2005/08/addressing\"\u003ehttps://devh.lps2.dmp.gouv.fr/si-dmp-server/v2/services/patients\u003c/To\u003e\u003cReplyTo xmlns=\"http://www.w3.org/2005/08/addressing\"\u003e\u003cAddress\u003ehttp://www.w3.org/2005/08/addressing/anonymous\u003c/Address\u003e\u003c/ReplyTo\u003e\u003cwsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\u003e\u003csaml2:Assertion xmlns:saml2=\"urn:oasis:names:tc:SAML:2.0:assertion\" ID=\"3dea0f38-739b-423f-9315-3777253e3d95\" IssueInstant=\"2022-09-16T12:21:41.838Z\" Version=\"2.0\"\u003e\u003csaml2:Issuer Format=\"urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName\"\u003eGIVENNAME=ANNE + CN=899700296140 + SURNAME=MED-CS RPPS0029614, T=Médecin, C=FR\u003c/saml2:Issuer\u003e\u003cds:Signature xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\"\u003e \u003cds:SignedInfo\u003e \u003cds:CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"/\u003e \u003cds:SignatureMethod Algorithm=\"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\"/\u003e \u003cds:Reference URI=\"#3dea0f38-739b-423f-9315-3777253e3d95\"\u003e \u003cds:Transforms\u003e \u003cds:Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"/\u003e \u003cds:Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"/\u003e \u003c/ds:Transforms\u003e \u003cds:DigestMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#sha256\"/\u003e \u003cds:DigestValue\u003eFgEbwW0Xzd+HGhjhxZfszDZm2IFwTXlU084oqJFbsfY=\u003c/ds:DigestValue\u003e \u003c/ds:Reference\u003e \u003c/ds:SignedInfo\u003e \u003cds:SignatureValue\u003e cdb+3r9tpg4piUZ4reEJyAfq3EZeQwI7AvDRJAE447I7hjCjGEWPKBfPCdfwkIyU4bH8UadmxnjL\u0026#xd; olMAZGEqgcUSs8+CW/wzsEbmRtGeAvKKhzlacm8Kl7U047hj+hjviwSDZhImSS9rZyeyjV4JcubR\u0026#xd; 0pbA+0wkvPQ1x1PT38tVEMXt965YV/ornj4TuGejcPx9WkX7VsrgjJFcH9r3oGVCIS10dC5l/PI1\u0026#xd; 8Cq1WEL1lx3ton4VgZCxkY7MAQAWGos08XzsV8pnc+GuA+H7+SBIqlBLfpt2z93Ru+HVoTu6ATMG\u0026#xd; JjutwVGcJ3pnLGgofm26I6WvJSouimLUSCUwSA== \u003c/ds:SignatureValue\u003e \u003cds:KeyInfo\u003e\u003cds:X509Data\u003e\u003cds:X509Certificate\u003eMIIIkjCCBnqgAwIBAgIQY9r/z8gDS9wvB2ErFSZ7ojANBgkqhkiG9w0BAQsFADB/MQswCQYDVQQG EwJGUjETMBEGA1UECgwKQVNJUC1TQU5URTEXMBUGA1UECwwOMDAwMiAxODc1MTI3NTExFzAVBgNV BAsMDklHQy1TQU5URSBURVNUMSkwJwYDVQQDDCBURVNUIEFDIElHQy1TQU5URSBGT1JUIFBFUlNP Tk5FUzAeFw0yMDEyMTUxMzA4MzFaFw0yMzEyMTUxMzA4MzFaMF8xCzAJBgNVBAYTAkZSMREwDwYD VQQMDAhNw6lkZWNpbjE9MAsGA1UEKgwEQU5ORTATBgNVBAMMDDg5OTcwMDI5NjE0MDAZBgNVBAQM Ek1FRC1DUyBSUFBTMDAyOTYxNDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALI4qUzO XnPZTYXyNvNP0mHQyBxNAzT0vqHwduBDeEF+uvQZAHXn82bQMBD30dvVfsy8EY9LYIxgA11QKf9a 0xd9GD7pgi8DtmGF4Lcd7ZEE0MWnW9NjCCeOO1STwT6+aarE3OHXApy3J/0AIFb3ZGyFNr0cGu15 L3v56aB4TJ0m6Agn7h3KD9VjWoCGbsu7/BHDYqgF3/PG7fai4zF0hBX+5VeToa6EZUnUNOgRyaJF 1rRI261fkyw09B7gNF2gHxpRxS9ryZ4n64WV5JU5q2UlHHkUgpXk8UdD0fKSE6Wu8k18/OHQd96t F6wrYtdmCxu6K7iWdOuGBMwwq/kie4kCAwEAAaOCBCgwggQkMAkGA1UdEwQCMAAwHQYDVR0OBBYE FFqE3AQVqvHlLHBxuclOPSJwlDleMB8GA1UdIwQYMBaAFDrx5/XO6+33jcnJsp/t1GUp3B/9MA4G A1UdDwEB/wQEAwIGQDBTBgNVHSAETDBKMEgGDSqBegGBVQEHAgEBAQEwNzA1BggrBgEFBQcCARYp aHR0cDovL2lnYy1zYW50ZS5lc2FudGUuZ291di5mci9QQyUyMFRFU1QwEwYDVR0lBAwwCgYIKwYB BQUHAwQwKwYDVR0QBCQwIoAPMjAyMDEyMTUxMzA4MzFagQ8yMDIzMTIxNTEzMDgzMVowggFABgNV HR8EggE3MIIBMzA8oDqgOIY2aHR0cDovL2lnYy1zYW50ZS5lc2FudGUuZ291di5mci9DUkwvQUNJ LUZPLVBQLVRFU1QuY3JsMIHyoIHvoIHshoHpbGRhcDovL2FubnVhaXJlLWlnYy5lc2FudGUuZ291 di5mci9jbj1URVNUJTIwQUMlMjBJR0MtU0FOVEUlMjBGT1JUJTIwUEVSU09OTkVTLG91PVRFU1Ql MjBBQyUyMFJBQ0lORSUyMElHQy1TQU5URSUyMEZPUlQsb3U9SUdDLVNBTlRFJTIwVEVTVCxvdT0w MDAyJTIwMTg3NTEyNzUxLG89QVNJUC1TQU5URSxjPUZSP2NlcnRpZmljYXRlcmV2b2NhdGlvbmxp c3Q7YmluYXJ5P2Jhc2U/b2JqZWN0Q2xhc3M9cGtpQ0EwgfoGA1UdLgSB8jCB7zCB7KCB6aCB5oaB 42xkYXA6Ly9hbm51YWlyZS1pZ2MuZXNhbnRlLmdvdXYuZnIvY249VEVTVCUyMEFDJTIwSUdDLVNB TlRFJTIwRk9SVCUyMFBFUlNPTk5FUyxvdT1URVNUJTIwQUMlMjBSQUNJTkUlMjBJR0MtU0FOVEUl MjBGT1JULG91PUlHQy1TQU5URSUyMFRFU1Qsb3U9MDAwMiUyMDE4NzUxMjc1MSxvPUFTSVAtU0FO VEUsYz1GUj9kZWx0YXJldm9jYXRpb25saXN0O2JpbmFyeT9iYXNlP29iamVjdENsYXNzPXBraUNB MIGABggrBgEFBQcBAQR0MHIwJgYIKwYBBQUHMAGGGmh0dHA6Ly9vY3NwLmVzYW50ZS5nb3V2LmZy MEgGCCsGAQUFBzAChjxodHRwOi8vaWdjLXNhbnRlLmVzYW50ZS5nb3V2LmZyL0FDJTIwVEVTVC9B Q0ktRk8tUFAtVEVTVC5jZXIwDwYIKoF6AUcBAgUEAwQBgDAPBggqgXoBRwECAgQDAgEAMCMGCCqB egFHAQIDBBcTFTgwMjUwMDAwMDEvMjgwMDgxMTExMjAPBggqgXoBRwECBwQDAgEKMBQGCCqBegFH BAIFBAgwBgwEU00yNjANBgkqhkiG9w0BAQsFAAOCAgEAjHlMgOOxa0WrBYYOu7QV1s73Cp+y2KYH elVvcZym8SM4qVFtbCuHljO3nFEYbEjMvs3aEtuTJ6vuEY4GkEg2fwcgbcIcwW4nXOV6YywyV0rB TBTW77GOsngHSpsMdtmBL41nr4WCtULCnQd0TGl3pEqRVuNpWt2WwReL6VGB+ZbCmRrTdkc3Ne/5 TR7hC6//ddvjjNIc1QCX3MU22d10ZsNnc9d5O3ZF9fenYlnCd2QLbWpSHJ7TCvAhNIF2S/EmLcWx o7NXoCW/Di7iOEYCM57mr79FuTyCUbUI0DDLz3lxJ+aHvyUAp/Tnzwd6NwO6HLgt7PTt2S/hX8ZM bS5UlQK3AoAr5++5Sb9QGEmopnVTz+YhCtJoyWtNudHtYUiS+1RrERALWC5++CaZDusOdxmAFRX8 84OQznWcxj5A1b1GOBF84yEXwxZgYKGBM9Iz8EmvpBHwVCj6VdjvVmeYJwiH+cjP1Q1N6aQlSEcR lHB6fvG7oSUZot3lcTldhHyxxhfR0+HEXYhG7/DYcsNymqwD4vDURUAwOvoOWzHPfs6r1fECw21T bP3Y2OtFuWfDXarPYW+3YMmMEJwboL+APfinsuS5tziDfoFKRMJf25o2SgNYOPNxnsTspW4P/x/2 Fdxj9tnROlPZfBxXLraunS7zw6uqjJS6iPHS80hoFHQ=\u003c/ds:X509Certificate\u003e\u003c/ds:X509Data\u003e\u003c/ds:KeyInfo\u003e\u003c/ds:Signature\u003e\u003csaml2:Subject\u003e\u003csaml2:NameID\u003e899700296140\u003c/saml2:NameID\u003e\u003c/saml2:Subject\u003e\u003csaml2:AuthnStatement AuthnInstant=\"2022-09-16T12:21:41.864Z\"\u003e\u003csaml2:AuthnContext\u003e\u003csaml2:AuthnContextClassRef\u003eurn:oasis:names:tc:SAML:2.0:ac:classes:SmartcardPKI\u003c/saml2:AuthnContextClassRef\u003e\u003c/saml2:AuthnContext\u003e\u003c/saml2:AuthnStatement\u003e\u003csaml2:AttributeStatement\u003e\u003csaml2:Attribute Name=\"Identifiant_Structure\"\u003e\u003csaml2:AttributeValue\u003e10B0156832\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"Secteur_Activite\"\u003e\u003csaml2:AttributeValue\u003eSA05^1.2.250.1.71.4.2.4\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"urn:oasis:names:tc:xacml:2.0:subject:role\"\u003e\u003csaml2:AttributeValue\u003e\u003cRole xmlns=\"urn:hl7-org:v3\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" code=\"10\" codeSystem=\"1.2.250.1.71.1.2.7\" displayName=\"Médecin\" xsi:type=\"CE\"/\u003e\u003c/saml2:AttributeValue\u003e\u003csaml2:AttributeValue\u003e\u003cRole xmlns=\"urn:hl7-org:v3\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" code=\"SM26\" codeSystem=\"1.2.250.1.71.4.2.5\" displayName=\"Qualifié en Médecine Générale (SM)\" xsi:type=\"CE\"/\u003e\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"VIHF_Version\"\u003e\u003csaml2:AttributeValue\u003e3.0\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"Authentification_mode\"\u003e\u003csaml2:AttributeValue\u003eDIRECTE\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"urn:oasis:names:tc:xacml:2.0:resource:resource-id\"\u003e\u003csaml2:AttributeValue\u003e157069329642881^^^\u0026amp;1.2.250.1.213.1.4.10\u0026amp;ISO^NH\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"Ressource_URN\"\u003e\u003csaml2:AttributeValue\u003eurn:dmp\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"urn:oasis:names:tc:xspa:1.0:subject:purposeofuse\"\u003e\u003csaml2:AttributeValue\u003e\u003cPurposeOfUse xmlns=\"urn:hl7-org:v3\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" code=\"normal\" codeSystem=\"1.2.250.1.213.1.1.4.248\" displayName=\"Accès normal\" xsi:type=\"CE\"/\u003e\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"LPS_ID\"\u003e\u003csaml2:AttributeValue\u003e1.2.250.1.287.1.1234567\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"LPS_Nom\"\u003e\u003csaml2:AttributeValue\u003eDEVBOX-SANTE DMP\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"LPS_Version\"\u003e\u003csaml2:AttributeValue\u003e5.0\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"LPS_ID_HOMOLOGATION_DMP\"\u003e\u003csaml2:AttributeValue\u003eDCP-537042-tmp8\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003c/saml2:AttributeStatement\u003e\u003c/saml2:Assertion\u003e\u003c/wsse:Security\u003e\u003c/soap:Header\u003e\u003csoap:Body\u003e\u003cPRPA_IN201307UV02 xmlns=\"urn:hl7-org:v3\" xmlns:ns2=\"asip:ci-sis:gdp:2010\" ITSVersion=\"XML_1.0\"\u003e\u003cid extension=\"11a12948-8a2d-478a-828a-46daea093cd5\" root=\"1.2.250.1.287.1.1234567.10\"/\u003e\u003ccreationTime value=\"20220916122141\"/\u003e\u003cinteractionId extension=\"PRPA_IN201307UV02\" root=\"2.16.840.1.113883.1.6\"/\u003e\u003cprocessingCode code=\"D\"/\u003e\u003cprocessingModeCode code=\"T\"/\u003e\u003cacceptAckCode code=\"AL\"/\u003e\u003creceiver typeCode=\"RCV\"\u003e\u003cdevice classCode=\"DEV\" determinerCode=\"INSTANCE\"\u003e\u003cid root=\"1.2.250.1.213.4.1.1.1\"/\u003e\u003csoftwareName\u003eDMP\u003c/softwareName\u003e\u003c/device\u003e\u003c/receiver\u003e\u003csender typeCode=\"SND\"\u003e\u003cdevice classCode=\"DEV\" determinerCode=\"INSTANCE\"\u003e\u003cid root=\"1.2.250.1.287.1.1234567\"/\u003e\u003csoftwareName\u003eDEVBOX-SANTE DMP\u003c/softwareName\u003e\u003c/device\u003e\u003c/sender\u003e\u003ccontrolActProcess classCode=\"CACT\" moodCode=\"EVN\"\u003e\u003creasonCode code=\"TEST_EXST\" codeSystem=\"1.2.250.1.213.1.1.4.11\" displayName=\"Test d'existence de dossier\"/\u003e\u003cqueryByParameter\u003e\u003cqueryId extension=\"2f2b5d56-2bf2-42f0-b186-60076dfc3602\" root=\"1.2.250.1.287.1.1234567.11\"/\u003e\u003cstatusCode code=\"new\"/\u003e\u003cparameterList\u003e\u003cpatientIdentifier\u003e\u003cvalue extension=\"157069329642881\" root=\"1.2.250.1.213.1.4.10\"/\u003e\u003csemanticsText\u003ePatient.id\u003c/semanticsText\u003e\u003c/patientIdentifier\u003e\u003c/parameterList\u003e\u003c/queryByParameter\u003e\u003c/controlActProcess\u003e\u003c/PRPA_IN201307UV02\u003e\u003c/soap:Body\u003e\u003c/soap:Envelope\u003e Ce qui intéresse le CNDA c’est le payload soap xml que l’on mettera dans REQUETE_LPS.xml\nPour la réponse RESP_IN : 2022-09-16 14:21:43.124 INFO 33980 --- [ main] o.a.cxf.services.GDP_PortType.RESP_IN : RESP_IN Address: https://devh.lps2.dmp.gouv.fr/si-dmp-server/v2/services/patients Content-Type: application/soap+xml;charset=UTF-8 ResponseCode: 200 ExchangeId: 37018935-b110-4782-a191-d6a5ffc84d94 ServiceName: GDPPortTypeService PortName: GDP_PortTypePort PortTypeName: GDP_PortType Headers: {vary=Origin, content-type=application/soap+xml;charset=UTF-8, Content-Length=3604, Date=Fri, 16 Sep 2022 12:21:43 GMT} Payload: \u003csoap:Envelope xmlns:ns1=\"urn:si-dmp-patients\" xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\"\u003e\u003csoap:Header\u003e\u003cAction xmlns=\"http://www.w3.org/2005/08/addressing\"\u003eurn:hl7-org:v3:PRPA_IN201308UV02\u003c/Action\u003e\u003cMessageID xmlns=\"http://www.w3.org/2005/08/addressing\"\u003eurn:uuid:388c97d8-280f-4c9e-b275-53026cd3256b\u003c/MessageID\u003e\u003cTo xmlns=\"http://www.w3.org/2005/08/addressing\"\u003ehttp://www.w3.org/2005/08/addressing/anonymous\u003c/To\u003e\u003cRelatesTo xmlns=\"http://www.w3.org/2005/08/addressing\"\u003eurn:uuid:c6de458d-4527-4959-a9c6-0e913af58247\u003c/RelatesTo\u003e\u003c/soap:Header\u003e\u003csoap:Body\u003e\u003cPRPA_IN201308UV02 xmlns=\"urn:hl7-org:v3\" xmlns:ns2=\"asip:ci-sis:gdp:2010\" ITSVersion=\"XML_1.0\"\u003e\u003cid root=\"93e46b54-3076-4d33-981f-131af01e8597\"/\u003e\u003ccreationTime value=\"20220916122143\"/\u003e\u003cinteractionId extension=\"PRPA_IN201308UV02\" root=\"2.16.840.1.113883.1.6\"/\u003e\u003cprocessingCode code=\"P\"/\u003e\u003cprocessingModeCode code=\"T\"/\u003e\u003cacceptAckCode code=\"NE\"/\u003e\u003creceiver typeCode=\"RCV\"\u003e\u003cdevice classCode=\"DEV\" determinerCode=\"INSTANCE\"\u003e\u003cid root=\"1.2.250.1.287.1.1234567\"/\u003e\u003csoftwareName\u003eDEVBOX-SANTE DMP\u003c/softwareName\u003e\u003c/device\u003e\u003c/receiver\u003e\u003csender typeCode=\"SND\"\u003e\u003cdevice classCode=\"DEV\" determinerCode=\"INSTANCE\"\u003e\u003cid root=\"1.2.250.1.213.4.1.1.1\"/\u003e\u003csoftwareName\u003eDMP\u003c/softwareName\u003e\u003c/device\u003e\u003c/sender\u003e\u003cattentionLine\u003e\u003ckeyWordText code=\"AUTORISATION\" codeSystem=\"1.2.250.1.213.4.1.2.6.1\"/\u003e\u003cvalue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" code=\"NON_EXISTE\" codeSystem=\"1.2.250.1.213.4.1.2.6.2\" xsi:type=\"CV\"/\u003e\u003c/attentionLine\u003e\u003cattentionLine\u003e\u003ckeyWordText code=\"STATUT_MT\" codeSystem=\"1.2.250.1.213.4.1.2.6.3\"/\u003e\u003cvalue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" value=\"false\" xsi:type=\"BL\"/\u003e\u003c/attentionLine\u003e\u003cacknowledgement typeCode=\"AA\"\u003e\u003ctargetMessage\u003e\u003cid extension=\"11a12948-8a2d-478a-828a-46daea093cd5\" root=\"1.2.250.1.287.1.1234567.10\"/\u003e\u003c/targetMessage\u003e\u003c/acknowledgement\u003e\u003ccontrolActProcess classCode=\"CACT\" moodCode=\"EVN\"\u003e\u003creasonCode code=\"TEST_EXST\" codeSystem=\"1.2.250.1.213.1.1.4.11\" displayName=\"Test d'existence de dossier\"/\u003e\u003csubject contextConductionInd=\"false\" typeCode=\"SUBJ\"\u003e\u003cregistrationEvent classCode=\"REG\" moodCode=\"EVN\"\u003e\u003cstatusCode code=\"completed\"/\u003e\u003csubject1 typeCode=\"SBJ\"\u003e\u003cpatient classCode=\"PAT\"\u003e\u003cid extension=\"1418878867934420256667\" root=\"1.2.250.1.213.1.4.2\"/\u003e\u003cid extension=\"157069329642881\" root=\"1.2.250.1.213.1.4.10\"/\u003e\u003cstatusCode code=\"active\"/\u003e\u003cpatientPerson classCode=\"PSN\" determinerCode=\"INSTANCE\"\u003e\u003cname\u003e\u003cprefix\u003eMme\u003c/prefix\u003e\u003cgiven\u003eIRENE\u003c/given\u003e\u003cfamily qualifier=\"BR\"\u003eDECHAINE\u003c/family\u003e\u003cfamily qualifier=\"SP\"\u003eENCHAINE\u003c/family\u003e\u003c/name\u003e\u003cadministrativeGenderCode code=\"F\"/\u003e\u003cbirthTime value=\"19570628\"/\u003e\u003c/patientPerson\u003e\u003csubjectOf typeCode=\"SBJ\"\u003e\u003cadministrativeObservation classCode=\"OBS\" moodCode=\"EVN\"\u003e\u003ccode code=\"RATTACHEMENT_ENS\" codeSystem=\"1.2.250.1.213.4.1.2.3\" displayName=\"information de rattachement du DMP à un ENS\"/\u003e\u003cvalue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" value=\"false\" xsi:type=\"BL\"/\u003e\u003c/administrativeObservation\u003e\u003c/subjectOf\u003e\u003csubjectOf typeCode=\"SBJ\"\u003e\u003cadministrativeObservation classCode=\"OBS\" moodCode=\"EVN\"\u003e\u003ccode code=\"COMPTE_INTERNET_OUVERT\" codeSystem=\"1.2.250.1.213.4.1.2.9\"/\u003e\u003cvalue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" value=\"false\" xsi:type=\"BL\"/\u003e\u003c/administrativeObservation\u003e\u003c/subjectOf\u003e\u003c/patient\u003e\u003c/subject1\u003e\u003ccustodian typeCode=\"CST\"\u003e\u003cassignedEntity classCode=\"ASSIGNED\"\u003e\u003cid root=\"1.2.250.1.213.4.1.1.1\"/\u003e\u003c/assignedEntity\u003e\u003c/custodian\u003e\u003c/registrationEvent\u003e\u003c/subject\u003e\u003cqueryAck\u003e\u003cqueryId extension=\"2f2b5d56-2bf2-42f0-b186-60076dfc3602\" root=\"1.2.250.1.287.1.1234567.11\"/\u003e\u003cqueryResponseCode code=\"OK\"/\u003e\u003c/queryAck\u003e\u003c/controlActProcess\u003e\u003c/PRPA_IN201308UV02\u003e\u003c/soap:Body\u003e\u003c/soap:Envelope\u003e Et bien sur ce qui nous intérresse c’est le payload xml, que l’on mettera dans REPONSE_DMP.xml\nAttention toute fois pour l’allimentation il faut prendre toutes les multiparts du message, c’est à dire : la requête SOAP, le document CDA, ainsi que la signature. Exemple : REQUETE_LPS\n","categories":"","description":"Gestion des traces dans la DevBox-santé DMP\n","excerpt":"Gestion des traces dans la DevBox-santé DMP\n","ref":"/5.x/dmp/howtos/logs/","tags":"","title":"Interpreter les logs"},{"body":"Version - 1.1.6 (08/12/2025) Story [ANNU-41] [PRO] Ajouter les savoirs faire depuis l’extraction PS_LibreAcces_SavoirFaire\nBug [ANNU-43] [Finess] recherche par SIRET ou SIREN\nVersion - 1.1.5 (31/07/2025) Story [ANNU-40] [PRO] Pouvoir rechercher sur plusieurs professions\nVersion - 1.1.4 (10/11/2023) Story [ANNU-37] [MsSanté] Créer un annuaire spécifique pour les adresses MsSanté pour remplacer le ldap fournit par Mailiz\n[ANNU-36] [Nomenclature] Changement de nom pour la nomenclature des communes\nVersion - 1.1.3 (30/10/2023) Story [ANNU-35] [Générique/ DCI] récupérer les informations de la banque publique du médicament.\n[ANNU-34] [ALL] Ajouter le libellé court dans les code NOS\nVersion - 1.1.2 (22/09/2023) Story [ANNU-32] [PROFESSIONNEL] Recherche par adresse MsSante.\n[ANNU-31] [FINESS] Pouvoir rechercher sur une liste de catégories\n[ANNU-34] [ALL] Ajouter le libellé court dans les codes NOS\nBug [ANNU-29] [PROFESSIONNEL] Le code de télécommunication n’est pas correct\nVersion - 1.1.1 (01/06/2023) Bug Problème de recherche sur des champs contenant des nombres\n[ANNU-30] [FINESS] Les documents n’ont pas le bon encoding\nVersion - 1.1.0 (27/03/2023) Story [ANNU-25] [PROFESSIONNEL] Rechercher sur une liste de savoir-faire\n[ANNU-24] [PROFESSIONNEL] Rechercher par département\n[ANNU-16] [NOMENCLATURE] Intégrer la nomenclature CIP\nVersion - 1.0.2 (14/12/2022) Story [ANNU-16] [NOMENCLATURE] Intégrer la nomenclature CIS\nVersion - 1.0.1 (12/12/2022) Bug [ANNU-22] [PROFESSIONNEL] Le recherche par siret ne fonctionne pas sur les pro\nStory [ANNU-12] [PROFESSIONNEL] Raison sociale site manquante\nVersion - 1.0.0 (18/12/2020) ","categories":"","description":"Note sur les différentes versions de l'annuaire DevBox-Santé\n","excerpt":"Note sur les différentes versions de l'annuaire DevBox-Santé\n","ref":"/annuaire/versions/","tags":"","title":"Versions"},{"body":"","categories":"","description":"","excerpt":"","ref":"/blog/articles/","tags":"","title":"Articles"},{"body":"","categories":"","description":"","excerpt":"","ref":"/6.x/plateformes/pfi/howtos/","tags":"","title":"Howtos"},{"body":"La Devbox-Santé MSS est une API Java ou une facade REST permettant d’accéder et de respecter les différents référentiels MSSanté de manière transparente.\nL’API public l’API est hébergée sur bitbucket : https://bitbucket.org/devbox-sante/devbox-sante-apis/src/master/ ms-sante-api\nCette API définie les services disponibles et le modèle d’objet.\nUtilisation Deux modes d’intégration sont proposées :\nEmbarqué : Intégration directe de l’API avec son implémentation dans un projet java spring-boot. REST : Déploiement d’une application spring-boot (jar exécutable intégrant un serveur Tomcat) offrant ces mêmes services en REST. Différents référentiels intégrés Pour pouvoir utiliser le connecteur MS-Santé, il faut au préalable créer un compte selon l’opérateur choisi:\nOpérateur compatible avec le nouveau référentiel socle MSSanté #2 Mailiz avec les API V1.3 soap : https://mailiz.mssante.fr/ Apicrypt (en cours de développement): https://www.apicrypt.org/inscription Voici la liste des opérateurs référencés par le SEGUR https://esante.gouv.fr/segur/solutions-referencees?search_api_fulltext=\u0026field_categorie=853\u0026field_type_logiciel=All\nNouveau référentiel socle MS-Sante #2 La nouvelle version v2 respecte le nouveau référentiel : https://esante.gouv.fr/espace_documentation/mssante-clients-de-messageries-securisees-de-sante/referentiel-socle-mssante-2 Ancien référentiel compatible avec Mailiz La documentation officielle est disponible sur https://mailiz.mssante.fr/is/doc-technique\n","categories":"","description":"Intégrer les différentes Messageries Sécurisées de Santé\n","excerpt":"Intégrer les différentes Messageries Sécurisées de Santé\n","ref":"/6.x/connecteurs/ms-sante/","tags":"","title":"DevBox-Santé MSS"},{"body":"Il est possible dans le DMP de soumettre une multitude de type de document structurés dans le format CDA. Ces documents sont spécifiés dans l’Espace de publication du Cadre d’Interopérabilité des Systèmes d’Information de Santé\nGlossaire CDA : Clinical Document Architecture ","categories":"","description":"Les différents formats CDA supportés\n","excerpt":"Les différents formats CDA supportés\n","ref":"/5.x/dmp/cda/","tags":"","title":"Structuration des documents"},{"body":"Il est possible dans le DMP de soumettre une multitude de type de document structurés dans le format CDA. Ces documents sont spécifiés dans l’Espace de publication du Cadre d’Interopérabilité des Systèmes d’Information de Santé\nGlossaire CDA : Clinical Document Architecture ","categories":"","description":"Les différents formats CDA supportés\n","excerpt":"Les différents formats CDA supportés\n","ref":"/6.x/connecteurs/dmp/cda/","tags":"","title":"Structuration des documents"},{"body":"configuration commune Annuaire Mailiz formation devbox-sante: ms-sante: annuaire: ldapHost: partenaires.annuaire.sante.fr ldapPort: 389 Tous opérateurs production devbox-sante: ms-sante: annuaire: ldapHost: annuaire.sante.fr ldapPort: 389 Annuaire DevBox-Santé Vous pouvez également “plugger” l’annuaire de la DevBox-santé en remplacement de l’annuaire LDAP.\ndevbox-sante: ms-sante: annuaire: devbox: url: https://annuaire-demo.devbox-sante.fr username: USERNAME password: PASSWORD ","categories":"","description":"Configuration selon les opérateurs\n","excerpt":"Configuration selon les opérateurs\n","ref":"/5.x/ms-sante/configuration/","tags":"","title":"Configuration selon les opérateurs"},{"body":"configuration commune Annuaire Mailiz formation devbox-sante: ms-sante: annuaire: ldapHost: partenaires.annuaire.sante.fr ldapPort: 389 Tous opérateurs production devbox-sante: ms-sante: annuaire: ldapHost: annuaire.sante.fr ldapPort: 389 Annuaire DevBox-Santé Vous pouvez également “plugger” l’annuaire de la DevBox-santé en remplacement de l’annuaire LDAP.\ndevbox-sante: ms-sante: annuaire: devbox: url: https://annuaire-demo.devbox-sante.fr username: USERNAME password: PASSWORD ","categories":"","description":"Configuration selon les opérateurs\n","excerpt":"Configuration selon les opérateurs\n","ref":"/6.x/connecteurs/ms-sante/configuration/","tags":"","title":"Configuration selon les opérateurs"},{"body":"OLAQIN TAAS (Terminal As A Service) est une technologie développée par la société OLAQIN qui permet aux APIs de la DevBox-Santé DMP d’accéder à des terminaux OLAQIN via le réseau Internet.\nLes terminaux OLAQIN compatibles avec la technologie OLAQIN TAAS fournit des accès aux cartes Vitale et CPS au travers d’API.\nPour l’accès aux cartes Vitale, Olaqin s’appuie sur son homologation « Lecture Vitale » (via l’option API). Pour l’accès aux cartes des Professionnels de Santé, Olaqin s’appuie sur les développements réalisés dans le cadre de son homologation « Dispositif Intégré ».\nIntégration dans la DevBox-santé Vous pouvez donc installer votre solution DevBox-santé DMP dans votre environnement serveur HDS et utiliser les terminaux Olaqin.\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Environnement Utilisateur\" { package \"Poste client / mobile\" { [FrontEnd intégrateur] as frontend } [Lecteur Neo] as lecteur } node \"Environnement intégrateur HDS\" { [BackEnd intégrateur] as backend package \"DevBox-Santé Proxy REST\" DEVBOX_COLOR { component \"DevBox-sante DMP\" as dmpFacade #35D9C0 { [DevBox-sante CPS security Stellair] as cpsStellair #D34A3C } } } cloud \"**Stellair** API\" as stellair cloud \"**DMP**\" as DMP frontend -up-\u003e backend : REST backend -\u003e dmpFacade : REST cpsStellair -\u003e stellair: REST stellair \u003c-\u003e lecteur : Demande d'autorisation d'accès aux cartes via le SSO Stellair dmpFacade -\u003e DMP : SOAP Diagramme de séquences !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 box \"Environnement utilisateur\" participant \"Poste client\" as frontend participant \"Lecteur Neo\" as lecteur end box box \"Environnement intégrateur\" #white participant backend participant \"DevBox-Santé DMP\" as dbxdmp DMP_COLOR end box participant \"**DMP**\" as dmp participant \"**Stellair**\" as stellair frontend -\u003e backend : storeDocumentPatient backend -\u003e dbxdmp : /dmp/td21SubmitDocuments == initialisation d'une connexion SSL en authentification mutuelle avec le DMP == dbxdmp -\u003e \"DMP\" as dmp : [SSL] 1. Client Hello dmp -\u003e dbxdmp : [SSL] 2. Server Hello (certificat du DMP server inclus) dmp -\u003e dbxdmp : [SSL] 3. Client certificate request dbxdmp -\u003e stellair : HTTP GET /cps/certificate/auth ... stellair \u003c-\u003e lecteur ... stellair -\u003e dbxdmp : {certificate authentification} dbxdmp -\u003e dmp : [SSL] 4. Client certificate dbxdmp -\u003e dmp : [SSL] 5. Client sends key info \\n(encrypted with DMP server public's key) dbxdmp -\u003e stellair : HTTP POST /cps/certificate/auth body : {handshake data} ... stellair \u003c-\u003e lecteur ... stellair -\u003e dbxdmp : {signed handshake data} dbxdmp -\u003e dmp : [SSL] 6. Certificate verify \\n (with Digital Signature) dbxdmp -\u003e dmp : [SSL] 7. Finnished message \\n (encrypted with symmetric key) dmp -\u003e dbxdmp : [SSL] 8. Finnished message \\n (encrypted with symmetric key) == fin de l'initialisation de la connexion ssl avec le DMP == dbxdmp -\u003e dmp : POST SOAP message de soumission (XDS/CDA) dmp -\u003e dbxdmp : SOAP response OK dbxdmp -\u003e backend : HTTP 200 Ok backend -\u003e frontend : ok ","categories":"","description":"Un autre moyen d'authentification OLAQIN TAAS (Terminal As A Service) via les APIs des serveurs HDS Stellair\n","excerpt":"Un autre moyen d'authentification OLAQIN TAAS (Terminal As A Service) …","ref":"/5.x/dmp/authentifications/olaqin_taas/","tags":"","title":"Authentification Directe via OLAQIN TAAS (Terminal As A Service)"},{"body":"Afin de gérer les déploiements de la DevBox-Santé dans des environnements type Windows RDP (Remote Desktop Protocol) / Citrix, nous avons créé le projet Eureka. Eureka est l’annuaire des devbox-santé branchés sur les différents lecteurs de carte PC/SC:\nDans notre post du 20 septembre 2021, nous expliquions qu’il était difficile de faire le lien entre un partage de port USB (spécifique à chaque session utilisateur RDP) et un partage de port HTTP.\nChaque session utilisateur devait être associé à une DevBox-Santé sur un port http spécifique.\nEureka service C’est pourquoi un service dédié, nommé Eureka peut être lancé sur le serveur RDP. Ce service Eureka joue le rôle d’annuaire des différentes sessions utilisateurs devbox-santé :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Serveur RDP\" { package \"Eureka\" as eureka { [DevBox-Santé1:9999] as devbox1 DEVBOX_COLOR [DevBox-Santé2:9998] as devbox2 DEVBOX_COLOR } } node \"Poste utilisateur 1\" { [Application Intégrateur Front/Lourd] as int1 [Lecteur USB / Utilisateur 1] as usb1 } node \"Poste utilisateur 2\" { [Application Intégrateur Front/Lourd] as int2 [Lecteur USB / Utilisateur 2] as usb2 } int1 --\u003e eureka devbox1 -- usb1 : mapping port USB int2 --\u003e eureka devbox2 -- usb2 : mapping port USB Ce service Windows est lancé au démarrage de serveur RDP et attend que les devbox-santé à leur démarrage s’enregistrent auprès de lui:\nAinsi, il suffit à l’application intégrateur de faire un appel à eureka pour connaître le numéro de port http d’écoute qui lui est spécifique.\nDiagrammes de séquence Du point de vue de l’intégrateur\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 hide footbox actor Utilisateur1 box \"Serveur RDP\" participant Eureka end box box \"Session utilisateur 1\" participant \"DBX:8081\" as DBX_8081 DEVBOX_COLOR participant \"Application Intégrateur\" as AppInt1 participant \"Application Web Intégrateur (front)\" as WebApp1 end box == Cas 1 : client lourd == ... group Démarrage application intégrateur (cas du client lourd) Utilisateur1 -\u003e AppInt1: Démarre l'applicationIntégrateur activate AppInt1 AppInt1 -\u003e AppInt1 : Appel système pour récupérer utilisateur windows AppInt1 -\u003e Eureka : GET /user/Utilisateur1 Eureka -\u003e AppInt1 : {user: Utilisateur1, port: 8081} AppInt1 -\u003e DBX_8081 : GET localhost:8081/cps/readCps... deactivate AppInt1 end ... == Cas 2 : client web == group Démarrage application intégrateur (cas de l'application web) Utilisateur1 -\u003e WebApp1 : Accède depuis un navigateur http://superapp.integrateur activate WebApp1 note over WebApp1 : Il n'est pas possible depuis un contexte web \\nde récupérer le username windows WebApp1 -\u003e DBX_8081 : Lance une DevBox-sante par l'url devbox-sante://config?sessionId:12345 WebApp1 -\u003e Eureka : GET /user/12345 Eureka -\u003e WebApp1 : {user: Utilisateur1, sessionId: 12345, port: 8081} WebApp1 -\u003e DBX_8081 : GET localhost:8081/cps/readCps... end ... Ces diagrammes paraissent un peu magiques pour l’intégrateur. C’est pourquoi, voici un diagramme de séquence détaillant ce qui se passe dans les coulisses de la DevBox-santé, afin de faire le lien entre Utilisateur windows, session web utilisateur et port http des DevBox-Santé :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 hide footbox actor Utilisateur1 box \"Serveur RDP\" participant ServeurRDP participant Eureka end box box \"Session utilisateur 1\" participant SessionRDP1 participant \"DBX:8081\" as DBX_8081 DEVBOX_COLOR participant \"Application Intégrateur\" as AppInt1 participant \"WebApp Intégrateur\\n(front)\" as WebApp1 participant \"Devbox temporaire\" as DBX_TMP DEVBOX_COLOR end box == Démarrage serveur RDP == ServeurRDP -\u003e Eureka : Démarrage service\\nEureka ... == Connexion utilisateur == Utilisateur1 -\u003e SessionRDP1 : Se connecte activate SessionRDP1 ServeurRDP \u003c- SessionRDP1 : Démarre une nouvelle session SessionRDP1 \u003c-\u003e ServeurRDP : Mapping port USB SessionRDP1 -\u003e DBX_8081 : Démarrage automatique\\nd'une instance DevBox-Santé\\n(port 8081 par exemple) activate DBX_8081 DBX_8081 -\u003e ServeurRDP : accés au port USB (pour lectures cartes) DBX_8081 -\u003e Eureka : POST {user: Utilisateur1, port:8081} ... group Démarrage application intégrateur (cas du client lourd) Utilisateur1 -\u003e AppInt1: Démarre l'applicationIntégrateur activate AppInt1 AppInt1 -\u003e Eureka : GET /user/Utilisateur1 Eureka -\u003e AppInt1 : {user: Utilisateur1, port: 8081} AppInt1 -\u003e DBX_8081 : GET localhost:8081/cps/readCps... deactivate AppInt1 end ... group Démarrage application intégrateur (cas de l'application web) Utilisateur1 -\u003e WebApp1 : Accède depuis un navigateur http://superapp.integrateur activate WebApp1 WebApp1 -\u003e DBX_TMP : devbox-sante://config?sessionId:12345 activate DBX_TMP DBX_TMP -\u003e DBX_8081 : healthcheck (is alive ?) DBX_8081 -\u003e DBX_TMP : 200 OK DBX_TMP -\u003e Eureka : POST {user: Utilisateur1, sessionId : 12345, port: 8081} deactivate DBX_TMP WebApp1 -\u003e Eureka : GET /user/12345 Eureka -\u003e WebApp1 : {user: Utilisateur1, sessionId: 12345, port: 8081} WebApp1 -\u003e DBX_8081 : GET localhost:8081/cps/readCps... end ... ","categories":"","description":"Environnement Citrix / Windows RDP - Eureka à la rescousse\n","excerpt":"Environnement Citrix / Windows RDP - Eureka à la rescousse\n","ref":"/5.x/installer/poste_client/eureka/","tags":"","title":"Eureka"},{"body":"Monitoring Il est possible d’accéder aux différentes metrics de la JVM installé avec le endpoint /actuator/metrics. Pour plus d’informations : https://docs.spring.io/spring-boot/api/rest/actuator/metrics.html\nExemple :\n$ curl 'http://localhost:8080/actuator/metrics/jvm.memory.max' -i -X GET Gérer la mémoire de l’image La mémoire par défaut défini par docker pour un container peut ne pas être suffisante. Il suffit de demander à Docker un peu plus de ressource pour le container .\nComme par exemple 1 giga de RAM avec sa configuration de la HEAP Java :\ndocker run -m1g -e 'JAVA_OPTS=-Xms728M -Xmx856M' ... Plus d’information sur la documentation Docker : https://docs.docker.com/config/containers/resource_constraints/\nLa mémoire en usage normal de la DevBox-Santé doit osciller entre 400 et 700 Mo.\nRecréer une image Vous pouvez même recréer une image en déposant votre configuration et autres certificats. Comme par exemple pour remplacer le fichier application.yml fourni par défaut :\nFROM devboxsante/devbox:version WORKDIR /workspace EXPOSE 8080 COPY application-clientname.yml application.yml Mettre l’image en debug SSL Pour activer les debug SSL du handshake parfois nécessaire pour diagnostiquer un problème d’authentification via certificats :\ndocker run --env=JAVA_OPTS=-Djavax.net.debug=ssl,handshake ... Gérer la taille des logs Pour maîtriser la taille des logs, vous pouvez lancer votre conteneur en configurant la gestion des logs :\n--log-driver=json-file \\ --log-opt max-size=5m \\ --log-opt max-file=2 \\ Pour plus d’information https://docs.docker.com/engine/logging/configure/\nConnaitre les informations de version de la DevBox-Santé sans lire les logs curl http://localhost:8080/actuator/info Connaître les metrics de spring-boot actuator curl http://localhost:8080/actuator/metrics/jvm.memory.max ","categories":"","description":"Howtos liés aux installations Docker\n","excerpt":"Howtos liés aux installations Docker\n","ref":"/6.x/installation/docker/howtos/","tags":"","title":"Howtos"},{"body":"Obtenir les logs Les logs sont générés dans un fichier output.log dans le cas d’un installer ou directement dans la console pour une instance docker.\nPour s’assurer que les traces SOAP soient bien générés dans les traces, il faut que la configuration des logs de org.apache.cxf.services :\nsoit à un niveau info dans les versions jusqu’à 5.0 soit à un niveau debug dans les versions postérieures (à partir de la 5.1) Pour forcer un niveau de log : /6.x/connecteurs/dmp/configuration/#logging\nInterpréter les logs Dans la totalité des tests il vous sera demandé de fournir “les requête/réponse de l’appel au service\nUne fois lancée dans le fichier output.log ou dans la console de l’instance docker:\n____ ____ _ | _ \\ _____ _| __ ) _____ __ ___ __ _ _ __ | |_ ___ | | | |/ _ \\ \\ / / _ \\ / _ \\ \\/ /____/ __|/ _` | '_ \\| __/ _ \\ | |_| | __/\\ V /| |_) | (_) \u003e \u003c_____\\__ \\ (_| | | | | || __/ |____/ \\___| \\_/ |____/ \\___/_/\\_\\ |___/\\__,_|_| |_|\\__\\___| 2022-09-16 09:32:25.747 INFO 38652 --- [ main] f.devboxsante.clients.DevboxSanteServer : Starting DevboxSanteServer v2.18.0 on lfo-xps15-2 with PID 38652 (C:\\Program Files\\DevBoxSante\\repository\\devboxsante.jar started by lfo in C:\\Program Files\\DevBoxSante) 2022-09-16 09:32:25.750 DEBUG 38652 --- [ main] f.devboxsante.clients.DevboxSanteServer : Running with Spring Boot v2.3.4.RELEASE, Spring v5.2.9.RELEASE 2022-09-16 09:32:25.750 INFO 38652 --- [ main] f.devboxsante.clients.DevboxSanteServer : The following profiles are active: SWAGGER_INSTALLER,CNDA_WEB 2022-09-16 09:32:29.231 INFO 38652 --- [ main] o.o.core.config.InitializationService : Initializing OpenSAML using the Java Services API 2022-09-16 09:32:29.763 INFO 38652 --- [ main] o.o.xmlsec.algorithm.AlgorithmRegistry : Algorithm failed runtime support check, will not be usable: http://www.w3.org/2001/04/xmlenc#ripemd160 2022-09-16 09:32:29.768 INFO 38652 --- [ main] o.o.xmlsec.algorithm.AlgorithmRegistry : Algorithm failed runtime support check, will not be usable: http://www.w3.org/2001/04/xmldsig-more#hmac-ripemd160 2022-09-16 09:32:29.776 INFO 38652 --- [ main] o.o.xmlsec.algorithm.AlgorithmRegistry : Algorithm failed runtime support check, will not be usable: http://www.w3.org/2001/04/xmldsig-more#rsa-ripemd160 2022-09-16 09:32:30.331 INFO 38652 --- [ main] f.d.c.c.AlternativePortsConfiguration : Try to start on port 9999 2022-09-16 09:32:30.712 INFO 38652 --- [ main] f.d.c.configuration.CookieConfiguration : Cookie same-site: Lax 2022-09-16 09:32:30.714 INFO 38652 --- [ main] o.s.b.w.embedded.tomcat.TomcatWebServer : Tomcat initialized with port(s): 9999 (http) 2022-09-16 09:32:30.723 INFO 38652 --- [ main] o.apache.catalina.core.StandardService : Starting service [Tomcat] 2022-09-16 09:32:30.723 INFO 38652 --- [ main] org.apache.catalina.core.StandardEngine : Starting Servlet engine: [Apache Tomcat/9.0.38] 2022-09-16 09:32:30.783 INFO 38652 --- [ main] o.a.c.c.C.[Tomcat].[localhost].[/] : Initializing Spring embedded WebApplicationContext 2022-09-16 09:32:30.783 INFO 38652 --- [ main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4968 ms 2022-09-16 09:32:31.345 INFO 38652 --- [ main] f.d.c.configuration.LMConfiguration : installer.token: 50587132-ac43-4f41-b1e0-1d82c61b1d34 2022-09-16 09:32:31.346 INFO 38652 --- [ main] f.d.c.configuration.LMConfiguration : installer.env: DEV 2022-09-16 09:32:31.346 INFO 38652 --- [ main] f.d.c.configuration.LMConfiguration : installer.client: devcoop 2022-09-16 09:32:31.347 INFO 38652 --- [ main] f.d.c.configuration.LMConfiguration : installer.backendUrl: https://clients.devbox-sante.fr 2022-09-16 09:32:31.347 INFO 38652 --- [ main] f.d.c.configuration.LMConfiguration : installer.version: 2.18.0 Vous pourrez trouver les requêtes sortantes en cherchant le mot REQ_OUT : 2022-09-16 14:21:42.982 INFO 33980 --- [ main] o.a.cxf.services.GDP_PortType.REQ_OUT : REQ_OUT Address: https://devh.lps2.dmp.gouv.fr/si-dmp-server/v2/services/patients HttpMethod: POST Content-Type: application/soap+xml; action=\"urn:hl7-org:v3:PRPA_IN201307UV02\" ExchangeId: 37018935-b110-4782-a191-d6a5ffc84d94 ServiceName: GDPPortTypeService PortName: GDP_PortTypePort PortTypeName: GDP_PortType Headers: {Accept=*/*} Payload: \u003csoap:Envelope xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\"\u003e\u003csoap:Header\u003e\u003cAction xmlns=\"http://www.w3.org/2005/08/addressing\"\u003eurn:hl7-org:v3:PRPA_IN201307UV02\u003c/Action\u003e\u003cMessageID xmlns=\"http://www.w3.org/2005/08/addressing\"\u003eurn:uuid:c6de458d-4527-4959-a9c6-0e913af58247\u003c/MessageID\u003e\u003cTo xmlns=\"http://www.w3.org/2005/08/addressing\"\u003ehttps://devh.lps2.dmp.gouv.fr/si-dmp-server/v2/services/patients\u003c/To\u003e\u003cReplyTo xmlns=\"http://www.w3.org/2005/08/addressing\"\u003e\u003cAddress\u003ehttp://www.w3.org/2005/08/addressing/anonymous\u003c/Address\u003e\u003c/ReplyTo\u003e\u003cwsse:Security xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\"\u003e\u003csaml2:Assertion xmlns:saml2=\"urn:oasis:names:tc:SAML:2.0:assertion\" ID=\"3dea0f38-739b-423f-9315-3777253e3d95\" IssueInstant=\"2022-09-16T12:21:41.838Z\" Version=\"2.0\"\u003e\u003csaml2:Issuer Format=\"urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName\"\u003eGIVENNAME=ANNE + CN=899700296140 + SURNAME=MED-CS RPPS0029614, T=Médecin, C=FR\u003c/saml2:Issuer\u003e\u003cds:Signature xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\"\u003e \u003cds:SignedInfo\u003e \u003cds:CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"/\u003e \u003cds:SignatureMethod Algorithm=\"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\"/\u003e \u003cds:Reference URI=\"#3dea0f38-739b-423f-9315-3777253e3d95\"\u003e \u003cds:Transforms\u003e \u003cds:Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"/\u003e \u003cds:Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"/\u003e \u003c/ds:Transforms\u003e \u003cds:DigestMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#sha256\"/\u003e \u003cds:DigestValue\u003eFgEbwW0Xzd+HGhjhxZfszDZm2IFwTXlU084oqJFbsfY=\u003c/ds:DigestValue\u003e \u003c/ds:Reference\u003e \u003c/ds:SignedInfo\u003e \u003cds:SignatureValue\u003e cdb+3r9tpg4piUZ4reEJyAfq3EZeQwI7AvDRJAE447I7hjCjGEWPKBfPCdfwkIyU4bH8UadmxnjL\u0026#xd; olMAZGEqgcUSs8+CW/wzsEbmRtGeAvKKhzlacm8Kl7U047hj+hjviwSDZhImSS9rZyeyjV4JcubR\u0026#xd; 0pbA+0wkvPQ1x1PT38tVEMXt965YV/ornj4TuGejcPx9WkX7VsrgjJFcH9r3oGVCIS10dC5l/PI1\u0026#xd; 8Cq1WEL1lx3ton4VgZCxkY7MAQAWGos08XzsV8pnc+GuA+H7+SBIqlBLfpt2z93Ru+HVoTu6ATMG\u0026#xd; JjutwVGcJ3pnLGgofm26I6WvJSouimLUSCUwSA== \u003c/ds:SignatureValue\u003e \u003cds:KeyInfo\u003e\u003cds:X509Data\u003e\u003cds:X509Certificate\u003eMIIIkjCCBnqgAwIBAgIQY9r/z8gDS9wvB2ErFSZ7ojANBgkqhkiG9w0BAQsFADB/MQswCQYDVQQG EwJGUjETMBEGA1UECgwKQVNJUC1TQU5URTEXMBUGA1UECwwOMDAwMiAxODc1MTI3NTExFzAVBgNV BAsMDklHQy1TQU5URSBURVNUMSkwJwYDVQQDDCBURVNUIEFDIElHQy1TQU5URSBGT1JUIFBFUlNP Tk5FUzAeFw0yMDEyMTUxMzA4MzFaFw0yMzEyMTUxMzA4MzFaMF8xCzAJBgNVBAYTAkZSMREwDwYD VQQMDAhNw6lkZWNpbjE9MAsGA1UEKgwEQU5ORTATBgNVBAMMDDg5OTcwMDI5NjE0MDAZBgNVBAQM Ek1FRC1DUyBSUFBTMDAyOTYxNDCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALI4qUzO XnPZTYXyNvNP0mHQyBxNAzT0vqHwduBDeEF+uvQZAHXn82bQMBD30dvVfsy8EY9LYIxgA11QKf9a 0xd9GD7pgi8DtmGF4Lcd7ZEE0MWnW9NjCCeOO1STwT6+aarE3OHXApy3J/0AIFb3ZGyFNr0cGu15 L3v56aB4TJ0m6Agn7h3KD9VjWoCGbsu7/BHDYqgF3/PG7fai4zF0hBX+5VeToa6EZUnUNOgRyaJF 1rRI261fkyw09B7gNF2gHxpRxS9ryZ4n64WV5JU5q2UlHHkUgpXk8UdD0fKSE6Wu8k18/OHQd96t F6wrYtdmCxu6K7iWdOuGBMwwq/kie4kCAwEAAaOCBCgwggQkMAkGA1UdEwQCMAAwHQYDVR0OBBYE FFqE3AQVqvHlLHBxuclOPSJwlDleMB8GA1UdIwQYMBaAFDrx5/XO6+33jcnJsp/t1GUp3B/9MA4G A1UdDwEB/wQEAwIGQDBTBgNVHSAETDBKMEgGDSqBegGBVQEHAgEBAQEwNzA1BggrBgEFBQcCARYp aHR0cDovL2lnYy1zYW50ZS5lc2FudGUuZ291di5mci9QQyUyMFRFU1QwEwYDVR0lBAwwCgYIKwYB BQUHAwQwKwYDVR0QBCQwIoAPMjAyMDEyMTUxMzA4MzFagQ8yMDIzMTIxNTEzMDgzMVowggFABgNV HR8EggE3MIIBMzA8oDqgOIY2aHR0cDovL2lnYy1zYW50ZS5lc2FudGUuZ291di5mci9DUkwvQUNJ LUZPLVBQLVRFU1QuY3JsMIHyoIHvoIHshoHpbGRhcDovL2FubnVhaXJlLWlnYy5lc2FudGUuZ291 di5mci9jbj1URVNUJTIwQUMlMjBJR0MtU0FOVEUlMjBGT1JUJTIwUEVSU09OTkVTLG91PVRFU1Ql MjBBQyUyMFJBQ0lORSUyMElHQy1TQU5URSUyMEZPUlQsb3U9SUdDLVNBTlRFJTIwVEVTVCxvdT0w MDAyJTIwMTg3NTEyNzUxLG89QVNJUC1TQU5URSxjPUZSP2NlcnRpZmljYXRlcmV2b2NhdGlvbmxp c3Q7YmluYXJ5P2Jhc2U/b2JqZWN0Q2xhc3M9cGtpQ0EwgfoGA1UdLgSB8jCB7zCB7KCB6aCB5oaB 42xkYXA6Ly9hbm51YWlyZS1pZ2MuZXNhbnRlLmdvdXYuZnIvY249VEVTVCUyMEFDJTIwSUdDLVNB TlRFJTIwRk9SVCUyMFBFUlNPTk5FUyxvdT1URVNUJTIwQUMlMjBSQUNJTkUlMjBJR0MtU0FOVEUl MjBGT1JULG91PUlHQy1TQU5URSUyMFRFU1Qsb3U9MDAwMiUyMDE4NzUxMjc1MSxvPUFTSVAtU0FO VEUsYz1GUj9kZWx0YXJldm9jYXRpb25saXN0O2JpbmFyeT9iYXNlP29iamVjdENsYXNzPXBraUNB MIGABggrBgEFBQcBAQR0MHIwJgYIKwYBBQUHMAGGGmh0dHA6Ly9vY3NwLmVzYW50ZS5nb3V2LmZy MEgGCCsGAQUFBzAChjxodHRwOi8vaWdjLXNhbnRlLmVzYW50ZS5nb3V2LmZyL0FDJTIwVEVTVC9B Q0ktRk8tUFAtVEVTVC5jZXIwDwYIKoF6AUcBAgUEAwQBgDAPBggqgXoBRwECAgQDAgEAMCMGCCqB egFHAQIDBBcTFTgwMjUwMDAwMDEvMjgwMDgxMTExMjAPBggqgXoBRwECBwQDAgEKMBQGCCqBegFH BAIFBAgwBgwEU00yNjANBgkqhkiG9w0BAQsFAAOCAgEAjHlMgOOxa0WrBYYOu7QV1s73Cp+y2KYH elVvcZym8SM4qVFtbCuHljO3nFEYbEjMvs3aEtuTJ6vuEY4GkEg2fwcgbcIcwW4nXOV6YywyV0rB TBTW77GOsngHSpsMdtmBL41nr4WCtULCnQd0TGl3pEqRVuNpWt2WwReL6VGB+ZbCmRrTdkc3Ne/5 TR7hC6//ddvjjNIc1QCX3MU22d10ZsNnc9d5O3ZF9fenYlnCd2QLbWpSHJ7TCvAhNIF2S/EmLcWx o7NXoCW/Di7iOEYCM57mr79FuTyCUbUI0DDLz3lxJ+aHvyUAp/Tnzwd6NwO6HLgt7PTt2S/hX8ZM bS5UlQK3AoAr5++5Sb9QGEmopnVTz+YhCtJoyWtNudHtYUiS+1RrERALWC5++CaZDusOdxmAFRX8 84OQznWcxj5A1b1GOBF84yEXwxZgYKGBM9Iz8EmvpBHwVCj6VdjvVmeYJwiH+cjP1Q1N6aQlSEcR lHB6fvG7oSUZot3lcTldhHyxxhfR0+HEXYhG7/DYcsNymqwD4vDURUAwOvoOWzHPfs6r1fECw21T bP3Y2OtFuWfDXarPYW+3YMmMEJwboL+APfinsuS5tziDfoFKRMJf25o2SgNYOPNxnsTspW4P/x/2 Fdxj9tnROlPZfBxXLraunS7zw6uqjJS6iPHS80hoFHQ=\u003c/ds:X509Certificate\u003e\u003c/ds:X509Data\u003e\u003c/ds:KeyInfo\u003e\u003c/ds:Signature\u003e\u003csaml2:Subject\u003e\u003csaml2:NameID\u003e899700296140\u003c/saml2:NameID\u003e\u003c/saml2:Subject\u003e\u003csaml2:AuthnStatement AuthnInstant=\"2022-09-16T12:21:41.864Z\"\u003e\u003csaml2:AuthnContext\u003e\u003csaml2:AuthnContextClassRef\u003eurn:oasis:names:tc:SAML:2.0:ac:classes:SmartcardPKI\u003c/saml2:AuthnContextClassRef\u003e\u003c/saml2:AuthnContext\u003e\u003c/saml2:AuthnStatement\u003e\u003csaml2:AttributeStatement\u003e\u003csaml2:Attribute Name=\"Identifiant_Structure\"\u003e\u003csaml2:AttributeValue\u003e10B0156832\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"Secteur_Activite\"\u003e\u003csaml2:AttributeValue\u003eSA05^1.2.250.1.71.4.2.4\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"urn:oasis:names:tc:xacml:2.0:subject:role\"\u003e\u003csaml2:AttributeValue\u003e\u003cRole xmlns=\"urn:hl7-org:v3\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" code=\"10\" codeSystem=\"1.2.250.1.71.1.2.7\" displayName=\"Médecin\" xsi:type=\"CE\"/\u003e\u003c/saml2:AttributeValue\u003e\u003csaml2:AttributeValue\u003e\u003cRole xmlns=\"urn:hl7-org:v3\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" code=\"SM26\" codeSystem=\"1.2.250.1.71.4.2.5\" displayName=\"Qualifié en Médecine Générale (SM)\" xsi:type=\"CE\"/\u003e\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"VIHF_Version\"\u003e\u003csaml2:AttributeValue\u003e3.0\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"Authentification_mode\"\u003e\u003csaml2:AttributeValue\u003eDIRECTE\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"urn:oasis:names:tc:xacml:2.0:resource:resource-id\"\u003e\u003csaml2:AttributeValue\u003e157069329642881^^^\u0026amp;1.2.250.1.213.1.4.10\u0026amp;ISO^NH\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"Ressource_URN\"\u003e\u003csaml2:AttributeValue\u003eurn:dmp\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"urn:oasis:names:tc:xspa:1.0:subject:purposeofuse\"\u003e\u003csaml2:AttributeValue\u003e\u003cPurposeOfUse xmlns=\"urn:hl7-org:v3\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" code=\"normal\" codeSystem=\"1.2.250.1.213.1.1.4.248\" displayName=\"Accès normal\" xsi:type=\"CE\"/\u003e\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"LPS_ID\"\u003e\u003csaml2:AttributeValue\u003e1.2.250.1.287.1.1234567\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"LPS_Nom\"\u003e\u003csaml2:AttributeValue\u003eDEVBOX-SANTE DMP\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"LPS_Version\"\u003e\u003csaml2:AttributeValue\u003e5.0\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"LPS_ID_HOMOLOGATION_DMP\"\u003e\u003csaml2:AttributeValue\u003eDCP-537042-tmp8\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003c/saml2:AttributeStatement\u003e\u003c/saml2:Assertion\u003e\u003c/wsse:Security\u003e\u003c/soap:Header\u003e\u003csoap:Body\u003e\u003cPRPA_IN201307UV02 xmlns=\"urn:hl7-org:v3\" xmlns:ns2=\"asip:ci-sis:gdp:2010\" ITSVersion=\"XML_1.0\"\u003e\u003cid extension=\"11a12948-8a2d-478a-828a-46daea093cd5\" root=\"1.2.250.1.287.1.1234567.10\"/\u003e\u003ccreationTime value=\"20220916122141\"/\u003e\u003cinteractionId extension=\"PRPA_IN201307UV02\" root=\"2.16.840.1.113883.1.6\"/\u003e\u003cprocessingCode code=\"D\"/\u003e\u003cprocessingModeCode code=\"T\"/\u003e\u003cacceptAckCode code=\"AL\"/\u003e\u003creceiver typeCode=\"RCV\"\u003e\u003cdevice classCode=\"DEV\" determinerCode=\"INSTANCE\"\u003e\u003cid root=\"1.2.250.1.213.4.1.1.1\"/\u003e\u003csoftwareName\u003eDMP\u003c/softwareName\u003e\u003c/device\u003e\u003c/receiver\u003e\u003csender typeCode=\"SND\"\u003e\u003cdevice classCode=\"DEV\" determinerCode=\"INSTANCE\"\u003e\u003cid root=\"1.2.250.1.287.1.1234567\"/\u003e\u003csoftwareName\u003eDEVBOX-SANTE DMP\u003c/softwareName\u003e\u003c/device\u003e\u003c/sender\u003e\u003ccontrolActProcess classCode=\"CACT\" moodCode=\"EVN\"\u003e\u003creasonCode code=\"TEST_EXST\" codeSystem=\"1.2.250.1.213.1.1.4.11\" displayName=\"Test d'existence de dossier\"/\u003e\u003cqueryByParameter\u003e\u003cqueryId extension=\"2f2b5d56-2bf2-42f0-b186-60076dfc3602\" root=\"1.2.250.1.287.1.1234567.11\"/\u003e\u003cstatusCode code=\"new\"/\u003e\u003cparameterList\u003e\u003cpatientIdentifier\u003e\u003cvalue extension=\"157069329642881\" root=\"1.2.250.1.213.1.4.10\"/\u003e\u003csemanticsText\u003ePatient.id\u003c/semanticsText\u003e\u003c/patientIdentifier\u003e\u003c/parameterList\u003e\u003c/queryByParameter\u003e\u003c/controlActProcess\u003e\u003c/PRPA_IN201307UV02\u003e\u003c/soap:Body\u003e\u003c/soap:Envelope\u003e Ce qui intéresse le CNDA c’est le payload soap xml que l’on mettera dans REQUETE_LPS.xml\nPour la réponse RESP_IN : 2022-09-16 14:21:43.124 INFO 33980 --- [ main] o.a.cxf.services.GDP_PortType.RESP_IN : RESP_IN Address: https://devh.lps2.dmp.gouv.fr/si-dmp-server/v2/services/patients Content-Type: application/soap+xml;charset=UTF-8 ResponseCode: 200 ExchangeId: 37018935-b110-4782-a191-d6a5ffc84d94 ServiceName: GDPPortTypeService PortName: GDP_PortTypePort PortTypeName: GDP_PortType Headers: {vary=Origin, content-type=application/soap+xml;charset=UTF-8, Content-Length=3604, Date=Fri, 16 Sep 2022 12:21:43 GMT} Payload: \u003csoap:Envelope xmlns:ns1=\"urn:si-dmp-patients\" xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\"\u003e\u003csoap:Header\u003e\u003cAction xmlns=\"http://www.w3.org/2005/08/addressing\"\u003eurn:hl7-org:v3:PRPA_IN201308UV02\u003c/Action\u003e\u003cMessageID xmlns=\"http://www.w3.org/2005/08/addressing\"\u003eurn:uuid:388c97d8-280f-4c9e-b275-53026cd3256b\u003c/MessageID\u003e\u003cTo xmlns=\"http://www.w3.org/2005/08/addressing\"\u003ehttp://www.w3.org/2005/08/addressing/anonymous\u003c/To\u003e\u003cRelatesTo xmlns=\"http://www.w3.org/2005/08/addressing\"\u003eurn:uuid:c6de458d-4527-4959-a9c6-0e913af58247\u003c/RelatesTo\u003e\u003c/soap:Header\u003e\u003csoap:Body\u003e\u003cPRPA_IN201308UV02 xmlns=\"urn:hl7-org:v3\" xmlns:ns2=\"asip:ci-sis:gdp:2010\" ITSVersion=\"XML_1.0\"\u003e\u003cid root=\"93e46b54-3076-4d33-981f-131af01e8597\"/\u003e\u003ccreationTime value=\"20220916122143\"/\u003e\u003cinteractionId extension=\"PRPA_IN201308UV02\" root=\"2.16.840.1.113883.1.6\"/\u003e\u003cprocessingCode code=\"P\"/\u003e\u003cprocessingModeCode code=\"T\"/\u003e\u003cacceptAckCode code=\"NE\"/\u003e\u003creceiver typeCode=\"RCV\"\u003e\u003cdevice classCode=\"DEV\" determinerCode=\"INSTANCE\"\u003e\u003cid root=\"1.2.250.1.287.1.1234567\"/\u003e\u003csoftwareName\u003eDEVBOX-SANTE DMP\u003c/softwareName\u003e\u003c/device\u003e\u003c/receiver\u003e\u003csender typeCode=\"SND\"\u003e\u003cdevice classCode=\"DEV\" determinerCode=\"INSTANCE\"\u003e\u003cid root=\"1.2.250.1.213.4.1.1.1\"/\u003e\u003csoftwareName\u003eDMP\u003c/softwareName\u003e\u003c/device\u003e\u003c/sender\u003e\u003cattentionLine\u003e\u003ckeyWordText code=\"AUTORISATION\" codeSystem=\"1.2.250.1.213.4.1.2.6.1\"/\u003e\u003cvalue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" code=\"NON_EXISTE\" codeSystem=\"1.2.250.1.213.4.1.2.6.2\" xsi:type=\"CV\"/\u003e\u003c/attentionLine\u003e\u003cattentionLine\u003e\u003ckeyWordText code=\"STATUT_MT\" codeSystem=\"1.2.250.1.213.4.1.2.6.3\"/\u003e\u003cvalue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" value=\"false\" xsi:type=\"BL\"/\u003e\u003c/attentionLine\u003e\u003cacknowledgement typeCode=\"AA\"\u003e\u003ctargetMessage\u003e\u003cid extension=\"11a12948-8a2d-478a-828a-46daea093cd5\" root=\"1.2.250.1.287.1.1234567.10\"/\u003e\u003c/targetMessage\u003e\u003c/acknowledgement\u003e\u003ccontrolActProcess classCode=\"CACT\" moodCode=\"EVN\"\u003e\u003creasonCode code=\"TEST_EXST\" codeSystem=\"1.2.250.1.213.1.1.4.11\" displayName=\"Test d'existence de dossier\"/\u003e\u003csubject contextConductionInd=\"false\" typeCode=\"SUBJ\"\u003e\u003cregistrationEvent classCode=\"REG\" moodCode=\"EVN\"\u003e\u003cstatusCode code=\"completed\"/\u003e\u003csubject1 typeCode=\"SBJ\"\u003e\u003cpatient classCode=\"PAT\"\u003e\u003cid extension=\"1418878867934420256667\" root=\"1.2.250.1.213.1.4.2\"/\u003e\u003cid extension=\"157069329642881\" root=\"1.2.250.1.213.1.4.10\"/\u003e\u003cstatusCode code=\"active\"/\u003e\u003cpatientPerson classCode=\"PSN\" determinerCode=\"INSTANCE\"\u003e\u003cname\u003e\u003cprefix\u003eMme\u003c/prefix\u003e\u003cgiven\u003eIRENE\u003c/given\u003e\u003cfamily qualifier=\"BR\"\u003eDECHAINE\u003c/family\u003e\u003cfamily qualifier=\"SP\"\u003eENCHAINE\u003c/family\u003e\u003c/name\u003e\u003cadministrativeGenderCode code=\"F\"/\u003e\u003cbirthTime value=\"19570628\"/\u003e\u003c/patientPerson\u003e\u003csubjectOf typeCode=\"SBJ\"\u003e\u003cadministrativeObservation classCode=\"OBS\" moodCode=\"EVN\"\u003e\u003ccode code=\"RATTACHEMENT_ENS\" codeSystem=\"1.2.250.1.213.4.1.2.3\" displayName=\"information de rattachement du DMP à un ENS\"/\u003e\u003cvalue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" value=\"false\" xsi:type=\"BL\"/\u003e\u003c/administrativeObservation\u003e\u003c/subjectOf\u003e\u003csubjectOf typeCode=\"SBJ\"\u003e\u003cadministrativeObservation classCode=\"OBS\" moodCode=\"EVN\"\u003e\u003ccode code=\"COMPTE_INTERNET_OUVERT\" codeSystem=\"1.2.250.1.213.4.1.2.9\"/\u003e\u003cvalue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" value=\"false\" xsi:type=\"BL\"/\u003e\u003c/administrativeObservation\u003e\u003c/subjectOf\u003e\u003c/patient\u003e\u003c/subject1\u003e\u003ccustodian typeCode=\"CST\"\u003e\u003cassignedEntity classCode=\"ASSIGNED\"\u003e\u003cid root=\"1.2.250.1.213.4.1.1.1\"/\u003e\u003c/assignedEntity\u003e\u003c/custodian\u003e\u003c/registrationEvent\u003e\u003c/subject\u003e\u003cqueryAck\u003e\u003cqueryId extension=\"2f2b5d56-2bf2-42f0-b186-60076dfc3602\" root=\"1.2.250.1.287.1.1234567.11\"/\u003e\u003cqueryResponseCode code=\"OK\"/\u003e\u003c/queryAck\u003e\u003c/controlActProcess\u003e\u003c/PRPA_IN201308UV02\u003e\u003c/soap:Body\u003e\u003c/soap:Envelope\u003e Et bien sur ce qui nous intérresse c’est le payload xml, que l’on mettera dans REPONSE_DMP.xml\nAttention toute fois pour l’allimentation il faut prendre toutes les multiparts du message, c’est à dire : la requête SOAP, le document CDA, ainsi que la signature. Exemple : REQUETE_LPS\n","categories":"","description":"Gestion des traces dans la DevBox-santé DMP\n","excerpt":"Gestion des traces dans la DevBox-santé DMP\n","ref":"/6.x/connecteurs/dmp/howtos/logs/","tags":"","title":"Interpreter les logs"},{"body":"Environnements Mailiz Il faut configurer les points d’accès aux différents environnements de Mailiz.\nFormation devbox-sante: ms-sante: mailiz: servicesUrl: https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services authenticationServiceUrl: https://mss-idp-igcsante.formation.mssante.fr/openam/SSOSoap/metaAlias/asip/idp Production devbox-sante: ms-sante: mailiz: servicesUrl: https://mss-msg-igcsante.mssante.fr/mss-msg-services/services authenticationServiceUrl: https://mss-idp-igcsante.mssante.fr/openam/SSOSoap/metaAlias/asip/idp Authentification 2 modes d’authentification sont disponibles:\npar carte CPS (nécéssite l’installation du module cps de DevBox-Santé) : authentificationWithCps() login/motdepasse OTP, cette authentification s’effectue en 2 étapes : otpParameters = { otpCanalType: SMS | Mail, // canal pour recevoir l'otp otpCanalPwd: password, otpIdNat: idNat //(0+adeli ou 8+rpps) } AuthorizationContext context = authentificationWithOtpStep1(otpParameters); context = authentificationWithOtpStep2(context, otp) // dans le cas de service REST, le context est automatiquement géré dans la session, le service retourne alors la liste des emails de l'utilisateur Test sur environnement de formation Mailiz Créer un compte sur mailiz formation : https://mailiz.formation.mssante.fr/ Test accès messagerie https://webmail.formation.mssante.fr/#1 puis accès sur l’environnement de démo de la devbox-santé déployée sur le poste http://localhost:$PORT/ms-sante-front/login ","categories":"","description":"","excerpt":"Environnements Mailiz Il faut configurer les points d’accès aux …","ref":"/5.x/ms-sante/configuration/mailiz/","tags":"","title":"Mailiz"},{"body":"Environnements Mailiz Il faut configurer les points d’accès aux différents environnements de Mailiz.\nFormation devbox-sante: ms-sante: mailiz: servicesUrl: https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services authenticationServiceUrl: https://mss-idp-igcsante.formation.mssante.fr/openam/SSOSoap/metaAlias/asip/idp Production devbox-sante: ms-sante: mailiz: servicesUrl: https://mss-msg-igcsante.mssante.fr/mss-msg-services/services authenticationServiceUrl: https://mss-idp-igcsante.mssante.fr/openam/SSOSoap/metaAlias/asip/idp Authentification 2 modes d’authentification sont disponibles:\npar carte CPS (nécéssite l’installation du module cps de DevBox-Santé) : authentificationWithCps() login/motdepasse OTP, cette authentification s’effectue en 2 étapes : otpParameters = { otpCanalType: SMS | Mail, // canal pour recevoir l'otp otpCanalPwd: password, otpIdNat: idNat //(0+adeli ou 8+rpps) } AuthorizationContext context = authentificationWithOtpStep1(otpParameters); context = authentificationWithOtpStep2(context, otp) // dans le cas de service REST, le context est automatiquement géré dans la session, le service retourne alors la liste des emails de l'utilisateur Test sur environnement de formation Mailiz Créer un compte sur mailiz formation : https://mailiz.formation.mssante.fr/ Test accès messagerie https://webmail.formation.mssante.fr/#1 puis accès sur l’environnement de démo de la devbox-santé déployée sur le poste http://localhost:$PORT/ms-sante-front/login ","categories":"","description":"","excerpt":"Environnements Mailiz Il faut configurer les points d’accès aux …","ref":"/6.x/connecteurs/ms-sante/configuration/mailiz/","tags":"","title":"Mailiz"},{"body":"La façon la plus simple de tester et valider l’intégration du connecteur MSS est d’utiliser l’environnement de test de l’ANS: MOTCO2\nPré-requis: Disposer d’un certificat de test ICG Santé (pour la BAL applicative). Pour en savoir plus sur l’obtention des certificats, consultez cette documentation Avoir une carte CPS de test (pour la BAL organisationnelle ou personnelle) avec la mise en place de ProSantéConnect (PSC), cf Mise en place de ProSantéConnect Créer un compte iSC: https://isconnect.esante.gouv.fr/enrollement/user/start Installer sur votre smartphone l’application e-CPS (Bac à sable) pour l’authentification ProSanteConnect Télécharger sur Android Création de compte MOTCO2 Après avoir créé un compte sur MOTCO2 : https://tests-editeur.espacedeconfiance.mssante.fr/ il vous sera fourni 2 adresses mails vous seront fournies:\nune applicative basée sur votre identifiant national: \u003cid_national\u003e@mail-tests-editeur.espacedeconfiance.mssante.fr. Cette adresse correspond au champ “OU” de votre certificat ANS de test (exemple: subject=C = FR, ST = Paris (75), O = GIP - TESTXXXX, OU = 3000000000xxxxx, CN = devboxsante-mss) une personnelle: \u003cnumero_rpps\u003e@mail-tests-editeur.espacedeconfiance.mssante.fr. Cette adresse correspond au RPPS de votre carte CPS. Vous devriez avoir l’écran suivant:\nTest Vous pouvez vérifier que vos comptes sont opérationnels sur notre environnement de démonstration https://mss-demo.devbox-sante.fr.\nSélectionnez MOTCO2 puis renseignez votre adresse e-mail. Connexion via : Certificat pour votre BAL applicative. ProSantéConnect pour la BAL personnelle (liée à votre carte CPS). ","categories":"","description":"","excerpt":"La façon la plus simple de tester et valider l’intégration du …","ref":"/6.x/connecteurs/ms-sante/howtos/motco2/","tags":"","title":"MOTCO2"},{"body":"@Since DMP-1.0\nVolet CDA de Structuration minimale La DevBox-Santé DMP prend en charge la soumission de document à structuration minimale. Il s’agit du format par défaut exigé par le Guide d’intégration , il contient les métadonnées de base permettant la création d’un DMPCDocument ainsi que son contenu binaire.\nLa spécification de ce type de document est défini par l’ANS. Pour plus de renseignements sur le Volet Structuration minimal de Documents de santé : https://esante.gouv.fr/volet-structuration-minimale-de-documents-de-sante\nUn exemple de création de document à structuration minimale est :\nDMPCDocument document = new DMPCDocument(); // ajout des métadonnées document.setClassCode(client.getCodesFor(DMPCCode.ASIPJeuxValeurs.CLASS_CODE).get(0).getCode()); document.addConfidentiality(client.getCodesFor(DMPCCode.ASIPJeuxValeurs.CONFIDENTIALITY_CODE).get(0).getCode()); document.setComments(\"commentDocument\"); document.addEvent(new DMPCCode(\"B18\", \"2.16.840.1.113883.6.3\", \"Hépatite virale chronique\")); document.setPracticeSetting(client.getCodesFor(DMPCCode.ASIPJeuxValeurs.PRACTICE_SETTING_CODE).get(0).getCode()); document.setServiceStartTime(\"20171020174600\"); document.setServiceStopTime(\"20171020194600\"); document.setTitle(\"titleDocument\"); document.setType(client.getCodesFor(DMPCCode.ASIPJeuxValeurs.TYPE_CODE).get(0).getCode()); document.setCreationTime(\"20171020194600\"); // association du format et de son contenu. Ici, il s'agit d'un fichier pdf. document.setFormat(\"urn:ihe:iti:xds-sd:pdf:2008\"); InputStream input = new FileInputStream(\"monDocumentSante.pdf\"); byte[] content = new byte[input.available()]; ByteStreams.readFully(input, content); document.setContent(content); Listes des formats possibles :\nurn:ihe:iti:xds-sd:pdf:2008 urn:ihe:iti-fr:xds-sd:rtf:2010 urn:ihe:iti-fr:xds-sd:jpeg:2010 urn:ihe:iti-fr:xds-sd:tiff:2010 … Pour plus de renseignements sur l’API java du DMPCDocument : https://bitbucket.org/devbox-sante/devbox-sante-apis/src/master/dmpc-api/src/main/java/fr/devboxsante/dmp/model/DMPCDocument.java\nExemple de DMPCDocument au format Json :\n{ \"classCode\": \"11\", \"comments\": \"Document soumis via Postman\", \"confidentialities\": [\"N\"], \"content\": \"UmFwcGVsIGNsaW5pcXVlIDogSWwgcydhZ2l0IGQndW4gaG9tbWUgZGUgNTMgYW5zLCAKcHLDqXNlbnRhbnQgdW4gbmFldnVzIGRlIGxhIGZhY2UgaW50ZXJuZSBkZSBsYSBjdWlzc2UgZ2F1Y2hlIGRlIDcgbW0gZGUgZ3JhbmQgYXhlIGVudmlyb24uIApEw6ljaXNpb24gZCdleMOpcsOoc2Ugc291cyBhbmVzdGjDqXNpZSBsb2NhbGUuIAoKSW50ZXJ2ZW50aW9uIDogRVhFUkVTRSBEJ1VOIE5BRVZVUyBERSBMQSBDVUlTU0UgR0FVQ0hFIApTb3VzIGFuZXN0aMOpc2llIGxvY2FsZSDDoCBsYSBYeWxvY2HDr25lIMOgIDEgJSBub24gYWRyw6luYWxpbsOpZS4gCgpJbmNpc2lvbiBjZW50csOpZSBzdXIgbGEgbMOpc2lvbiBwZXJtZXR0YW50IGwnZXjDqXLDqHNlIGR1IG5hZXZ1cyBkYW5zIHNhIHRvdGFsaXTDqS4gCkZlcm1ldHVyZSBjdXRhbsOpZSBlbiB1biBwbGFuIGRlIEZsZXhvY3JpbiAzLzAuICAKCkVYQU1FTiBISVNUT0xPR0lPVUUgVW5lIGzDqXNpb24gcG9seXBvw69kZSBkZSAxIHggMCw3IGNtIGEgw6l0w6kgY29tbXVuaXF1w6llLiAKT24gcmV0cm91dmUgYXUgcGxhbiBoaXN0b2xvZ2lxdWUgdW5lIGzDqXNpb24gdW4gcGV1IHZlcnJ1cXVldXNlLCAKY29tcG9ydGFudCB1bmUgcHJvbGlmw6lyYXRpb24gY2VsbHVsYWlyZSBuYWV2aXF1ZSDDqXBhcmduYW50IGwnw6lwaWTDqW1pZSwgCnNvdXMgZm9ybWUgZGUgdGjDqHF1ZXMgZW4gc3VyZmFjZSwgYXZlYyBxdWVscXVlcyBkw6lww7R0cyBkZSBtw6lsYW5pbmUsIAphc3NvY2nDqWUgw6AgdW4gZ3JhZGllbnQgZGUgbWF0dXJhdGlvbiB0csOocyBuZXQgdmVycyBsYSBwcm9mb25kZXVyLiAKCk9uIG5lIHJldHJvdXZlIHBhcyBkJ2F0eXBpZSBudWNsw6lvY3l0b3BsYXNtaXF1ZS4gCgpDT05DTFVTSU9OIE5BRVZVUyBERVJNSVFVRSBERVZFTE9QUEUgU1VSIFVOIE1PREUgRVhPUEhZVElRVUUgLiAKTEVTIExJTUlURVMgRCdFWEVSRVNFIFNPTlQgU0FJTkVTLiA=\", \"creationTime\": \"20200928120000\", \"events\": [ { \"code\": \"H33\", \"codingScheme\": \"2.16.840.1.113883.6.3\", \"displayName\": \"Décollement et déchirement de la rétine\" } ], \"format\": \"urn:ihe:iti:xds-sd:text:2008\", \"legalAuthenticator\": { \"internalId\": \"123456\", \"nom\": \"Durand\", \"prenom\": \"Pierre\" }, \"patient\": { \"ins\": \"279035121518989\", \"prenom\": \"DOMINIQUE\", \"nomUsuel\": \"pat-trois\", \"internalId\": \"67890\", \"dateDeNaissance\": \"19790328\", \"ordreDeNaissance\": 0, \"sexe\": \"F\" }, \"practiceSetting\": \"AMBULATOIRE\", \"serviceStartTime\": \"20200928080000\", \"serviceStopTime\": \"20200928080000\", \"title\": \"Titre du document\", \"type\": \"11488-4\" } Alimenter le DMP C’est ce DMPCDocument qui permet l’alimentation du DMP au travers de la transaction d’alimentation\nGénérer un CDA @Since DMP-4.7.0\nIl est également possible de transformer ce DMPCDocument en un CDA en vue de le partager avec un autre Système d’information comme la MSS par exemple.\nExemple en Java :\n@Autowired private DMPCCdaTools cdaTools; // ... DMPCDocument document = createDMPCDocument(auteur, patient); OutputStream out = new ByteArrayOutputStream(); cdaTools.map(document, out); System.out.println(out.toByteArray()); Exemple en REST : curl --location --request POST 'http://127.0.0.1:8686/dmp/to/cda' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"entryUuid\": \"c2811791-1773-4325-9abf-a2f2d09ccfc9\", \"uniqueId\": \"1.2.250.1.287.11234\", \"secteurActivite\": \"SA43\", \"auteurs\": [ { \"internalId\": \"123456\", \"nom\": \"Durand\", \"prenom\": \"Pierre\", \"specialite\": \"G15_10/SM30\", \"secteurActivite\": \"SA43\", \"structureSante\": { \"idNational\": \"12345\", \"nom\": \"Devcoop Bureau de Léognan\" } } ], \"classCode\": \"11\", \"comments\": \"Document soumis via Postman\", \"confidentialities\": [ \"N\" ], \"content\": \"UmFwcGVsIGNsaW5pcXVlIDogSWwgcydhZ2l0IGQndW4gaG9tbWUgZGUgNTMgYW5zLCAKcHLDqXNlbnRhbnQgdW4gbmFldnVzIGRlIGxhIGZhY2UgaW50ZXJuZSBkZSBsYSBjdWlzc2UgZ2F1Y2hlIGRlIDcgbW0gZGUgZ3JhbmQgYXhlIGVudmlyb24uIApEw6ljaXNpb24gZCdleMOpcsOoc2Ugc291cyBhbmVzdGjDqXNpZSBsb2NhbGUuIAoKSW50ZXJ2ZW50aW9uIDogRVhFUkVTRSBEJ1VOIE5BRVZVUyBERSBMQSBDVUlTU0UgR0FVQ0hFIApTb3VzIGFuZXN0aMOpc2llIGxvY2FsZSDDoCBsYSBYeWxvY2HDr25lIMOgIDEgJSBub24gYWRyw6luYWxpbsOpZS4gCgpJbmNpc2lvbiBjZW50csOpZSBzdXIgbGEgbMOpc2lvbiBwZXJtZXR0YW50IGwnZXjDqXLDqHNlIGR1IG5hZXZ1cyBkYW5zIHNhIHRvdGFsaXTDqS4gCkZlcm1ldHVyZSBjdXRhbsOpZSBlbiB1biBwbGFuIGRlIEZsZXhvY3JpbiAzLzAuICAKCkVYQU1FTiBISVNUT0xPR0lPVUUgVW5lIGzDqXNpb24gcG9seXBvw69kZSBkZSAxIHggMCw3IGNtIGEgw6l0w6kgY29tbXVuaXF1w6llLiAKT24gcmV0cm91dmUgYXUgcGxhbiBoaXN0b2xvZ2lxdWUgdW5lIGzDqXNpb24gdW4gcGV1IHZlcnJ1cXVldXNlLCAKY29tcG9ydGFudCB1bmUgcHJvbGlmw6lyYXRpb24gY2VsbHVsYWlyZSBuYWV2aXF1ZSDDqXBhcmduYW50IGwnw6lwaWTDqW1pZSwgCnNvdXMgZm9ybWUgZGUgdGjDqHF1ZXMgZW4gc3VyZmFjZSwgYXZlYyBxdWVscXVlcyBkw6lww7R0cyBkZSBtw6lsYW5pbmUsIAphc3NvY2nDqWUgw6AgdW4gZ3JhZGllbnQgZGUgbWF0dXJhdGlvbiB0csOocyBuZXQgdmVycyBsYSBwcm9mb25kZXVyLiAKCk9uIG5lIHJldHJvdXZlIHBhcyBkJ2F0eXBpZSBudWNsw6lvY3l0b3BsYXNtaXF1ZS4gCgpDT05DTFVTSU9OIE5BRVZVUyBERVJNSVFVRSBERVZFTE9QUEUgU1VSIFVOIE1PREUgRVhPUEhZVElRVUUgLiAKTEVTIExJTUlURVMgRCdFWEVSRVNFIFNPTlQgU0FJTkVTLiA=\", \"creationTime\": \"20200928120000\", \"events\": [ { \"code\": \"H33\", \"codingScheme\": \"2.16.840.1.113883.6.3\", \"displayName\": \"Décollement et déchirement de la rétine\" } ], \"format\": \"urn:ihe:iti:xds-sd:text:2008\", \"legalAuthenticator\": { \"internalId\": \"123456\", \"nom\": \"Durand\", \"prenom\": \"Pierre\", \"secteurActivite\": \"SA43\", \"structureSante\": { \"idNational\": \"12345\", \"nom\": \"Devcoop Bureau de Léognan\" } }, \"patient\": { \"ins\": \"279035121518989\", \"insAutorite\": \"1.2.250.1.213.1.4.10\", \"prenom\": \"DOMINIQUE\", \"nomUsuel\": \"pat-trois\", \"internalId\": \"67890\", \"dateDeNaissance\": \"19790328\", \"ordreDeNaissance\": 0, \"sexe\": \"F\" }, \"practiceSetting\": \"AMBULATOIRE\", \"serviceStartTime\": \"20200928080000\", \"serviceStopTime\": \"20200928080000\", \"title\": \"Titre du document\", \"type\": \"11488-4\" }' La réponse contientdra un fichier CDA conforme au schematron de l’ANS : cda_structuration_minimale.xml\n","categories":"","description":"","excerpt":"@Since DMP-1.0\nVolet CDA de Structuration minimale La DevBox-Santé DMP …","ref":"/5.x/dmp/cda/structurationminimale/","tags":"","title":"Volet CDA structuration minimale"},{"body":"@Since DMP-1.0\nVolet CDA de Structuration minimale La DevBox-Santé DMP prend en charge la soumission de document à structuration minimale. Il s’agit du format par défaut exigé par le Guide d’intégration , il contient les métadonnées de base permettant la création d’un DMPCDocument ainsi que son contenu binaire.\nLa spécification de ce type de document est défini par l’ANS. Pour plus de renseignements sur le Volet Structuration minimal de Documents de santé : https://esante.gouv.fr/volet-structuration-minimale-de-documents-de-sante\nUn exemple de création de document à structuration minimale est :\nDMPCDocument document = new DMPCDocument(); // ajout des métadonnées document.setClassCode(client.getCodesFor(DMPCCode.ASIPJeuxValeurs.CLASS_CODE).get(0).getCode()); document.addConfidentiality(client.getCodesFor(DMPCCode.ASIPJeuxValeurs.CONFIDENTIALITY_CODE).get(0).getCode()); document.setComments(\"commentDocument\"); document.addEvent(new DMPCCode(\"B18\", \"2.16.840.1.113883.6.3\", \"Hépatite virale chronique\")); document.setPracticeSetting(client.getCodesFor(DMPCCode.ASIPJeuxValeurs.PRACTICE_SETTING_CODE).get(0).getCode()); document.setServiceStartTime(\"20171020174600\"); document.setServiceStopTime(\"20171020194600\"); document.setTitle(\"titleDocument\"); document.setType(client.getCodesFor(DMPCCode.ASIPJeuxValeurs.TYPE_CODE).get(0).getCode()); document.setCreationTime(\"20171020194600\"); // association du format et de son contenu. Ici, il s'agit d'un fichier pdf. document.setFormat(\"urn:ihe:iti:xds-sd:pdf:2008\"); InputStream input = new FileInputStream(\"monDocumentSante.pdf\"); byte[] content = new byte[input.available()]; ByteStreams.readFully(input, content); document.setContent(content); Listes des formats possibles :\nurn:ihe:iti:xds-sd:pdf:2008 urn:ihe:iti-fr:xds-sd:rtf:2010 urn:ihe:iti-fr:xds-sd:jpeg:2010 urn:ihe:iti-fr:xds-sd:tiff:2010 … Pour plus de renseignements sur l’API java du DMPCDocument : https://bitbucket.org/devbox-sante/devbox-sante-apis/src/master/dmpc-api/src/main/java/fr/devboxsante/dmp/model/DMPCDocument.java\nExemple de DMPCDocument au format Json :\n{ \"auteurs\": [], \"classCode\": \"10\", \"comments\": \"Document soumis via Postman\", \"confidentialities\": [ \"N\" ], \"patient\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"internalId\": \"123\", \"nomPatronymique\": \"PAT-TROIS\", \"prenom\": \"DOMINIQUE\", \"dateDeNaissance\": \"19790328\", \"lieuNaissance\": \"63220\", \"sexe\": \"F\" }, \"content\": \"UmFwcGVsIGNsaW5pcXVlIDogSWwgcydhZ2l0IGQndW4gaG9tbWUgZGUgNTMgYW5zLCAKcHLDqXNlbnRhbnQgdW4gbmFldnVzIGRlIGxhIGZhY2UgaW50ZXJuZSBkZSBsYSBjdWlzc2UgZ2F1Y2hlIGRlIDcgbW0gZGUgZ3JhbmQgYXhlIGVudmlyb24uIApEw6ljaXNpb24gZCdleMOpcsOoc2Ugc291cyBhbmVzdGjDqXNpZSBsb2NhbGUuIAoKSW50ZXJ2ZW50aW9uIDogRVhFUkVTRSBEJ1VOIE5BRVZVUyBERSBMQSBDVUlTU0UgR0FVQ0hFIApTb3VzIGFuZXN0aMOpc2llIGxvY2FsZSDDoCBsYSBYeWxvY2HDr25lIMOgIDEgJSBub24gYWRyw6luYWxpbsOpZS4gCgpJbmNpc2lvbiBjZW50csOpZSBzdXIgbGEgbMOpc2lvbiBwZXJtZXR0YW50IGwnZXjDqXLDqHNlIGR1IG5hZXZ1cyBkYW5zIHNhIHRvdGFsaXTDqS4gCkZlcm1ldHVyZSBjdXRhbsOpZSBlbiB1biBwbGFuIGRlIEZsZXhvY3JpbiAzLzAuICAKCkVYQU1FTiBISVNUT0xPR0lPVUUgVW5lIGzDqXNpb24gcG9seXBvw69kZSBkZSAxIHggMCw3IGNtIGEgw6l0w6kgY29tbXVuaXF1w6llLiAKT24gcmV0cm91dmUgYXUgcGxhbiBoaXN0b2xvZ2lxdWUgdW5lIGzDqXNpb24gdW4gcGV1IHZlcnJ1cXVldXNlLCAKY29tcG9ydGFudCB1bmUgcHJvbGlmw6lyYXRpb24gY2VsbHVsYWlyZSBuYWV2aXF1ZSDDqXBhcmduYW50IGwnw6lwaWTDqW1pZSwgCnNvdXMgZm9ybWUgZGUgdGjDqHF1ZXMgZW4gc3VyZmFjZSwgYXZlYyBxdWVscXVlcyBkw6lww7R0cyBkZSBtw6lsYW5pbmUsIAphc3NvY2nDqWUgw6AgdW4gZ3JhZGllbnQgZGUgbWF0dXJhdGlvbiB0csOocyBuZXQgdmVycyBsYSBwcm9mb25kZXVyLiAKCk9uIG5lIHJldHJvdXZlIHBhcyBkJ2F0eXBpZSBudWNsw6lvY3l0b3BsYXNtaXF1ZS4gCgpDT05DTFVTSU9OIE5BRVZVUyBERVJNSVFVRSBERVZFTE9QUEUgU1VSIFVOIE1PREUgRVhPUEhZVElRVUUgLiAKTEVTIExJTUlURVMgRCdFWEVSRVNFIFNPTlQgU0FJTkVTLiA=\", \"creationDateTime\": \"2023-01-11T14:25:01+01:00\", \"events\": [ { \"valeur\": \"H33\", \"identifiantNomenclature\": \"2.16.840.1.113883.6.3\", \"libelle\": \"Décollement et déchirement de la rétine\" } ], \"legalAuthenticator\": { \"internalId\": \"456\", \"rpps\": \"899700433156\", \"nom\": \"MEDECIN RPPS0043315\", \"prenom\": \"VIRGINIE\", \"role\": \"10\", \"secteurActivite\": \"SA07\", \"specialite\": \"G15_10/SM26\", \"structureSante\": { \"idNational\": \"11B0062640\", \"nom\": \"HOPITAL DES 3. DAMES\" }, \"service\": { \"nom\": \"Service de traumatologie\" } }, \"format\": \"urn:ihe:iti:xds-sd:text:2008\", \"practiceSetting\": \"AMBULATOIRE\", \"serviceStartDateTime\": \"2023-01-11T12:25:01+01:00\", \"serviceStopDateTime\": \"2023-01-11T13:25:01+01:00\", \"title\": \"Titre du document\", \"type\": \"11488-4\" } Alimenter le DMP C’est ce DMPCDocument qui permet l’alimentation du DMP au travers de la transaction d’alimentation\nGénérer un CDA @Since DMP-4.7.0\nIl est également possible de transformer ce DMPCDocument en un CDA en vue de le partager avec un autre Système d’information comme la MSS par exemple.\nExemple en Java :\n@Autowired private DMPCCdaTools cdaTools; // ... DMPCDocument document = createDMPCDocument(auteur, patient); OutputStream out = new ByteArrayOutputStream(); cdaTools.map(document, out); System.out.println(out.toByteArray()); Exemple en REST avec Bruno : https://bitbucket.org/devbox-sante/dbx-examples-bruno/src/master/dbx/dmp/6.x/tools/Tools%20dmp2cda.bru\nLa réponse contientdra un fichier CDA conforme au schematron de l’ANS : cda_structuration_minimale.xml\n","categories":"","description":"","excerpt":"@Since DMP-1.0\nVolet CDA de Structuration minimale La DevBox-Santé DMP …","ref":"/6.x/connecteurs/dmp/cda/structurationminimale/","tags":"","title":"Volet CDA structuration minimale"},{"body":"@Since DMP-3.0\nLa DevBox-Santé DMP prend également en charge la soumission de document structure comme le CR d’examens biologie.\nCe format de document est spécifié par l’ANS : https://esante.gouv.fr/volet-cr-bio-compte-rendu-dexamens-de-biologie-medicale\nUn exemple de création de document conforme à la spécification est :\nprivate void createCRBiologie(DMPCStructureSante structureSante) { final String creationTime = \"20111020194600\"; final String startTime = \"20140520174600\"; final String stopTime = \"20140520184600\"; DMPCDocumentCRBiologie template = new DMPCDocumentCRBiologie(); template.setClassCode(\"10\"); template.addConfidentiality(\"N\"); template.setComments(\"Commentaire du document\"); template.setFormat(\"urn:ihe:lab:xd-lab:2008\"); // format obligatoire template.setPracticeSetting(\"AMBULATOIRE\"); template.setServiceStartTime(startTime); template.setServiceStopTime(stopTime); template.setTitle(\"Titre CRBiologie\"); template.setType(\"11502-2\"); template.setCreationTime(creationTime); template.addEvent(new DMPCCode(\"16915-1\", OIDs.LOINC.getRepresentation(), \"Glucose post prandial [Masse/Volume] Sérum/Plasma ; Numérique\")); final Participation prescription = new Participation(); final DMPCPersonnelSante prescripteur = new DMPCPersonnelSante(); prescripteur.setAdeli(\"801234567897\"); prescripteur.setNom(\"Gynecon\"); prescripteur.setPrenom(\"Eve\"); prescripteur.setStructureSante(structureSante); prescripteur.setTelephone(\"0147150000\"); prescription.setPersonnelSante(prescripteur); prescription.setStopTime(startTime); template.setPrescription(prescription); final Participation prelevement = new Participation(); final DMPCPersonnelSante preleveur = new DMPCPersonnelSante(); preleveur.setAdeli(\"801234567897\"); preleveur.setNom(\"Bleeder\"); preleveur.setPrenom(\"Roberta\"); preleveur.setStructureSante(structureSante); prelevement.setPersonnelSante(preleveur); prelevement.setStopTime(stopTime); template.setPrelevement(prelevement); template.setId(\"1234\"); template.setVersionNumber(0); final StructuredBody.ChapterSection chapterSection = new StructuredBody.ChapterSection(); chapterSection.setLoincCode(ChapterSectionLoincCode.BIOLOGIE.getCode()); template.getBody().getChapterSections().add(chapterSection); final StructuredBody.Section section = new StructuredBody.Section(); chapterSection.getSections().add(section); section.setAuthenticator(prescripteur); section.setAuthenticatorInterpretation(\"Commentaire habituel\"); final StructuredBody.Observation observation = new StructuredBody.Observation(); observation.setCode(new DMPCCode(\"16915-1\", OIDs.LOINC.getRepresentation(), \"Glucose post prandial [Masse/Volume] Sérum/Plasma ; Numérique\")); observation.setStatus(\"completed\"); observation.setTime(stopTime); final StructuredBody.Value value = new StructuredBody.Value(); value.setValue(\"1.5\"); value.setUnit(\"g/L\"); observation.setValue(value); observation.setInterpretation(new DMPCCode(\"H\", Hl7OIDs.OBSERVATION_INTERPRETATION.getRepresentation(), \"Anormalement haut\")); final StructuredBody.RangeValue rangeValue = new StructuredBody.RangeValue(); rangeValue.setLow(\"0.8\"); rangeValue.setHigh(\"1.26\"); rangeValue.setUnit(\"g/L\"); observation.setReferenceRange(rangeValue); section.getObservations().add(observation); } La génération un peu longue certe permet de rajouter les sections et observations nécessaires pour générer le document CDA suivant :\n\u003c?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?\u003e \u003cClinicalDocument xmlns=\"urn:hl7-org:v3\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.w3.org/2001/XMLSchema-instance\"\u003e \u003crealmCode code=\"FR\"/\u003e \u003ctypeId root=\"2.16.840.1.113883.1.3\" extension=\"POCD_HD000040\"/\u003e \u003ctemplateId root=\"2.16.840.1.113883.2.8.2.1\" assigningAuthorityName=\"HL7 France\"/\u003e \u003ctemplateId root=\"1.2.250.1.213.1.1.1.1\" assigningAuthorityName=\"Cadre InteropASIP\"/\u003e \u003ctemplateId root=\"1.3.6.1.4.1.19376.1.2.20\" assigningAuthorityName=\"Template identifier for an XDS-SD document\"/\u003e \u003ctemplateId root=\"1.3.6.1.4.1.19376.1.3.3\" assigningAuthorityName=\"Laboratory Report Summary Specification\"/\u003e \u003cid root=\"1.2.250.1.287.1.123456.1400919121980.0\"/\u003e \u003ccode code=\"11502-2\" codeSystem=\"2.16.840.1.113883.6.1\" displayName=\"CR d'examens biologiques\"/\u003e \u003ctitle\u003edocument titre\u003c/title\u003e \u003ceffectiveTime value=\"20140524101200+0200\"/\u003e \u003cconfidentialityCode code=\"N\" codeSystem=\"2.16.840.1.113883.5.25\" displayName=\"Normal\"/\u003e \u003clanguageCode code=\"fr-FR\"/\u003e \u003cversionNumber value=\"0\"/\u003e \u003crecordTarget\u003e \u003cpatientRole\u003e \u003cid root=\"1.2.250.1.213.1.4.2\" extension=\"1164485058822081751070\"/\u003e \u003cid root=\"1.2.250.1.287.1.123456\" extension=\"1234\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003cpatient\u003e \u003cname\u003e \u003cgiven\u003eprenom\u003c/given\u003e \u003cfamily qualifier=\"BR\"\u003enom\u003c/family\u003e \u003cfamily qualifier=\"SP\"\u003enomEpouse\u003c/family\u003e \u003c/name\u003e \u003cadministrativeGenderCode code=\"M\" codeSystem=\"2.16.840.1.113883.5.1\"/\u003e \u003cbirthTime value=\"19730513\"/\u003e \u003c/patient\u003e \u003c/patientRole\u003e \u003c/recordTarget\u003e \u003cauthor\u003e \u003cfunctionCode code=\"10\" codeSystem=\"1.2.250.1.71.1.2.7\" displayName=\"Médecin\"/\u003e \u003ctime value=\"20140524101200+0200\"/\u003e \u003cassignedAuthor\u003e \u003cid root=\"1.2.250.1.71.4.2.1\" extension=\"500000000015644/123\"/\u003e \u003ccode code=\"G15_10/SM30\" codeSystem=\"1.2.250.1.213.1.1.4.5\" displayName=\"Médecin - Néphrologie (SM)\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003cassignedPerson\u003e \u003cname\u003e \u003cgiven\u003eauteurPrenom\u003c/given\u003e \u003cfamily qualifier=\"BR\"\u003eauteurNom\u003c/family\u003e \u003c/name\u003e \u003c/assignedPerson\u003e \u003crepresentedOrganization\u003e \u003cid root=\"1.2.250.1.71.4.2.2\" extension=\"300000000015644\"/\u003e \u003cname\u003estructureNom\u003c/name\u003e \u003c/representedOrganization\u003e \u003c/assignedAuthor\u003e \u003c/author\u003e \u003ccustodian\u003e \u003cassignedCustodian\u003e \u003crepresentedCustodianOrganization\u003e \u003cid root=\"1.2.250.1.71.4.2.2\" extension=\"300000000015644\"/\u003e \u003cname\u003estructureNom\u003c/name\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003c/representedCustodianOrganization\u003e \u003c/assignedCustodian\u003e \u003c/custodian\u003e \u003clegalAuthenticator\u003e \u003ctime value=\"20140524101200+0200\"/\u003e \u003csignatureCode code=\"S\"/\u003e \u003cassignedEntity\u003e \u003cid root=\"1.2.250.1.71.4.2.1\" extension=\"500000000015644/123\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003cassignedPerson\u003e \u003cname\u003e \u003cgiven\u003eauteurPrenom\u003c/given\u003e \u003cfamily qualifier=\"BR\"\u003eauteurNom\u003c/family\u003e \u003c/name\u003e \u003c/assignedPerson\u003e \u003c/assignedEntity\u003e \u003c/legalAuthenticator\u003e \u003cparticipant typeCode=\"REF\"\u003e \u003cfunctionCode code=\"TODO\"/\u003e \u003ctime\u003e \u003chigh value=\"20091113\"/\u003e \u003c/time\u003e \u003cassociatedEntity classCode=\"PROV\"\u003e \u003cid root=\"1.2.250.1.71.4.2.1\" extension=\"801234567897\"/\u003e \u003ccode nullFlavor=\"NASK\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003ctelecom use=\"EC\" value=\"tel:0147150000\"/\u003e \u003cassociatedPerson\u003e \u003cname\u003e \u003cgiven\u003eEve\u003c/given\u003e \u003cfamily qualifier=\"BR\"\u003eGynecon\u003c/family\u003e \u003c/name\u003e \u003c/associatedPerson\u003e \u003c/associatedEntity\u003e \u003c/participant\u003e \u003cparticipant typeCode=\"DIST\"\u003e \u003cfunctionCode code=\"PRELV\"/\u003e \u003ctime/\u003e \u003cassociatedEntity classCode=\"CAREGIVER\"\u003e \u003cid root=\"1.2.250.1.71.4.2.1\" extension=\"801234567897\"/\u003e \u003ccode nullFlavor=\"NASK\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003cassociatedPerson\u003e \u003cname\u003e \u003cgiven\u003eRoberta\u003c/given\u003e \u003cfamily qualifier=\"BR\"\u003eBleeder\u003c/family\u003e \u003c/name\u003e \u003c/associatedPerson\u003e \u003c/associatedEntity\u003e \u003c/participant\u003e \u003cdocumentationOf\u003e \u003cserviceEvent\u003e \u003ccode code=\"H33\" codeSystem=\"2.16.840.1.113883.6.3\" displayName=\"Décollement et déchirement de la rétine\"/\u003e \u003ceffectiveTime\u003e \u003clow value=\"20111025\"/\u003e \u003chigh value=\"20111125\"/\u003e \u003c/effectiveTime\u003e \u003cperformer typeCode=\"PRF\"\u003e \u003cfunctionCode nullFlavor=\"UNK\"/\u003e \u003cassignedEntity\u003e \u003cid root=\"1.2.250.1.71.4.2.1\" extension=\"500000000015644/123\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003cassignedPerson\u003e \u003cname\u003e \u003cgiven\u003eauteurPrenom\u003c/given\u003e \u003cfamily qualifier=\"BR\"\u003eauteurNom\u003c/family\u003e \u003c/name\u003e \u003c/assignedPerson\u003e \u003crepresentedOrganization\u003e \u003cid root=\"1.2.250.1.71.4.2.2\" extension=\"300000000015644\"/\u003e \u003cname\u003estructureNom\u003c/name\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003cstandardIndustryClassCode code=\"AMBULATOIRE\" codeSystem=\"1.2.250.1.213.1.1.4.9\" displayName=\"Ambulatoire\"/\u003e \u003c/representedOrganization\u003e \u003c/assignedEntity\u003e \u003c/performer\u003e \u003c/serviceEvent\u003e \u003c/documentationOf\u003e \u003ccomponentOf\u003e \u003cencompassingEncounter\u003e \u003ceffectiveTime nullFlavor=\"UNK\"/\u003e \u003clocation\u003e \u003chealthCareFacility\u003e \u003ccode code=\"SA41\" codeSystem=\"1.2.250.1.71.4.2.4\" displayName=\"Autre établissement du domaine social \"/\u003e \u003c/healthCareFacility\u003e \u003c/location\u003e \u003c/encompassingEncounter\u003e \u003c/componentOf\u003e \u003ccomponent\u003e \u003cstructuredBody\u003e \u003ccomponent\u003e \u003csection\u003e \u003ctemplateId root=\"1.3.6.1.4.1.19376.1.3.3.2.1\"/\u003e \u003ccode code=\"18719-5\" codeSystem=\"2.16.840.1.113883.6.1\" displayName=\"Biochimie\"/\u003e \u003ctitle\u003eBiochimie\u003c/title\u003e \u003ccomponent\u003e \u003csection\u003e \u003ctemplateId root=\"1.3.6.1.4.1.19376.1.3.3.2.2\"/\u003e \u003ccode nullFlavor=\"NASK\"/\u003e \u003ctext\u003e \u003ctable\u003e \u003cthead\u003e \u003ctr\u003e \u003ctd\u003eUnité\u003c/td\u003e \u003ctd\u003eDate\u003c/td\u003e \u003ctd\u003eValeur\u003c/td\u003e \u003ctd\u003eValeur Référence\u003c/td\u003e \u003ctd\u003eInterprétation\u003c/td\u003e \u003c/tr\u003e \u003c/thead\u003e \u003ctbody\u003e \u003ctr\u003e \u003ctd\u003eg/L\u003c/td\u003e \u003ctd\u003e24/05/2014\u003c/td\u003e \u003ctd\u003e1.5\u003c/td\u003e \u003ctd\u003e0.8 - 1.26\u003c/td\u003e \u003ctd\u003e\u0026gt;\u003c/td\u003e \u003c/tr\u003e \u003c/tbody\u003e \u003c/table\u003e \u003cparagraph\u003eInterprétation : Résultats Validés par : auteurNom auteurPrenom - null\u003c/paragraph\u003e \u003c/text\u003e \u003centry\u003e \u003cobservation classCode=\"OBS\" moodCode=\"EVN\"\u003e \u003ccode xsi:type=\"CE\" code=\"16915-1\" codeSystem=\"2.16.840.1.113883.6.1\" displayName=\"Glucose post prandial [Masse/Volume] Sérum/Plasma ; Numérique\"/\u003e \u003cstatusCode code=\"completed\"/\u003e \u003ceffectiveTime value=\"20140524101202+0200\"/\u003e \u003cvalue xsi:type=\"PQ\" value=\"1.5\" unit=\"g/L\"/\u003e \u003cinterpretationCode code=\"\u0026gt;\" codeSystem=\"2.16.840.1.113883.5.83\" displayName=\"Au dessus, hors échelle de l'instrument de mesure\"/\u003e \u003cmethodCode nullFlavor=\"NASK\"/\u003e \u003creferenceRange typeCode=\"REFV\"\u003e \u003cobservationRange\u003e \u003cvalue xsi:type=\"IVL_PQ\"\u003e \u003clow value=\"0.8\" unit=\"g/L\"/\u003e \u003chigh value=\"1.26\" unit=\"g/L\"/\u003e \u003c/value\u003e \u003c/observationRange\u003e \u003c/referenceRange\u003e \u003c/observation\u003e \u003c/entry\u003e \u003c/section\u003e \u003c/component\u003e \u003c/section\u003e \u003c/component\u003e \u003c/structuredBody\u003e \u003c/component\u003e \u003c/ClinicalDocument\u003e ","categories":"","description":"","excerpt":"@Since DMP-3.0\nLa DevBox-Santé DMP prend également en charge la …","ref":"/5.x/dmp/cda/crbiologie/","tags":"","title":"Volet Compte rendu d'examens de biologie"},{"body":"@Since DMP-3.0\nLa DevBox-Santé DMP prend également en charge la soumission de document structure comme le CR d’examens biologie.\nCe format de document est spécifié par l’ANS : https://esante.gouv.fr/volet-cr-bio-compte-rendu-dexamens-de-biologie-medicale\nUn exemple de création de document conforme à la spécification est :\nprivate void createCRBiologie(DMPCStructureSante structureSante) { final String creationTime = \"20111020194600\"; final String startTime = \"20140520174600\"; final String stopTime = \"20140520184600\"; DMPCDocumentCRBiologie template = new DMPCDocumentCRBiologie(); template.setClassCode(\"10\"); template.addConfidentiality(\"N\"); template.setComments(\"Commentaire du document\"); template.setFormat(\"urn:ihe:lab:xd-lab:2008\"); // format obligatoire template.setPracticeSetting(\"AMBULATOIRE\"); template.setServiceStartTime(startTime); template.setServiceStopTime(stopTime); template.setTitle(\"Titre CRBiologie\"); template.setType(\"11502-2\"); template.setCreationTime(creationTime); template.addEvent(new DMPCCode(\"16915-1\", OIDs.LOINC.getRepresentation(), \"Glucose post prandial [Masse/Volume] Sérum/Plasma ; Numérique\")); final Participation prescription = new Participation(); final DMPCPersonnelSante prescripteur = new DMPCPersonnelSante(); prescripteur.setAdeli(\"801234567897\"); prescripteur.setNom(\"Gynecon\"); prescripteur.setPrenom(\"Eve\"); prescripteur.setStructureSante(structureSante); prescripteur.setTelephone(\"0147150000\"); prescription.setPersonnelSante(prescripteur); prescription.setStopTime(startTime); template.setPrescription(prescription); final Participation prelevement = new Participation(); final DMPCPersonnelSante preleveur = new DMPCPersonnelSante(); preleveur.setAdeli(\"801234567897\"); preleveur.setNom(\"Bleeder\"); preleveur.setPrenom(\"Roberta\"); preleveur.setStructureSante(structureSante); prelevement.setPersonnelSante(preleveur); prelevement.setStopTime(stopTime); template.setPrelevement(prelevement); template.setId(\"1234\"); template.setVersionNumber(0); final StructuredBody.ChapterSection chapterSection = new StructuredBody.ChapterSection(); chapterSection.setLoincCode(ChapterSectionLoincCode.BIOLOGIE.getCode()); template.getBody().getChapterSections().add(chapterSection); final StructuredBody.Section section = new StructuredBody.Section(); chapterSection.getSections().add(section); section.setAuthenticator(prescripteur); section.setAuthenticatorInterpretation(\"Commentaire habituel\"); final StructuredBody.Observation observation = new StructuredBody.Observation(); observation.setCode(new DMPCCode(\"16915-1\", OIDs.LOINC.getRepresentation(), \"Glucose post prandial [Masse/Volume] Sérum/Plasma ; Numérique\")); observation.setStatus(\"completed\"); observation.setTime(stopTime); final StructuredBody.Value value = new StructuredBody.Value(); value.setValue(\"1.5\"); value.setUnit(\"g/L\"); observation.setValue(value); observation.setInterpretation(new DMPCCode(\"H\", Hl7OIDs.OBSERVATION_INTERPRETATION.getRepresentation(), \"Anormalement haut\")); final StructuredBody.RangeValue rangeValue = new StructuredBody.RangeValue(); rangeValue.setLow(\"0.8\"); rangeValue.setHigh(\"1.26\"); rangeValue.setUnit(\"g/L\"); observation.setReferenceRange(rangeValue); section.getObservations().add(observation); } La génération un peu longue certe permet de rajouter les sections et observations nécessaires pour générer le document CDA suivant :\n\u003c?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?\u003e \u003cClinicalDocument xmlns=\"urn:hl7-org:v3\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.w3.org/2001/XMLSchema-instance\"\u003e \u003crealmCode code=\"FR\"/\u003e \u003ctypeId root=\"2.16.840.1.113883.1.3\" extension=\"POCD_HD000040\"/\u003e \u003ctemplateId root=\"2.16.840.1.113883.2.8.2.1\" assigningAuthorityName=\"HL7 France\"/\u003e \u003ctemplateId root=\"1.2.250.1.213.1.1.1.1\" assigningAuthorityName=\"Cadre InteropASIP\"/\u003e \u003ctemplateId root=\"1.3.6.1.4.1.19376.1.2.20\" assigningAuthorityName=\"Template identifier for an XDS-SD document\"/\u003e \u003ctemplateId root=\"1.3.6.1.4.1.19376.1.3.3\" assigningAuthorityName=\"Laboratory Report Summary Specification\"/\u003e \u003cid root=\"1.2.250.1.287.1.123456.1400919121980.0\"/\u003e \u003ccode code=\"11502-2\" codeSystem=\"2.16.840.1.113883.6.1\" displayName=\"CR d'examens biologiques\"/\u003e \u003ctitle\u003edocument titre\u003c/title\u003e \u003ceffectiveTime value=\"20140524101200+0200\"/\u003e \u003cconfidentialityCode code=\"N\" codeSystem=\"2.16.840.1.113883.5.25\" displayName=\"Normal\"/\u003e \u003clanguageCode code=\"fr-FR\"/\u003e \u003cversionNumber value=\"0\"/\u003e \u003crecordTarget\u003e \u003cpatientRole\u003e \u003cid root=\"1.2.250.1.213.1.4.2\" extension=\"1164485058822081751070\"/\u003e \u003cid root=\"1.2.250.1.287.1.123456\" extension=\"1234\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003cpatient\u003e \u003cname\u003e \u003cgiven\u003eprenom\u003c/given\u003e \u003cfamily qualifier=\"BR\"\u003enom\u003c/family\u003e \u003cfamily qualifier=\"SP\"\u003enomEpouse\u003c/family\u003e \u003c/name\u003e \u003cadministrativeGenderCode code=\"M\" codeSystem=\"2.16.840.1.113883.5.1\"/\u003e \u003cbirthTime value=\"19730513\"/\u003e \u003c/patient\u003e \u003c/patientRole\u003e \u003c/recordTarget\u003e \u003cauthor\u003e \u003cfunctionCode code=\"10\" codeSystem=\"1.2.250.1.71.1.2.7\" displayName=\"Médecin\"/\u003e \u003ctime value=\"20140524101200+0200\"/\u003e \u003cassignedAuthor\u003e \u003cid root=\"1.2.250.1.71.4.2.1\" extension=\"500000000015644/123\"/\u003e \u003ccode code=\"G15_10/SM30\" codeSystem=\"1.2.250.1.213.1.1.4.5\" displayName=\"Médecin - Néphrologie (SM)\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003cassignedPerson\u003e \u003cname\u003e \u003cgiven\u003eauteurPrenom\u003c/given\u003e \u003cfamily qualifier=\"BR\"\u003eauteurNom\u003c/family\u003e \u003c/name\u003e \u003c/assignedPerson\u003e \u003crepresentedOrganization\u003e \u003cid root=\"1.2.250.1.71.4.2.2\" extension=\"300000000015644\"/\u003e \u003cname\u003estructureNom\u003c/name\u003e \u003c/representedOrganization\u003e \u003c/assignedAuthor\u003e \u003c/author\u003e \u003ccustodian\u003e \u003cassignedCustodian\u003e \u003crepresentedCustodianOrganization\u003e \u003cid root=\"1.2.250.1.71.4.2.2\" extension=\"300000000015644\"/\u003e \u003cname\u003estructureNom\u003c/name\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003c/representedCustodianOrganization\u003e \u003c/assignedCustodian\u003e \u003c/custodian\u003e \u003clegalAuthenticator\u003e \u003ctime value=\"20140524101200+0200\"/\u003e \u003csignatureCode code=\"S\"/\u003e \u003cassignedEntity\u003e \u003cid root=\"1.2.250.1.71.4.2.1\" extension=\"500000000015644/123\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003cassignedPerson\u003e \u003cname\u003e \u003cgiven\u003eauteurPrenom\u003c/given\u003e \u003cfamily qualifier=\"BR\"\u003eauteurNom\u003c/family\u003e \u003c/name\u003e \u003c/assignedPerson\u003e \u003c/assignedEntity\u003e \u003c/legalAuthenticator\u003e \u003cparticipant typeCode=\"REF\"\u003e \u003cfunctionCode code=\"TODO\"/\u003e \u003ctime\u003e \u003chigh value=\"20091113\"/\u003e \u003c/time\u003e \u003cassociatedEntity classCode=\"PROV\"\u003e \u003cid root=\"1.2.250.1.71.4.2.1\" extension=\"801234567897\"/\u003e \u003ccode nullFlavor=\"NASK\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003ctelecom use=\"EC\" value=\"tel:0147150000\"/\u003e \u003cassociatedPerson\u003e \u003cname\u003e \u003cgiven\u003eEve\u003c/given\u003e \u003cfamily qualifier=\"BR\"\u003eGynecon\u003c/family\u003e \u003c/name\u003e \u003c/associatedPerson\u003e \u003c/associatedEntity\u003e \u003c/participant\u003e \u003cparticipant typeCode=\"DIST\"\u003e \u003cfunctionCode code=\"PRELV\"/\u003e \u003ctime/\u003e \u003cassociatedEntity classCode=\"CAREGIVER\"\u003e \u003cid root=\"1.2.250.1.71.4.2.1\" extension=\"801234567897\"/\u003e \u003ccode nullFlavor=\"NASK\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003cassociatedPerson\u003e \u003cname\u003e \u003cgiven\u003eRoberta\u003c/given\u003e \u003cfamily qualifier=\"BR\"\u003eBleeder\u003c/family\u003e \u003c/name\u003e \u003c/associatedPerson\u003e \u003c/associatedEntity\u003e \u003c/participant\u003e \u003cdocumentationOf\u003e \u003cserviceEvent\u003e \u003ccode code=\"H33\" codeSystem=\"2.16.840.1.113883.6.3\" displayName=\"Décollement et déchirement de la rétine\"/\u003e \u003ceffectiveTime\u003e \u003clow value=\"20111025\"/\u003e \u003chigh value=\"20111125\"/\u003e \u003c/effectiveTime\u003e \u003cperformer typeCode=\"PRF\"\u003e \u003cfunctionCode nullFlavor=\"UNK\"/\u003e \u003cassignedEntity\u003e \u003cid root=\"1.2.250.1.71.4.2.1\" extension=\"500000000015644/123\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003cassignedPerson\u003e \u003cname\u003e \u003cgiven\u003eauteurPrenom\u003c/given\u003e \u003cfamily qualifier=\"BR\"\u003eauteurNom\u003c/family\u003e \u003c/name\u003e \u003c/assignedPerson\u003e \u003crepresentedOrganization\u003e \u003cid root=\"1.2.250.1.71.4.2.2\" extension=\"300000000015644\"/\u003e \u003cname\u003estructureNom\u003c/name\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003cstandardIndustryClassCode code=\"AMBULATOIRE\" codeSystem=\"1.2.250.1.213.1.1.4.9\" displayName=\"Ambulatoire\"/\u003e \u003c/representedOrganization\u003e \u003c/assignedEntity\u003e \u003c/performer\u003e \u003c/serviceEvent\u003e \u003c/documentationOf\u003e \u003ccomponentOf\u003e \u003cencompassingEncounter\u003e \u003ceffectiveTime nullFlavor=\"UNK\"/\u003e \u003clocation\u003e \u003chealthCareFacility\u003e \u003ccode code=\"SA41\" codeSystem=\"1.2.250.1.71.4.2.4\" displayName=\"Autre établissement du domaine social \"/\u003e \u003c/healthCareFacility\u003e \u003c/location\u003e \u003c/encompassingEncounter\u003e \u003c/componentOf\u003e \u003ccomponent\u003e \u003cstructuredBody\u003e \u003ccomponent\u003e \u003csection\u003e \u003ctemplateId root=\"1.3.6.1.4.1.19376.1.3.3.2.1\"/\u003e \u003ccode code=\"18719-5\" codeSystem=\"2.16.840.1.113883.6.1\" displayName=\"Biochimie\"/\u003e \u003ctitle\u003eBiochimie\u003c/title\u003e \u003ccomponent\u003e \u003csection\u003e \u003ctemplateId root=\"1.3.6.1.4.1.19376.1.3.3.2.2\"/\u003e \u003ccode nullFlavor=\"NASK\"/\u003e \u003ctext\u003e \u003ctable\u003e \u003cthead\u003e \u003ctr\u003e \u003ctd\u003eUnité\u003c/td\u003e \u003ctd\u003eDate\u003c/td\u003e \u003ctd\u003eValeur\u003c/td\u003e \u003ctd\u003eValeur Référence\u003c/td\u003e \u003ctd\u003eInterprétation\u003c/td\u003e \u003c/tr\u003e \u003c/thead\u003e \u003ctbody\u003e \u003ctr\u003e \u003ctd\u003eg/L\u003c/td\u003e \u003ctd\u003e24/05/2014\u003c/td\u003e \u003ctd\u003e1.5\u003c/td\u003e \u003ctd\u003e0.8 - 1.26\u003c/td\u003e \u003ctd\u003e\u0026gt;\u003c/td\u003e \u003c/tr\u003e \u003c/tbody\u003e \u003c/table\u003e \u003cparagraph\u003eInterprétation : Résultats Validés par : auteurNom auteurPrenom - null\u003c/paragraph\u003e \u003c/text\u003e \u003centry\u003e \u003cobservation classCode=\"OBS\" moodCode=\"EVN\"\u003e \u003ccode xsi:type=\"CE\" code=\"16915-1\" codeSystem=\"2.16.840.1.113883.6.1\" displayName=\"Glucose post prandial [Masse/Volume] Sérum/Plasma ; Numérique\"/\u003e \u003cstatusCode code=\"completed\"/\u003e \u003ceffectiveTime value=\"20140524101202+0200\"/\u003e \u003cvalue xsi:type=\"PQ\" value=\"1.5\" unit=\"g/L\"/\u003e \u003cinterpretationCode code=\"\u0026gt;\" codeSystem=\"2.16.840.1.113883.5.83\" displayName=\"Au dessus, hors échelle de l'instrument de mesure\"/\u003e \u003cmethodCode nullFlavor=\"NASK\"/\u003e \u003creferenceRange typeCode=\"REFV\"\u003e \u003cobservationRange\u003e \u003cvalue xsi:type=\"IVL_PQ\"\u003e \u003clow value=\"0.8\" unit=\"g/L\"/\u003e \u003chigh value=\"1.26\" unit=\"g/L\"/\u003e \u003c/value\u003e \u003c/observationRange\u003e \u003c/referenceRange\u003e \u003c/observation\u003e \u003c/entry\u003e \u003c/section\u003e \u003c/component\u003e \u003c/section\u003e \u003c/component\u003e \u003c/structuredBody\u003e \u003c/component\u003e \u003c/ClinicalDocument\u003e ","categories":"","description":"","excerpt":"@Since DMP-3.0\nLa DevBox-Santé DMP prend également en charge la …","ref":"/6.x/connecteurs/dmp/cda/crbiologie/","tags":"","title":"Volet Compte rendu d'examens de biologie"},{"body":"@Since DMP-5.0\nNote de vaccination Il est possible désormais de soumettre des notes de vaccinations dans le DMP et d’en récupérer l’historique simplement. Les spécifications de ce volet vaccination sont disponibles sur le site de l’ANS : https://esante.gouv.fr/volet-vac-vaccination\nDescription Générer une Note de Vaccination (cda_note_vaccination.xml) consiste à générer une entête similaire à l’ensemble des volets définis par le CI-SIS dont le volet à structuration minimale, mais aussi un corps dit structuré contenant une et une seule note de vaccination. Cette section structurée est composée de deux parties.\nUne partie commentaire lisible en html facilement transposable avec une feuille de style XSLT: \u003ctext\u003e \u003ctable border=\"1\"\u003e \u003cthead align=\"center\"\u003e \u003ctr\u003e \u003cth align=\"center\"\u003eDate de l'acte\u003c/th\u003e \u003cth align=\"center\"\u003eNom du vaccin\u003c/th\u003e \u003cth align=\"center\"\u003eType d'administration\u003c/th\u003e \u003cth align=\"center\"\u003eNuméro de lot\u003c/th\u003e \u003cth align=\"center\"\u003eVoie d'administration\u003c/th\u003e \u003cth align=\"center\"\u003eSite d'administration\u003c/th\u003e \u003cth align=\"center\"\u003eVaccinateur\u003c/th\u003e \u003cth align=\"center\"\u003eVaccin ajouté ou modifié par\u003c/th\u003e \u003cth align=\"center\"\u003eCommentaire\u003c/th\u003e \u003c/tr\u003e \u003c/thead\u003e \u003ctbody\u003e \u003ctr ID=\"uuid-87dd18c7-a980-43f7-93bd-2b6620aa8c80\"\u003e \u003ctd align=\"left\"\u003e29/10/2022\u003c/td\u003e \u003ctd ID=\"uuid-0f88f638-469d-400d-86e5-3424e4956b28\" align=\"left\"\u003eVACCIN TETANIQUE PASTEUR, suspension injectable en seringue préremplie vaccin tétanique adsorbé\u003c/td\u003e \u003ctd align=\"left\"\u003e1ère série vaccinante - 2\u003c/td\u003e \u003ctd align=\"left\"\u003e870343\u003c/td\u003e \u003ctd align=\"left\"\u003eintra musculaire\u003c/td\u003e \u003ctd ID=\"uuid-d4657f99-d007-4429-a9ae-3787abb26e20\" align=\"left\"\u003eLD\u003c/td\u003e \u003ctd align=\"left\"\u003eDr MEDECIN RPPS0022297 VIRGINIE - Médecin - Qualifié en Médecine Générale (SM)\u003c/td\u003e \u003ctd align=\"left\"\u003eDr MEDECIN RPPS0022297 VIRGINIE - Médecin - Qualifié en Médecine Générale (SM)\u003c/td\u003e \u003ctd ID=\"uuid-1f57e117-0315-4f13-9079-028126f29e84\" align=\"left\"\u003eCommentaire de la vaccination\u003c/td\u003e \u003c/tr\u003e \u003c/tbody\u003e \u003c/table\u003e \u003c/text\u003e une partie structurée interprétable par la machine : \u003csubstanceAdministration classCode=\"SBADM\" moodCode=\"EVN\" negationInd=\"false\"\u003e \u003ctemplateId root=\"2.16.840.1.113883.10.20.1.24\"/\u003e \u003ctemplateId root=\"1.3.6.1.4.1.19376.1.5.3.1.4.12\"/\u003e \u003ctemplateId root=\"1.2.250.1.213.1.1.3.45\"/\u003e \u003cid root=\"0e2111cf-44fd-4ed3-a5bd-0a19de0faa2a\"/\u003e \u003ccode code=\"INITIMMUNIZ\" codeSystem=\"2.16.840.1.113883.5.4\" codeSystemName=\"HL7:ActCode\" displayName=\"1ère série vaccinante\"/\u003e \u003ctext\u003e \u003creference value=\"#uuid-87dd18c7-a980-43f7-93bd-2b6620aa8c80\"/\u003e \u003c/text\u003e \u003cstatusCode code=\"completed\"/\u003e \u003ceffectiveTime value=\"20221029\"/\u003e \u003crouteCode code=\"IM\" codeSystem=\"2.16.840.1.113883.5.112\" codeSystemName=\"routeOfAdministration\" displayName=\"intra musculaire\"/\u003e \u003capproachSiteCode code=\"LD\" codeSystem=\"2.16.840.1.113883.5.1052\" codeSystemName=\"HumanSubstanceAdministrationSite\" displayName=\"LD\"\u003e \u003coriginalText\u003e \u003creference value=\"#uuid-d4657f99-d007-4429-a9ae-3787abb26e20\"/\u003e \u003c/originalText\u003e \u003c/approachSiteCode\u003e \u003cdoseQuantity value=\"1\"/\u003e \u003cconsumable typeCode=\"CSM\"\u003e \u003cmanufacturedProduct\u003e \u003ctemplateId root=\"2.16.840.1.113883.10.20.1.53\"/\u003e \u003ctemplateId root=\"1.3.6.1.4.1.19376.1.5.3.1.4.7.2\"/\u003e \u003ctemplateId root=\"1.2.250.1.213.1.1.3.43\"/\u003e \u003cmanufacturedMaterial\u003e \u003ccode code=\"67718545\" codeSystem=\"1.2.250.1.213.2.3.1\" codeSystemName=\"CIS\" displayName=\"VACCIN TETANIQUE PASTEUR, suspension injectable en seringue préremplie vaccin tétanique adsorbé\"\u003e \u003coriginalText\u003e \u003creference value=\"#uuid-0f88f638-469d-400d-86e5-3424e4956b28\"/\u003e \u003c/originalText\u003e \u003ctranslation code=\"J07CA06\" codeSystem=\"2.16.840.1.113883.6.73\" codeSystemName=\"ATC\" displayName=\"Diphtérie - Haemophilus influenzae B - coqueluche - poliomyélite - tétanos\"/\u003e \u003ctranslation code=\"3400932857241\" codeSystem=\"1.2.250.1.213.2.3.2\" codeSystemName=\"Nomenclature CIP\" displayName=\"1 seringue(s) préremplie(s) en verre de 0,5 ml\"/\u003e \u003c/code\u003e \u003cname\u003evaccin tetanique pasteur\u003c/name\u003e \u003clotNumberText\u003e870343\u003c/lotNumberText\u003e \u003c/manufacturedMaterial\u003e \u003c/manufacturedProduct\u003e \u003c/consumable\u003e \u003cperformer typeCode=\"PRF\"\u003e \u003ctime/\u003e \u003cassignedEntity\u003e \u003cid extension=\"3380784801/123456\" root=\"1.2.250.1.71.4.2.1\"/\u003e \u003ccode code=\"G15_10/SM26\" codeSystem=\"1.2.250.1.213.1.1.4.5\" displayName=\"Médecin - Qualifié en Médecine Générale (SM)\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003cassignedPerson\u003e \u003cname\u003e \u003cgiven\u003eVIRGINIE\u003c/given\u003e \u003cfamily\u003eMEDECIN RPPS0022297\u003c/family\u003e \u003c/name\u003e \u003c/assignedPerson\u003e \u003crepresentedOrganization\u003e \u003cid extension=\"1380784801\" root=\"1.2.250.1.71.4.2.2\"/\u003e \u003cname\u003ecentre de dialyse\u003c/name\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003cstandardIndustryClassCode code=\"AMBULATOIRE\" codeSystem=\"1.2.250.1.213.1.1.4.9\" displayName=\"Ambulatoire\"/\u003e \u003c/representedOrganization\u003e \u003c/assignedEntity\u003e \u003c/performer\u003e \u003cauthor\u003e \u003ctime value=\"20221029\"/\u003e \u003cassignedAuthor\u003e \u003cid extension=\"3380784801/123456\" root=\"1.2.250.1.71.4.2.1\"/\u003e \u003ccode code=\"G15_10/SM26\" codeSystem=\"1.2.250.1.213.1.1.4.5\" displayName=\"Médecin - Qualifié en Médecine Générale (SM)\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003cassignedPerson\u003e \u003cname\u003e \u003cgiven\u003eVIRGINIE\u003c/given\u003e \u003cfamily\u003eMEDECIN RPPS0022297\u003c/family\u003e \u003c/name\u003e \u003c/assignedPerson\u003e \u003crepresentedOrganization\u003e \u003cid extension=\"1380784801\" root=\"1.2.250.1.71.4.2.2\"/\u003e \u003cname\u003ecentre de dialyse\u003c/name\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003c/representedOrganization\u003e \u003c/assignedAuthor\u003e \u003c/author\u003e \u003centryRelationship typeCode=\"SUBJ\"\u003e \u003cobservation classCode=\"OBS\" moodCode=\"EVN\"\u003e \u003ctemplateId root=\"2.16.840.1.113883.10.20.1.46\"/\u003e \u003ctemplateId root=\"1.2.250.1.213.1.1.3.82\"/\u003e \u003ccode code=\"30973-2\" codeSystem=\"2.16.840.1.113883.6.1\" codeSystemName=\"LOINC\" displayName=\"Rang de la vaccination\"/\u003e \u003cstatusCode code=\"completed\"/\u003e \u003cvalue value=\"2\" xsi:type=\"INT\"/\u003e \u003c/observation\u003e \u003c/entryRelationship\u003e \u003centryRelationship typeCode=\"SUBJ\"\u003e \u003cact classCode=\"ACT\" moodCode=\"EVN\"\u003e \u003ctemplateId root=\"2.16.840.1.113883.10.20.1.40\"/\u003e \u003ctemplateId root=\"1.3.6.1.4.1.19376.1.5.3.1.4.2\"/\u003e \u003ccode code=\"48767-8\" codeSystem=\"2.16.840.1.113883.6.1\" codeSystemName=\"LOINC\" displayName=\"Commentaire\"/\u003e \u003ctext\u003e \u003creference value=\"#uuid-1f57e117-0315-4f13-9079-028126f29e84\"/\u003e Commentaire de la vaccination\u003c/text\u003e \u003cstatusCode code=\"completed\"/\u003e \u003c/act\u003e \u003c/entryRelationship\u003e \u003c/substanceAdministration\u003e Le support de la note de vaccination dans la DevBox-Santé vous affranchit de la génération de ces deux structures ainsi que d’en gérer les liens entre ces deux structures.\nDans le modèle de la DevBox-Santé une note de vaccination est :\n\"vaccination\": { \"id\": \"be9fdb2a-af27-47e0-92da-a00628f640e0\", \"code\": { \"valeur\": \"INITIMMUNIZ\", \"identifiantNomenclature\": \"2.16.840.1.113883.5.4\", \"libelle\": \"1ère série vaccinante\", }, \"status\": \"completed\", \"dateTimeAdministration\": \"2022-11-10T12:18:44.982Z\", \"doseAdministree\": { \"value\": \"1\" }, \"voieAdministration\": { \"valeur\": \"IM\", \"identifiantNomenclature\": \"2.16.840.1.113883.5.112\", \"libelle\": \"intra musculaire\", }, \"regionAdministration\": { \"valeur\": \"LD\", \"identifiantNomenclature\": \"2.16.840.1.113883.5.1052\", \"libelle\": \"Deltoïde gauche\", }, \"consommable\": { \"nom\": \"vaccin tetanique pasteur\", \"code\": { \"valeur\": \"67718545\", \"identifiantNomenclature\": \"1.2.250.1.213.2.3.1\", \"libelle\": \"VACCIN TETANIQUE PASTEUR, suspension injectable en seringue préremplie vaccin tétanique adsorbé\", }, \"traductions\": [ { \"valeur\": \"J07CA06\", \"identifiantNomenclature\": \"2.16.840.1.113883.6.73\", \"libelle\": \"Diphtérie - Haemophilus influenzae B - coqueluche - poliomyélite - tétanos\", }, { \"valeur\": \"3400932857241\", \"identifiantNomenclature\": \"1.2.250.1.213.2.3.2\", \"libelle\": \"1 seringue(s) préremplie(s) en verre de 0,5 ml\", } ], \"numeroLot\": \"926018\" } } En Java Pour génerer un CDA note de vaccination et le soumettre dans le DMP avec l’API Java, il faut initialiser une DMPCNoteVaccination à l’aide de son builder puis l’associer comme tout autre document à une requête de soumission :\nZonedDateTime now = clock.getUtc(); var noteVaccination = DMPCNoteVaccination.builder() .legalAuthenticator(auteur) .patient(patient) .confidentialities(List.of(\"N\")) .practiceSetting(\"AMBULATOIRE\") .creationDateTime(now) .serviceStartDateTime(now.minusHours(3)) .serviceStopDateTime(now.minusHours(2)) .vaccination(DMPCNoteVaccination.Vaccination.builder() .id(UUID.randomUUID().toString()) .code(DMPCCode.builder().valeur(\"INITIMMUNIZ\").identifiantNomenclature(Oids.HL7_2_16_840_1_113883._5_4_ACT_CODE.val()).libelle(\"1ère série vaccinante\").build()) .status(\"completed\") .dateTimeAdministration(document.getCreationDateTime().minusHours(2)) .voieAdministration(DMPCCode.builder().valeur(\"IM\").identifiantNomenclature(Oids.HL7_2_16_840_1_113883._5_112_ROUTE_OF_ADMINISTRATION.val()).libelle(\"intra musculaire\").build()) .regionAdministration(DMPCCode.builder().valeur(\"LD\").identifiantNomenclature(Oids.HL7_2_16_840_1_113883._5_1052_HUMAN_SUBSTANCE_ADMINISTRATION_SITE.val()).libelle(\"Deltoïde gauche\").build()) .doseAdministree(DMPCCorpsStructure.Mesure.builder().valeur(\"1\").build()) .consommable(DMPCCorpsStructure.Consommable.builder() .code(DMPCCode.builder().valeur(\"67718545\").identifiantNomenclature(Oids.ANS_1_2_250_1_213._2_3_1_CIS.val()).libelle(\"VACCIN TETANIQUE PASTEUR, suspension injectable en seringue préremplie vaccin tétanique adsorbé\").build()) .traduction(DMPCCode.builder().valeur(\"J07CA06\").identifiantNomenclature(Oids.HL7_2_16_840_1_113883._6_73_ATC.val()).libelle(\"Diphtérie - Haemophilus influenzae B - coqueluche - poliomyélite - tétanos\").build()) .traduction(DMPCCode.builder().valeur(\"3400932857241\").identifiantNomenclature(Oids.ANS_1_2_250_1_213._2_3_2_CIP.val()).libelle(\"1 seringue(s) préremplie(s) en verre de 0,5 ml\").build()) .nom(\"vaccin tetanique pasteur\") .numeroLot(\"123456\") .build() ) .auteur(DMPCParticipation.builder().personnelSante(auteur).build()) .executant(DMPCParticipation.builder().personnelSante(executant).build()) .rangVaccination(DMPCCorpsStructure.Mesure.builder().valeur(\"1\").build()) .commentaire(\"Commentaire de la vaccination\") .build() ).build(); client.td21SubmitDocuments(context, new TD21Request(DMPCSoumission.builder() .document(noteVaccination) .title(\"Exemple de soumission wrapped\") .contentType(\"04\") .patient(patient).build())); Via l’API REST En Rest, il faut préciser le type de document DMP soumis via dmpcType: \"NOTE_VAC\" et fournir les informations json\ncurl --location --request POST 'http://127.0.0.1:8080/dmp/td21SubmitDocuments' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"context\": { ... }, \"request\": { \"submission\": { \"title\": \"soumission d'un document wrapped\", \"contentType\": \"04\", \"patient\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" } }, \"documents\": [ { \"dmpcType\": \"NOTE_VAC\", \"patient\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" } }, \"classCode\": \"52\", \"confidentialities\": [ \"N\" ], \"creationDateTime\": \"2022-11-10T14:18:44.982Z\", \"format\": \"urn:asip:ci-sis:vac-note:2021\", \"practiceSetting\": \"AMBULATOIRE\", \"serviceStartDateTime\": \"2022-11-10T11:18:44.982Z\", \"serviceStopDateTime\": \"2022-11-10T12:18:44.982Z\", \"type\": \"87273-9\", \"versionNumber\": 1, \"vaccination\": { \"id\": \"be9fdb2a-af27-47e0-92da-a00628f640e0\", \"code\": { \"valeur\": \"INITIMMUNIZ\", \"identifiantNomenclature\": \"2.16.840.1.113883.5.4\", \"libelle\": \"1ère série vaccinante\", }, \"status\": \"completed\", \"dateTimeAdministration\": \"2022-11-10T12:18:44.982Z\", \"doseAdministree\": { \"value\": \"1\" }, \"voieAdministration\": { \"valeur\": \"IM\", \"identifiantNomenclature\": \"2.16.840.1.113883.5.112\", \"libelle\": \"intra musculaire\", }, \"regionAdministration\": { \"valeur\": \"LD\", \"identifiantNomenclature\": \"2.16.840.1.113883.5.1052\", \"libelle\": \"Deltoïde gauche\", }, \"consommable\": { \"nom\": \"vaccin tetanique pasteur\", \"code\": { \"valeur\": \"67718545\", \"identifiantNomenclature\": \"1.2.250.1.213.2.3.1\", \"libelle\": \"VACCIN TETANIQUE PASTEUR, suspension injectable en seringue préremplie vaccin tétanique adsorbé\", }, \"traductions\": [ { \"valeur\": \"J07CA06\", \"identifiantNomenclature\": \"2.16.840.1.113883.6.73\", \"libelle\": \"Diphtérie - Haemophilus influenzae B - coqueluche - poliomyélite - tétanos\", }, { \"valeur\": \"3400932857241\", \"identifiantNomenclature\": \"1.2.250.1.213.2.3.2\", \"libelle\": \"1 seringue(s) préremplie(s) en verre de 0,5 ml\", } ], \"numeroLot\": \"926018\" }, \"executant\": { \"personnelSante\": { ... } }, \"auteur\": { \"personnelSante\": { ... } }, \"rangVaccination\": { \"value\": \"2\" }, \"commentaire\": \"Commentaire de la vaccination\" } } ] } } } Remplacement d’une note de vaccination Le remplacement d’une note de vaccination est identique au remplacement d’un document à l’exception près qu’il faut préciser la même idVaccination dans la vaccination. remplaçante.\nEX_2.1-2030 : Les identifiants des vaccinations (i.e. identifiant des entry/substanceAdministration) dans les notes de vaccination doivent être générés de manière « mondialement unique », via un UUID (voir https://fr.wikipedia.org/wiki/Universally_unique_identifier) dans l’attribut id/@root seulement. Cet identifiant sert ensuite à retrouver la vaccination dans l’historique de vaccinations lors de sa mise à jour par le SI DMP. Il ne doit donc jamais rentrer en conflit avec l’identifiant d’une autre vaccination.\nL’identifiant de vaccination est donc utile au DMP pour la bonne génération de l’historique de vaccinations.\nNomenclatures utilisées Consommable Les consommables décrivant le vaccin doivent utiliser des nomenclatures spécifiques telle que la CIS, la CIP et l’ATC dans les conditions définies par le guide d’intégration. Elles sont liées aux bases de données scientifiques et nomenclatures standards. Pour plus de renseignements, allez vers https://base-donnees-publique.medicaments.gouv.fr/ ou encore https://smt.esante.gouv.fr/ . Pour information, dans l’annuaire DevBox-Santé, nous proposons un moteur de recherche dans ces nomenclatures accessibles par API.\nType de vaccination, région et voie d’administration Ces jeux de valeurs sont directement accessibles depuis les APIs de la DevBox-Santé DMP :\nHistorique de Vaccinations L’historique de vaccinations peut être récupéré un un seul aller retour grâce à un nouveau point d’entrée dans l’API :\nEn Java : public interface DMPCClient { //... TD32Response td31_32findAndRetrieve(DMPCContext context, TD31Request.FindHistoriqueVaccinations request) } En REST curl -X POST \"http://localhost:8080/dmp/td31_32FindAndRetrieveContent\" -H \"accept: */*\" -H \"Content-Type: application/json\" -d \"{ \\\"context\\\": { \\\"author\\\": { }, \\\"modeAcces\\\": { \\\"acces\\\": \\\"NORMAL\\\" } }, \\\"request\\\": { \\\"matriculeINS\\\": { \\\"identifiantSysteme\\\": \\\"string\\\", \\\"valeur\\\": \\\"string\\\" }, \\\"query\\\": \\\"FindDocuments\\\" }}\" La réponse retourné contiendra le document CDA généré par le serveur DMP, le rendu HTML mais aussi et surtout un DMPCHistoriqueVaccinations retournant une liste de vaccination dans le même format que la vaccination envoyé dans une DMPCNoteVaccination.\npublic class DMPCHistoriqueVaccinations extends DMPCDocument { //... List\u003cDMPCNoteVaccination.Vaccination\u003e vaccinations; } Voici un exemple d’historique de vaccinations retourné : historique_vaccinations.json\n","categories":"","description":"Support des Notes et Historiques de Vaccination défini dans le Cadre d’Intéropérablité SIS de l’ANS\n","excerpt":"Support des Notes et Historiques de Vaccination défini dans le Cadre …","ref":"/5.x/dmp/cda/vaccination/","tags":"","title":"Vaccinations : Note et Historiques"},{"body":"@Since DMP-5.0\nNote de vaccination Il est possible désormais de soumettre des notes de vaccinations dans le DMP et d’en récupérer l’historique simplement. Les spécifications de ce volet vaccination sont disponibles sur le site de l’ANS : https://esante.gouv.fr/volet-vac-vaccination\nDescription Générer une Note de Vaccination (cda_note_vaccination.xml) consiste à générer une entête similaire à l’ensemble des volets définis par le CI-SIS dont le volet à structuration minimale, mais aussi un corps dit structuré contenant une et une seule note de vaccination. Cette section structurée est composée de deux parties.\nUne partie commentaire lisible en html facilement transposable avec une feuille de style XSLT: \u003ctext\u003e \u003ctable border=\"1\"\u003e \u003cthead align=\"center\"\u003e \u003ctr\u003e \u003cth align=\"center\"\u003eDate de l'acte\u003c/th\u003e \u003cth align=\"center\"\u003eNom du vaccin\u003c/th\u003e \u003cth align=\"center\"\u003eType d'administration\u003c/th\u003e \u003cth align=\"center\"\u003eNuméro de lot\u003c/th\u003e \u003cth align=\"center\"\u003eVoie d'administration\u003c/th\u003e \u003cth align=\"center\"\u003eSite d'administration\u003c/th\u003e \u003cth align=\"center\"\u003eVaccinateur\u003c/th\u003e \u003cth align=\"center\"\u003eVaccin ajouté ou modifié par\u003c/th\u003e \u003cth align=\"center\"\u003eCommentaire\u003c/th\u003e \u003c/tr\u003e \u003c/thead\u003e \u003ctbody\u003e \u003ctr ID=\"uuid-87dd18c7-a980-43f7-93bd-2b6620aa8c80\"\u003e \u003ctd align=\"left\"\u003e29/10/2022\u003c/td\u003e \u003ctd ID=\"uuid-0f88f638-469d-400d-86e5-3424e4956b28\" align=\"left\"\u003eVACCIN TETANIQUE PASTEUR, suspension injectable en seringue préremplie vaccin tétanique adsorbé\u003c/td\u003e \u003ctd align=\"left\"\u003e1ère série vaccinante - 2\u003c/td\u003e \u003ctd align=\"left\"\u003e870343\u003c/td\u003e \u003ctd align=\"left\"\u003eintra musculaire\u003c/td\u003e \u003ctd ID=\"uuid-d4657f99-d007-4429-a9ae-3787abb26e20\" align=\"left\"\u003eLD\u003c/td\u003e \u003ctd align=\"left\"\u003eDr MEDECIN RPPS0022297 VIRGINIE - Médecin - Qualifié en Médecine Générale (SM)\u003c/td\u003e \u003ctd align=\"left\"\u003eDr MEDECIN RPPS0022297 VIRGINIE - Médecin - Qualifié en Médecine Générale (SM)\u003c/td\u003e \u003ctd ID=\"uuid-1f57e117-0315-4f13-9079-028126f29e84\" align=\"left\"\u003eCommentaire de la vaccination\u003c/td\u003e \u003c/tr\u003e \u003c/tbody\u003e \u003c/table\u003e \u003c/text\u003e une partie structurée interprétable par la machine : \u003csubstanceAdministration classCode=\"SBADM\" moodCode=\"EVN\" negationInd=\"false\"\u003e \u003ctemplateId root=\"2.16.840.1.113883.10.20.1.24\"/\u003e \u003ctemplateId root=\"1.3.6.1.4.1.19376.1.5.3.1.4.12\"/\u003e \u003ctemplateId root=\"1.2.250.1.213.1.1.3.45\"/\u003e \u003cid root=\"0e2111cf-44fd-4ed3-a5bd-0a19de0faa2a\"/\u003e \u003ccode code=\"INITIMMUNIZ\" codeSystem=\"2.16.840.1.113883.5.4\" codeSystemName=\"HL7:ActCode\" displayName=\"1ère série vaccinante\"/\u003e \u003ctext\u003e \u003creference value=\"#uuid-87dd18c7-a980-43f7-93bd-2b6620aa8c80\"/\u003e \u003c/text\u003e \u003cstatusCode code=\"completed\"/\u003e \u003ceffectiveTime value=\"20221029\"/\u003e \u003crouteCode code=\"IM\" codeSystem=\"2.16.840.1.113883.5.112\" codeSystemName=\"routeOfAdministration\" displayName=\"intra musculaire\"/\u003e \u003capproachSiteCode code=\"LD\" codeSystem=\"2.16.840.1.113883.5.1052\" codeSystemName=\"HumanSubstanceAdministrationSite\" displayName=\"LD\"\u003e \u003coriginalText\u003e \u003creference value=\"#uuid-d4657f99-d007-4429-a9ae-3787abb26e20\"/\u003e \u003c/originalText\u003e \u003c/approachSiteCode\u003e \u003cdoseQuantity value=\"1\"/\u003e \u003cconsumable typeCode=\"CSM\"\u003e \u003cmanufacturedProduct\u003e \u003ctemplateId root=\"2.16.840.1.113883.10.20.1.53\"/\u003e \u003ctemplateId root=\"1.3.6.1.4.1.19376.1.5.3.1.4.7.2\"/\u003e \u003ctemplateId root=\"1.2.250.1.213.1.1.3.43\"/\u003e \u003cmanufacturedMaterial\u003e \u003ccode code=\"67718545\" codeSystem=\"1.2.250.1.213.2.3.1\" codeSystemName=\"CIS\" displayName=\"VACCIN TETANIQUE PASTEUR, suspension injectable en seringue préremplie vaccin tétanique adsorbé\"\u003e \u003coriginalText\u003e \u003creference value=\"#uuid-0f88f638-469d-400d-86e5-3424e4956b28\"/\u003e \u003c/originalText\u003e \u003ctranslation code=\"J07CA06\" codeSystem=\"2.16.840.1.113883.6.73\" codeSystemName=\"ATC\" displayName=\"Diphtérie - Haemophilus influenzae B - coqueluche - poliomyélite - tétanos\"/\u003e \u003ctranslation code=\"3400932857241\" codeSystem=\"1.2.250.1.213.2.3.2\" codeSystemName=\"Nomenclature CIP\" displayName=\"1 seringue(s) préremplie(s) en verre de 0,5 ml\"/\u003e \u003c/code\u003e \u003cname\u003evaccin tetanique pasteur\u003c/name\u003e \u003clotNumberText\u003e870343\u003c/lotNumberText\u003e \u003c/manufacturedMaterial\u003e \u003c/manufacturedProduct\u003e \u003c/consumable\u003e \u003cperformer typeCode=\"PRF\"\u003e \u003ctime/\u003e \u003cassignedEntity\u003e \u003cid extension=\"3380784801/123456\" root=\"1.2.250.1.71.4.2.1\"/\u003e \u003ccode code=\"G15_10/SM26\" codeSystem=\"1.2.250.1.213.1.1.4.5\" displayName=\"Médecin - Qualifié en Médecine Générale (SM)\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003cassignedPerson\u003e \u003cname\u003e \u003cgiven\u003eVIRGINIE\u003c/given\u003e \u003cfamily\u003eMEDECIN RPPS0022297\u003c/family\u003e \u003c/name\u003e \u003c/assignedPerson\u003e \u003crepresentedOrganization\u003e \u003cid extension=\"1380784801\" root=\"1.2.250.1.71.4.2.2\"/\u003e \u003cname\u003ecentre de dialyse\u003c/name\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003cstandardIndustryClassCode code=\"AMBULATOIRE\" codeSystem=\"1.2.250.1.213.1.1.4.9\" displayName=\"Ambulatoire\"/\u003e \u003c/representedOrganization\u003e \u003c/assignedEntity\u003e \u003c/performer\u003e \u003cauthor\u003e \u003ctime value=\"20221029\"/\u003e \u003cassignedAuthor\u003e \u003cid extension=\"3380784801/123456\" root=\"1.2.250.1.71.4.2.1\"/\u003e \u003ccode code=\"G15_10/SM26\" codeSystem=\"1.2.250.1.213.1.1.4.5\" displayName=\"Médecin - Qualifié en Médecine Générale (SM)\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003cassignedPerson\u003e \u003cname\u003e \u003cgiven\u003eVIRGINIE\u003c/given\u003e \u003cfamily\u003eMEDECIN RPPS0022297\u003c/family\u003e \u003c/name\u003e \u003c/assignedPerson\u003e \u003crepresentedOrganization\u003e \u003cid extension=\"1380784801\" root=\"1.2.250.1.71.4.2.2\"/\u003e \u003cname\u003ecentre de dialyse\u003c/name\u003e \u003ctelecom nullFlavor=\"NASK\"/\u003e \u003caddr nullFlavor=\"NASK\"/\u003e \u003c/representedOrganization\u003e \u003c/assignedAuthor\u003e \u003c/author\u003e \u003centryRelationship typeCode=\"SUBJ\"\u003e \u003cobservation classCode=\"OBS\" moodCode=\"EVN\"\u003e \u003ctemplateId root=\"2.16.840.1.113883.10.20.1.46\"/\u003e \u003ctemplateId root=\"1.2.250.1.213.1.1.3.82\"/\u003e \u003ccode code=\"30973-2\" codeSystem=\"2.16.840.1.113883.6.1\" codeSystemName=\"LOINC\" displayName=\"Rang de la vaccination\"/\u003e \u003cstatusCode code=\"completed\"/\u003e \u003cvalue value=\"2\" xsi:type=\"INT\"/\u003e \u003c/observation\u003e \u003c/entryRelationship\u003e \u003centryRelationship typeCode=\"SUBJ\"\u003e \u003cact classCode=\"ACT\" moodCode=\"EVN\"\u003e \u003ctemplateId root=\"2.16.840.1.113883.10.20.1.40\"/\u003e \u003ctemplateId root=\"1.3.6.1.4.1.19376.1.5.3.1.4.2\"/\u003e \u003ccode code=\"48767-8\" codeSystem=\"2.16.840.1.113883.6.1\" codeSystemName=\"LOINC\" displayName=\"Commentaire\"/\u003e \u003ctext\u003e \u003creference value=\"#uuid-1f57e117-0315-4f13-9079-028126f29e84\"/\u003e Commentaire de la vaccination\u003c/text\u003e \u003cstatusCode code=\"completed\"/\u003e \u003c/act\u003e \u003c/entryRelationship\u003e \u003c/substanceAdministration\u003e Le support de la note de vaccination dans la DevBox-Santé vous affranchit de la génération de ces deux structures ainsi que d’en gérer les liens entre ces deux structures.\nDans le modèle de la DevBox-Santé une note de vaccination est :\n\"vaccination\": { \"id\": \"be9fdb2a-af27-47e0-92da-a00628f640e0\", \"code\": { \"valeur\": \"INITIMMUNIZ\", \"identifiantNomenclature\": \"2.16.840.1.113883.5.4\", \"libelle\": \"1ère série vaccinante\", }, \"status\": \"completed\", \"dateTimeAdministration\": \"2022-11-10T12:18:44.982Z\", \"doseAdministree\": { \"value\": \"1\" }, \"voieAdministration\": { \"valeur\": \"IM\", \"identifiantNomenclature\": \"2.16.840.1.113883.5.112\", \"libelle\": \"intra musculaire\", }, \"regionAdministration\": { \"valeur\": \"LD\", \"identifiantNomenclature\": \"2.16.840.1.113883.5.1052\", \"libelle\": \"Deltoïde gauche\", }, \"consommable\": { \"nom\": \"vaccin tetanique pasteur\", \"code\": { \"valeur\": \"67718545\", \"identifiantNomenclature\": \"1.2.250.1.213.2.3.1\", \"libelle\": \"VACCIN TETANIQUE PASTEUR, suspension injectable en seringue préremplie vaccin tétanique adsorbé\", }, \"traductions\": [ { \"valeur\": \"J07CA06\", \"identifiantNomenclature\": \"2.16.840.1.113883.6.73\", \"libelle\": \"Diphtérie - Haemophilus influenzae B - coqueluche - poliomyélite - tétanos\", }, { \"valeur\": \"3400932857241\", \"identifiantNomenclature\": \"1.2.250.1.213.2.3.2\", \"libelle\": \"1 seringue(s) préremplie(s) en verre de 0,5 ml\", } ], \"numeroLot\": \"926018\" } } En Java Pour génerer un CDA note de vaccination et le soumettre dans le DMP avec l’API Java, il faut initialiser une DMPCNoteVaccination à l’aide de son builder puis l’associer comme tout autre document à une requête de soumission :\nZonedDateTime now = clock.getUtc(); var noteVaccination = DMPCNoteVaccination.builder() .legalAuthenticator(auteur) .patient(patient) .confidentialities(List.of(\"N\")) .practiceSetting(\"AMBULATOIRE\") .creationDateTime(now) .serviceStartDateTime(now.minusHours(3)) .serviceStopDateTime(now.minusHours(2)) .vaccination(DMPCNoteVaccination.Vaccination.builder() .id(UUID.randomUUID().toString()) .code(DMPCCode.builder().valeur(\"INITIMMUNIZ\").identifiantNomenclature(Oids.HL7_2_16_840_1_113883._5_4_ACT_CODE.val()).libelle(\"1ère série vaccinante\").build()) .status(\"completed\") .dateTimeAdministration(document.getCreationDateTime().minusHours(2)) .voieAdministration(DMPCCode.builder().valeur(\"IM\").identifiantNomenclature(Oids.HL7_2_16_840_1_113883._5_112_ROUTE_OF_ADMINISTRATION.val()).libelle(\"intra musculaire\").build()) .regionAdministration(DMPCCode.builder().valeur(\"LD\").identifiantNomenclature(Oids.HL7_2_16_840_1_113883._5_1052_HUMAN_SUBSTANCE_ADMINISTRATION_SITE.val()).libelle(\"Deltoïde gauche\").build()) .doseAdministree(DMPCCorpsStructure.Mesure.builder().valeur(\"1\").build()) .consommable(DMPCCorpsStructure.Consommable.builder() .code(DMPCCode.builder().valeur(\"67718545\").identifiantNomenclature(Oids.ANS_1_2_250_1_213._2_3_1_CIS.val()).libelle(\"VACCIN TETANIQUE PASTEUR, suspension injectable en seringue préremplie vaccin tétanique adsorbé\").build()) .traduction(DMPCCode.builder().valeur(\"J07CA06\").identifiantNomenclature(Oids.HL7_2_16_840_1_113883._6_73_ATC.val()).libelle(\"Diphtérie - Haemophilus influenzae B - coqueluche - poliomyélite - tétanos\").build()) .traduction(DMPCCode.builder().valeur(\"3400932857241\").identifiantNomenclature(Oids.ANS_1_2_250_1_213._2_3_2_CIP.val()).libelle(\"1 seringue(s) préremplie(s) en verre de 0,5 ml\").build()) .nom(\"vaccin tetanique pasteur\") .numeroLot(\"123456\") .build() ) .auteur(DMPCParticipation.builder().personnelSante(auteur).build()) .executant(DMPCParticipation.builder().personnelSante(executant).build()) .rangVaccination(DMPCCorpsStructure.Mesure.builder().valeur(\"1\").build()) .commentaire(\"Commentaire de la vaccination\") .build() ).build(); client.td21SubmitDocuments(context, new TD21Request(DMPCSoumission.builder() .document(noteVaccination) .title(\"Exemple de soumission wrapped\") .contentType(\"04\") .patient(patient).build())); Via l’API REST En Rest, il faut préciser le type de document DMP soumis via dmpcType: \"NOTE_VAC\" et fournir les informations json\ncurl --location --request POST 'http://127.0.0.1:8080/dmp/td21SubmitDocuments' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"context\": { ... }, \"request\": { \"submission\": { \"title\": \"soumission d'un document wrapped\", \"contentType\": \"04\", \"patient\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" } }, \"documents\": [ { \"dmpcType\": \"NOTE_VAC\", \"patient\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" } }, \"classCode\": \"52\", \"confidentialities\": [ \"N\" ], \"creationDateTime\": \"2022-11-10T14:18:44.982Z\", \"format\": \"urn:asip:ci-sis:vac-note:2021\", \"practiceSetting\": \"AMBULATOIRE\", \"serviceStartDateTime\": \"2022-11-10T11:18:44.982Z\", \"serviceStopDateTime\": \"2022-11-10T12:18:44.982Z\", \"type\": \"87273-9\", \"versionNumber\": 1, \"vaccination\": { \"id\": \"be9fdb2a-af27-47e0-92da-a00628f640e0\", \"code\": { \"valeur\": \"INITIMMUNIZ\", \"identifiantNomenclature\": \"2.16.840.1.113883.5.4\", \"libelle\": \"1ère série vaccinante\", }, \"status\": \"completed\", \"dateTimeAdministration\": \"2022-11-10T12:18:44.982Z\", \"doseAdministree\": { \"valeur\": \"1\" }, \"voieAdministration\": { \"valeur\": \"IM\", \"identifiantNomenclature\": \"2.16.840.1.113883.5.112\", \"libelle\": \"intra musculaire\", }, \"regionAdministration\": { \"valeur\": \"LD\", \"identifiantNomenclature\": \"2.16.840.1.113883.5.1052\", \"libelle\": \"Deltoïde gauche\", }, \"consommable\": { \"nom\": \"vaccin tetanique pasteur\", \"code\": { \"valeur\": \"67718545\", \"identifiantNomenclature\": \"1.2.250.1.213.2.3.1\", \"libelle\": \"VACCIN TETANIQUE PASTEUR, suspension injectable en seringue préremplie vaccin tétanique adsorbé\", }, \"traductions\": [ { \"valeur\": \"J07CA06\", \"identifiantNomenclature\": \"2.16.840.1.113883.6.73\", \"libelle\": \"Diphtérie - Haemophilus influenzae B - coqueluche - poliomyélite - tétanos\", }, { \"valeur\": \"3400932857241\", \"identifiantNomenclature\": \"1.2.250.1.213.2.3.2\", \"libelle\": \"1 seringue(s) préremplie(s) en verre de 0,5 ml\", } ], \"numeroLot\": \"926018\" }, \"executant\": { \"personnelSante\": { ... } }, \"auteur\": { \"personnelSante\": { ... } }, \"rangVaccination\": { \"value\": \"2\" }, \"commentaire\": \"Commentaire de la vaccination\" } } ] } } } Remplacement d’une note de vaccination Le remplacement d’une note de vaccination est identique au remplacement d’un document à l’exception près qu’il faut préciser la même idVaccination dans la vaccination. remplaçante.\nEX_2.1-2030 : Les identifiants des vaccinations (i.e. identifiant des entry/substanceAdministration) dans les notes de vaccination doivent être générés de manière « mondialement unique », via un UUID (voir https://fr.wikipedia.org/wiki/Universally_unique_identifier) dans l’attribut id/@root seulement. Cet identifiant sert ensuite à retrouver la vaccination dans l’historique de vaccinations lors de sa mise à jour par le SI DMP. Il ne doit donc jamais rentrer en conflit avec l’identifiant d’une autre vaccination.\nL’identifiant de vaccination est donc utile au DMP pour la bonne génération de l’historique de vaccinations.\nNomenclatures utilisées Consommable Les consommables décrivant le vaccin doivent utiliser des nomenclatures spécifiques telle que la CIS, la CIP et l’ATC dans les conditions définies par le guide d’intégration. Elles sont liées aux bases de données scientifiques et nomenclatures standards. Pour plus de renseignements, allez vers https://base-donnees-publique.medicaments.gouv.fr/ ou encore https://smt.esante.gouv.fr/ . Pour information, dans l’annuaire DevBox-Santé, nous proposons un moteur de recherche dans ces nomenclatures accessibles par API.\nType de vaccination, région et voie d’administration Ces jeux de valeurs sont directement accessibles depuis les APIs de la DevBox-Santé DMP :\nHistorique de Vaccinations L’historique de vaccinations peut être récupéré un un seul aller retour grâce à un nouveau point d’entrée dans l’API :\nEn Java : public interface DMPCClient { //... TD32Response td31_32findAndRetrieve(DMPCContext context, TD31Request.FindHistoriqueVaccinations request) } En REST curl -X POST \"http://localhost:8080/dmp/td31_32FindAndRetrieveContent\" -H \"accept: */*\" -H \"Content-Type: application/json\" -d \"{ \\\"context\\\": { \\\"author\\\": { }, \\\"modeAcces\\\": { \\\"acces\\\": \\\"NORMAL\\\" } }, \\\"request\\\": { \\\"matriculeINS\\\": { \\\"identifiantSysteme\\\": \\\"string\\\", \\\"valeur\\\": \\\"string\\\" }, \\\"query\\\": \\\"FindDocuments\\\" }}\" La réponse retourné contiendra le document CDA généré par le serveur DMP, le rendu HTML mais aussi et surtout un DMPCHistoriqueVaccinations retournant une liste de vaccination dans le même format que la vaccination envoyé dans une DMPCNoteVaccination.\npublic class DMPCHistoriqueVaccinations extends DMPCDocument { //... List\u003cDMPCNoteVaccination.Vaccination\u003e vaccinations; } Voici un exemple d’historique de vaccinations retourné : historique_vaccinations.json\n","categories":"","description":"Support des Notes et Historiques de Vaccination défini dans le Cadre d’Intéropérablité SIS de l’ANS\n","excerpt":"Support des Notes et Historiques de Vaccination défini dans le Cadre …","ref":"/6.x/connecteurs/dmp/cda/vaccination/","tags":"","title":"Vaccinations : Note et Historiques"},{"body":"https://industriels.sesam-vitale.fr/group/maintenances-incidents\n","categories":"","description":"Communications et points d'attention\n","excerpt":"Communications et points d'attention\n","ref":"/communication/","tags":"","title":"Communication"},{"body":"@Since DMP-5.1.0\nL’historique de remboursements est un volet documentaire défini par l’ANS, le Volet CNAM-HR. Le DMP en génère un pour chaque patient.\nIl est donc posseble de récupérer l’historique de remboursements de la CNAM depuis le DMP et de manière structurée :\nMode REST Une simple requête REST :\ncurl --location 'http://HOST:PORT/dmp/td31_32FindAndRetrieveContent' \\ --data '{ \"context\": {}, \"request\": { \"query\": \"FindHistoriqueRemboursements\", \"matriculeINS\": { \"valeur\": \"255069999999934\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.11\" } } }' Vous obtiendrez une réponse ressemblant à cela : cmam_hr.json\nApi Java EN java, c’est encore plus simple :\nvar response = client.td31_32findAndRetrieve(context, TD31Request.FindHistoriqueVaccinations.builder() .matriculeINS(Identifiant.builder() .valeur(\"255069999999934\") .identifiantSysteme(\"1.2.250.1.213.1.4.11\").build()) .build()); DMPCHistoriqueRemboursements historiqueRemboursement = response.getDocument(); Plus d’informations sur l’API DMPc et plus particulièrement, l Historique de Remboursements : https://bitbucket.org/devbox-sante/dmpc-api/src/master/src/main/java/fr/devboxsante/dmp/model/cnam_hr/DMPCHistoriqueRemboursements.java\n","categories":"","description":"Support du volet CNAM-HR Historique de remboursements \n","excerpt":"Support du volet CNAM-HR Historique de remboursements \n","ref":"/5.x/dmp/cda/cnam-hr/","tags":"","title":"CDA CNAM-HR : Historique de remboursements"},{"body":"@Since DMP-5.1.0\nL’historique de remboursements est un volet documentaire défini par l’ANS, le Volet CNAM-HR. Le DMP en génère un pour chaque patient.\nIl est donc posseble de récupérer l’historique de remboursements de la CNAM depuis le DMP et de manière structurée :\nMode REST Une simple requête REST :\ncurl --location 'http://HOST:PORT/dmp/td31_32FindAndRetrieveContent' \\ --data '{ \"context\": {}, \"request\": { \"query\": \"FindHistoriqueRemboursements\", \"matriculeINS\": { \"valeur\": \"255069999999934\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.11\" } } }' Vous obtiendrez une réponse ressemblant à cela : cmam_hr.json\nApi Java EN java, c’est encore plus simple :\nvar response = client.td31_32findAndRetrieve(context, TD31Request.FindHistoriqueVaccinations.builder() .matriculeINS(Identifiant.builder() .valeur(\"255069999999934\") .identifiantSysteme(\"1.2.250.1.213.1.4.11\").build()) .build()); DMPCHistoriqueRemboursements historiqueRemboursement = response.getDocument(); Plus d’informations sur l’API DMPc et plus particulièrement, l Historique de Remboursements : https://bitbucket.org/devbox-sante/dmpc-api/src/master/src/main/java/fr/devboxsante/dmp/model/cnam_hr/DMPCHistoriqueRemboursements.java\n","categories":"","description":"Support du volet CNAM-HR Historique de remboursements \n","excerpt":"Support du volet CNAM-HR Historique de remboursements \n","ref":"/6.x/connecteurs/dmp/cda/cnam-hr/","tags":"","title":"CDA CNAM-HR : Historique de remboursements"},{"body":"Comme toute application spring-boot, la DevBox-Santé DMP se configure au travers du fichier application.yml. Suivant le paradigm Convention Over Configuration, la DevBox-santé DMP peut fonctionner avec un minimum de configuration. Nous pouvons tout de même configurer et changer certains points de configuration.\nLogging Comme la gestion des traces de l’application qui est différente en développement de la production.\nlogging.level: fr.devboxsante: info fr.devcoop: warn org.springframework: error org.apache.cxf.services: info # à mettre à debug pour tracer les messages soaps Spécifique au DMP Les configurations évolutives du DMP sont configurés par défaut, mais elles peuvent être surchargées :\ndevbox-sante: dmp: parameters: # Url du document xml contenant le paramétrage du DMP [FI-URL] url: https://www.dmp.fr/web/dmp/documents/param-lps delayBetweenSyncInHours: 24 document: checkHash: true #serveur de temps time.ntpServer: fr.pool.ntp.org Spécifique à la validation CDA devbox-sante: dmp: # path vers les resources de validation CDA. # la resource peut être récupéré directement depuis le site de esante.gouv.fr ou depuis les resources fournies cda.validator: resourceName: testContenuCDA-3.0-20230901_DMP-356-370.zip # dans le classpath # resourceName: https://installers.devbox-sante.fr/installer/resources/esante.gouv.fr/testContenuCDA-3.0-20230901_DMP-356-370.zip # sur le net charset: ISO-8859-1 La génération des ressources de validation des CDA est dorénavant réalisé depuis des scripts de transformation des sources disponibles sur les sites github de l’ANS : https://github.com/ansforge/TestContenuCDA-3-0 Les équipes de la DevBox-Santé maintiennent à jour un livrable régulièrement sur https://installers.devbox-sante.fr/installer/resources/esante.gouv.fr/\nLes Jeux de Valeurs du DMP Deux modes de chargement disponible pour les nomenclatures (jeux de valeurs) du DMP. En effet, les jeux de valeurs mis à disposition par le GIE Sesam-vitale sont disponibles régulièrement sur le site industriels.sesam-vitale.fr . Parfois certaines valeurs ne sont pas encore disponible de cette manière. Cela impose un autre mode de récupération de ces jeux de valeurs, en allant directement sur le site de l’ANS dédié : https://mos.esante.gouv.fr/NOS. Parfois, c’est le contraire :( .\ndevbox-sante: dmp: nomenclature: mode: # nos : directement sur le site https://mos.esante.gouv.fr/NOS/ zip # zip : jeux de valeurs mis à disposition sur le site industriels du sesam-vitale resourceName: JDV DMP_API_V2_XML.zip # path du fichier zip disponible sur le filesystem / classloader # resourceName: https://installers.devbox-sante.fr/installer/resources/esante.gouv.fr/20231124-JDV_DMP_API_V2_XML.zip #Encodage de caractère utilisé dans ces jeux de valeurs. charset: UTF-8 Les urls du DMP devbox-sante: dmp: url.prefix: # environnement production https://lps-igc-sante.dmp.gouv.fr/ url.web.prefix: # environnement production https://ledmp.dmp.gouv.fr Remarque : pour plus d’informations sur les différents environnements /5.x/dmp/howtos/environnements\nLes informations du LPS homologuée debox-sante: dmp: lpsInfo: homologationId: XXX-xxxxxx-xxx version: x.0 nom: VOTRE_LOGICIEL #Numéro de série ou identifiant de l'installation du logiciel id: 1.2.250.1.287.1.1234567 source: # 1.2.250.1.287 est l'OID de Devcoop # 1.2.250.1.287.1 est l'OID correspondant à la DMPC pour Devcoop idRoot: 1.2.250.1.287.1 # l'idExtension doit prendre pour valeur une valeur unique de l'instance installé EX_2.1-1130 idExtension: 1234567 En pratique il faut assurer une cohérence entre l’idExtension de la source et le dernier composant de l’id du lpsInfo. EX_GEN-1350 et EX_2.1-1130\nSurcharge les LpsInfo dans le header HTTP La configuration du proxy REST contient les informations par défaut de configuration du LPS cf. paragraphe précédent. Il est toutefois possible de surcharger ces valeurs (comme le numeroAutorisation qui peut être confidentiel) en les passant dans les header HTTP des requêtes.\nVoici la liste des informations LPS pouvant etre surchargées :\nInformations LPS Clef dans le header id de l’homologation dmp.lpsInfo.homologationId nom du lps dmp.lpsInfo.nom version du LPS dmp.lpsInfo.version Par exemple :\ncurl -X GET \"http://localhost:8485/insi/rechercheAvecVitale\" -H \"accept: application/json\" -H \"dmp.lpsInfo.homologationId: ÀPréciser\" Différents modes d’authentification Les modes d’authentification supportés par la DevBox-Santé DMP sont les deux demandés dans le guide d’intégration du DMP. Il s’agit du mode d’authentification directe (avec l’usage de la carte CPS) et indirecte (avec l’usage des certificats serveurs). Ils peuvent être mis en œuvre de manière différente.\nAuthentification directe Configuration de la DevBox-santé DMP en authentification directe pour un usage des cartes CPS/CPE pour les authentifications et signatures.\ndevbox-sante: dmp: # authentification directe utilisant les certificats de la carte CPS security.mode: cps Authentification directe : CPS Agent Un mode d’authentification intégrant le module CPS agent se fait de la manière suivante :\ndevbox-sante: dmp: # authentification directe depuis le backend par l'intermédiaire d'un agent CPS sur le poste du client security.mode: withCpsAgent Authentification indirecte Authentification indirecte par l’utilisation des certificats serveurs. Pour en savoir plus sur l’obtention des certificats, suivez cette documentation.\ndevbox-sante: dmp: # authentification indirecte utilisant les certificats p12 serveurs security.mode: p12 # informations relatives au certificat smime smime: p12: path: asip-p12-EL-TEST-ORG-SIGN-xxxx.p12 password: password # informations relatives au certificat ssl ssl: p12: path: asip-p12-EL-TEST-ORG-AUTH_CLI-xxxx.p12 password: password Authentification indirecte : multi-certificats Possibilité de supporter plusieurs certificats pour des établissements géographiques/juridiques différents :\ndevbox-sante: dmp: # authentification indirecte avec certificat nommé security.mode: p12s # informations relatives au certificat smime smime: p12: - name: devcoop-sign path: asip-p12-EL-TEST-ORG-SIGN-20210427-103248.p12 password: password - name: devcoop-sign2 path: autre.p12 password: autrePassword ssl: p12: - name: devcoop-auth path: asip-p12-EL-TEST-ORG-AUTH_CLI-20210427-102425.p12 password: password - name: devcoop-auth2 path: autre_auth.p12 password: autre_authPassword Pour charger dynamiquement les certificats, ssl et smime il suffit de rajouter les noms des certificats (dmpAuthenticationP12.name, dmpSignatureP12.name) dans le header de la requête HTTP :\ncurl -X GET \"http://hostname:port/dmp/td...\" -H \"accept: application/json\" -H \"dmpAuthenticationP12.name: ÀPréciser\" -H \"dmpAuthenticationP12.name: ÀPréciser\" Authentification indirecte : P12 in Header HTTP Le mode p12InHeader permet de faire passer les deux certificats p12 dans l’entête HTTP de la requête, cela permet à l’appelant de conserver et décider des certificats utilisés lors de l’appel du proxy.\nLe header étant plus lourd il faudra veiller à ce que la configuration spring prenne en compte la taille du header d’au moins 40Kb.\nLa configuration application.yml est :\nserver: max-http-header-size: 50KB devbox-sante: dmp: # authentification indirecte avec certificats dans le header HTTP security.mode: p12InHeader Et la requête doit contenir les informations dans le header.\ncurl --location --request POST 'http://localhost:8080/dmp/td21SubmitDocuments' \\ --header 'Content-Type: application/json' \\ --header 'dmpAuthentication.p12: MIIcdAIBAzCCHDo...AA==' \\ --header 'dmpAuthentication.password: PASSWORD' \\ --header 'dmpSignature.p12: MIIcoQIBAzCCH...IAA==' \\ --header 'dmpSignature.password: PASSWORD' \\ --data-raw '{ \"context\": { }, \"request\": { ... } }' Le certificat p12 doit être passé en base64.\nWindows Powershell:\n$cert = get-content 'certificate.p12' -Encoding Byte $base64 = [System.Convert]::ToBase64String($cert) echo $base64 Linux:\nbase64 -w 0 certificate.p12 \u003e outputfile Mac OS:\nbase64 -i certificate.p12 -o outputfile Authentificatino directe Stellair Une page de documentation spécifique se trouve ici : /5.x/dmp/howtos/demo-stellair\n","categories":"","description":"Comment paramètrer le DMP\n","excerpt":"Comment paramètrer le DMP\n","ref":"/5.x/dmp/configuration/","tags":"","title":"Configuration"},{"body":"Comme toute application spring-boot, la DevBox-Santé DMP se configure au travers du fichier application.yml. Suivant le paradigm Convention Over Configuration, la DevBox-santé DMP peut fonctionner avec un minimum de configuration. Nous pouvons tout de même configurer et changer certains points de configuration.\nLogging Comme la gestion des traces de l’application qui est différente en développement de la production.\nlogging.level: fr.devboxsante: info fr.devcoop: warn org.springframework: error org.apache.cxf.services: info # à mettre à debug pour tracer les messages soaps Spécifique au DMP Les configurations évolutives du DMP sont configurés par défaut, mais elles peuvent être surchargées :\ndevbox-sante: dmp: parameters: # Url du document xml contenant le paramétrage du DMP [FI-URL] url: https://www.dmp.fr/web/dmp/documents/param-lps delayBetweenSyncInHours: 24 document: checkHash: true #serveur de temps time.ntpServer: fr.pool.ntp.org Spécifique à la validation CDA devbox-sante: dmp: # path vers les resources de validation CDA. # la resource peut être récupéré directement depuis le site de esante.gouv.fr ou depuis les resources fournies cda.validator: resourceName: testContenuCDA-3.0-20230901_DMP-356-370.zip # dans le classpath # resourceName: https://installers.devbox-sante.fr/installer/resources/esante.gouv.fr/testContenuCDA-3.0-20230901_DMP-356-370.zip # sur le net charset: ISO-8859-1 La génération des ressources de validation des CDA est dorénavant réalisé depuis des scripts de transformation des sources disponibles sur les sites github de l’ANS : https://github.com/ansforge/TestContenuCDA-3-0 Les équipes de la DevBox-Santé maintiennent à jour un livrable régulièrement sur https://installers.devbox-sante.fr/installer/resources/esante.gouv.fr/\nLes Jeux de Valeurs du DMP Deux modes de chargement disponible pour les nomenclatures (jeux de valeurs) du DMP. En effet, les jeux de valeurs mis à disposition par le GIE Sesam-vitale sont disponibles régulièrement sur le site industriels.sesam-vitale.fr . Parfois certaines valeurs ne sont pas encore disponible de cette manière. Cela impose un autre mode de récupération de ces jeux de valeurs, en allant directement sur le site de l’ANS dédié : https://mos.esante.gouv.fr/NOS. Parfois, c’est le contraire :( .\ndevbox-sante: dmp: nomenclature: mode: # nos : directement sur le site https://mos.esante.gouv.fr/NOS/ zip # zip : jeux de valeurs mis à disposition sur le site industriels du sesam-vitale resourceName: JDV DMP_API_V2_XML.zip # path du fichier zip disponible sur le filesystem / classloader # resourceName: https://installers.devbox-sante.fr/installer/resources/esante.gouv.fr/20231124-JDV_DMP_API_V2_XML.zip #Encodage de caractère utilisé dans ces jeux de valeurs. charset: UTF-8 Les urls du DMP devbox-sante: dmp: url.prefix: # environnement production https://lps-igc-sante.dmp.gouv.fr/ url.web.prefix: # environnement production https://ledmp.dmp.gouv.fr Remarque : pour plus d’informations sur les différents environnements /6.x/connecteurs/dmp/howtos/environnements\nLes informations du LPS homologuée debox-sante: dmp: lpsInfo: homologationId: XXX-xxxxxx-xxx version: x.0 nom: VOTRE_LOGICIEL #Numéro de série ou identifiant de l'installation du logiciel id: 1.2.250.1.287.1.1234567 source: # 1.2.250.1.287 est l'OID de Devcoop # 1.2.250.1.287.1 est l'OID correspondant à la DMPC pour Devcoop idRoot: 1.2.250.1.287.1 # l'idExtension doit prendre pour valeur une valeur unique de l'instance installé EX_2.1-1130 idExtension: 1234567 En pratique il faut assurer une cohérence entre l’idExtension de la source et le dernier composant de l’id du lpsInfo. EX_GEN-1350 et EX_2.1-1130\nSurcharge les LpsInfo dans le header HTTP La configuration du proxy REST contient les informations par défaut de configuration du LPS cf. paragraphe précédent. Il est toutefois possible de surcharger ces valeurs (comme le numeroAutorisation qui peut être confidentiel) en les passant dans les header HTTP des requêtes.\nVoici la liste des informations LPS pouvant etre surchargées :\nInformations LPS Clef dans le header id de l’homologation dmp.lpsInfo.homologationId nom du lps dmp.lpsInfo.nom version du LPS dmp.lpsInfo.version Par exemple :\ncurl -X GET \"http://localhost:8485/insi/rechercheAvecVitale\" -H \"accept: application/json\" -H \"dmp.lpsInfo.homologationId: ÀPréciser\" Différents modes d’authentification Les modes d’authentification supportés par la DevBox-Santé DMP sont les deux demandés dans le guide d’intégration du DMP. Il s’agit du mode d’authentification directe (avec l’usage de la carte CPS) et indirecte (avec l’usage des certificats serveurs). Ils peuvent être mis en œuvre de manière différente.\nAuthentification directe Configuration de la DevBox-santé DMP en authentification directe pour un usage des cartes CPS/CPE pour les authentifications et signatures.\ndevbox-sante: dmp: # authentification directe utilisant les certificats de la carte CPS security.mode: cps Authentification indirecte Authentification indirecte par l’utilisation des certificats serveurs. Pour en savoir plus sur l’obtention des certificats, suivez cette documentation.\ndevbox-sante: dmp: # authentification indirecte utilisant les certificats p12 serveurs security.mode: p12 # informations relatives au certificat smime smime: p12: path: asip-p12-EL-TEST-ORG-SIGN-xxxx.p12 password: password # informations relatives au certificat ssl ssl: p12: path: asip-p12-EL-TEST-ORG-AUTH_CLI-xxxx.p12 password: password Authentification indirecte : multi-certificats Possibilité de supporter plusieurs certificats pour des établissements géographiques/juridiques différents :\ndevbox-sante: dmp: # authentification indirecte avec certificat nommé security.mode: p12s # informations relatives au certificat smime smime: p12: - name: devcoop-sign path: asip-p12-EL-TEST-ORG-SIGN-20210427-103248.p12 password: password - name: devcoop-sign2 path: autre.p12 password: autrePassword ssl: p12: - name: devcoop-auth path: asip-p12-EL-TEST-ORG-AUTH_CLI-20210427-102425.p12 password: password - name: devcoop-auth2 path: autre_auth.p12 password: autre_authPassword Pour charger dynamiquement les certificats, ssl et smime il suffit de rajouter les noms des certificats (dmpAuthenticationP12.name, dmpSignatureP12.name) dans le header de la requête HTTP :\ncurl -X GET \"http://hostname:port/dmp/td...\" -H \"accept: application/json\" -H \"dmpAuthenticationP12.name: ÀPréciser\" -H \"dmpAuthenticationP12.name: ÀPréciser\" Authentification indirecte : P12 in Header HTTP Le mode p12InHeader permet de faire passer les deux certificats p12 dans l’entête HTTP de la requête, cela permet à l’appelant de conserver et décider des certificats utilisés lors de l’appel du proxy.\nLe header étant plus lourd il faudra veiller à ce que la configuration spring prenne en compte la taille du header d’au moins 40Kb.\nLa configuration application.yml est :\nserver: max-http-header-size: 50KB devbox-sante: dmp: # authentification indirecte avec certificats dans le header HTTP security.mode: p12InHeader Et la requête doit contenir les informations dans le header.\ncurl --location --request POST 'http://localhost:8080/dmp/td21SubmitDocuments' \\ --header 'Content-Type: application/json' \\ --header 'dmpAuthentication.p12: MIIcdAIBAzCCHDo...AA==' \\ --header 'dmpAuthentication.password: PASSWORD' \\ --header 'dmpSignature.p12: MIIcoQIBAzCCH...IAA==' \\ --header 'dmpSignature.password: PASSWORD' \\ --data-raw '{ \"context\": { }, \"request\": { ... } }' Le certificat p12 doit être passé en base64.\nWindows Powershell:\n$cert = get-content 'certificate.p12' -Encoding Byte $base64 = [System.Convert]::ToBase64String($cert) echo $base64 Linux:\nbase64 -w 0 certificate.p12 \u003e outputfile Mac OS:\nbase64 -i certificate.p12 -o outputfile Authentificatino directe Stellair Une page de documentation spécifique se trouve ici : /6.x/connecteurs/dmp/howtos/demo-stellair\n","categories":"","description":"Comment paramètrer le DMP\n","excerpt":"Comment paramètrer le DMP\n","ref":"/6.x/connecteurs/dmp/configuration/","tags":"","title":"Configuration"},{"body":"Obtenir les logs Les logs sont générés dans un fichier output.log dans le cas d’un installer ou directement dans la console pour une instance docker. Il est donc possible de récupérer les traces SOAP depuis ce fichier de traces, si le niveau de log est assez bas. Consultez la documentation pour le DMP pour plus de renseignements:\n/5.x/dmp/howto/logs\nAdmin Controller (@since 2.8.0) Depuis la version 2.8.0, il est possible de récupérer les traces directement depuis un endpoint spécialisé :\nTout d’abord, en récupérant l’exchangeId de la conversation soap dans le retour de la réponse : Puis en allant dans le controller admin afin de télécharger le fichier de la conversation : ","categories":"","description":"Gestion des traces dans la DevBox-santé DMP\n","excerpt":"Gestion des traces dans la DevBox-santé DMP\n","ref":"/5.x/insi/howtos/logs/","tags":"","title":"Interpreter les logs"},{"body":"Obtenir les logs Les logs sont générés dans un fichier output.log dans le cas d’un installer ou directement dans la console pour une instance docker. Il est donc possible de récupérer les traces SOAP depuis ce fichier de traces, si le niveau de log est assez bas. Consultez la documentation pour le DMP pour plus de renseignements:\n/6.x/connecteurs/dmp/howtos/logs\nAdmin Controller (@since 2.8.0 et 3.0.3) Depuis la version 2.8.0 et 3.0.3, il est possible de récupérer les traces directement depuis un endpoint spécialisé :\nTout d’abord, en récupérant l’exchangeId de la conversation soap dans le retour de la réponse : Puis en allant dans le controller admin afin de télécharger le fichier de la conversation : ","categories":"","description":"Gestion des traces dans la DevBox-santé\n","excerpt":"Gestion des traces dans la DevBox-santé\n","ref":"/6.x/connecteurs/insi/howtos/logs/","tags":"","title":"Interpreter les logs"},{"body":" @startuml !include https://bitbucket.org/devbox-sante/plantuml/raw/current/themes/theme-devbox-sante.puml rectangle \"Application cliente\" as AppCli { rectangle \"Front Application\" as Front #E3F2FD rectangle \"Backend Application\" as Backend #E1F5FE } rectangle \"Proxy eSanté DevBox\\n(IdP)\" as Proxy #FFF3E0 rectangle \"Pro Santé Connect\\n(PSC)\" as PSC #F3E5F5 rectangle \"MS Santé\" as MSSANTE #FBE9E7 rectangle \"Service Espace de confiance\" as TrustService #FBE9E7 ' --- Liaisons principales --- Front -[#green]-\u003e Backend : 1 - Appel MsSanté\\navec Bearer Token Keycloak Backend -[#green]-\u003e Proxy : 2 - Echange Token Keycloak → Token PSC Proxy -[#green]-\u003e PSC : 3 - Validation / Refresh du token PSC PSC -[#green,dashed]-\u003e Proxy : 4 -Renvoie Token PSC Proxy -[#green,dashed]-\u003e Backend : 5 -Renvoie Token PSC Backend -[#green]-\u003e MSSANTE : 6 - Appel MsSanté\\navec Token PSC Front -[#blue]-\u003e Backend : 7 - Appel API EDC\\navec Bearer Token Keycloak Backend -[#blue]-\u003e Proxy : 8 - Appel Api EDC \\navec Bearer Token Keycloak Proxy -[#blue]-\u003e PSC : 9 - Echange Token PSC -\u003e Token EDC PSC -[#blue,dashed]-\u003e Proxy : 10 -Renvoie Token EDC Proxy -[#blue]-\u003e TrustService : 11 - Appel Api EDC \\navec Token EDC ' --- Légende --- legend bottom == Légende == #vert : Appel MSSanté #bleu : Appel Api EDC endlegend @enduml Proxy \u003c-\u003e Keycloak \u003c-\u003e Platine Afin de tester le proxy 2 routes ont été configurées (par la suite ces routes seront configurables via une interface)\nbackend-insi: /send/insi/{endpoint} backend-mockApiPsc: /send/apipsc/{endpoint} Le backend INSI est un service pour l’instant mocké tant que nous n’avons pas accès à l’environnement de test\nLe mockApiPsc est un service de test accessible via les tests platines, l’url de ce dernier change à chaque lancement de la VM sur platine. Vous devez lancer le test Mock Service et récupérer son url. Il faut donc relancer le docker avec la nouvelle url à chaque fois:\nBACKEND_MOCK_API Attention le certificat p12 utilisé pour lancer le Mock Service doit correspondre au certificat du client que vous utilisez. L’IP configuré doit aussi correspondre à celle du proxy.\nPour les clients type LGC, le proxy est configuré pour le POC par défaut avec 2 clients ans-odc-lps1-edc-bas et ans-odc-lps2-edc-bas (par la suite ces clients seront configurables via une interface) Ces 2 clients ont besoin d’un certificat p12 et d’un secret\nPSC_CLIENT_LPS1_SECRET PSC_CLIENT_LPS1_CERT PSC_CLIENT_LPS2_SECRET PSC_CLIENT_LPS2_CERT Il faut monter un volume afin d’accéder à ces certificats sur le file system. Exemple\ndocker run -d --name -p 443:8443 \\ -e 'SPRING_PROFILES_ACTIVE=IDP' \\ -e 'OAUTH2_SERVER_ISSUER=https://eproxy-test.devbox-sante.fr/' \\ -e 'SERVER_PORT=8443' \\ -e 'MONGO_DB_URI=mongodb://mongodb:27017/eProxy' \\ -e 'BACKEND_MOCK_API=https://9055c231-6447-4691-8eab-89588651b9ab.mockservice.platines.esante.gouv.fr' \\ -v /opt/certificat:/certificat -e 'PSC_CLIENT_LPS1_SECRET=secret' \\ -e 'PSC_CLIENT_LPS1_CERT=/certificat/lps1.p12' \\ -e 'PSC_CLIENT_LPS2_SECRET=secret' \\ -e 'PSC_CLIENT_LPS2_CERT=/certificat/lps2.p12' \\ eproxy repo.dev.coop/eproxy/eproxy-idp-poc:latest https Le proxy peut être configuré en SSL\nSSl_ENABLED: true/false (par défaut false) KEYSTORE_CERTIFICAT_PATH KEYSTORE_KEY_PATH SERVER_DOMAIN pour la génération du certificat autosigné ou via let’s encrypt Exemple en partageant un volume:\n-e 'SSl_ENABLED=true' -v /etc/ssl/eproxy-test:/etc/ssl/eproxy-test -e 'KEYSTORE_KEY_PATH=/etc/ssl/eproxy-test/privkey.pem' -e 'KEYSTORE_CERTIFICAT_PATH=/etc/ssl/eproxy-test/fullchain.crt' -e 'SERVER_DOMAIN=eproxy-test.devbox-sante.fr' Si les certificats ne sont pas présents, le proxy génère des certificats auto-signés.\nSi votre fournisseur de nom de domaine est compatible avec ACME, il est également possible de générer les certificats avec Let’s Encrypt en ajoutant aux précédents paramètres la configuration acme:\n-e 'SPRING_PROFILES_ACTIVE=IDP,letsEncrypt' -e 'GANDI_KEY=$GANDI_KEY' Backend LGC \u003c-\u003e Proxy Token exchange Afin d’obtenir le token de PSC pour notamment la MSS, le proxy dispose du service suivant:\nGET /token Host: mon-proxy.com Authorisation: Bearer Keycloak token Réponse:\n{ \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\", \"id_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...\" } Si le token est expiré, le service effectue automatiquement le refresh afin d’envoyer la réponse\nAppel service Espace de confiance Les services de l’EDC sont définis dans la configuration\nExemple:\n- id: backend-mockApiPsc uri: ${BACKEND_MOCK_API:https://9055c231-6447-4691-8eab-89588651b9ab.mockservice.platines.esante.gouv.fr} predicates: - Path=/send/apipsc/{endpoint} filters: - SetPath=/mockservice/apipsc/{endpoint} Ainsi pour appeler ce service, il faut utiliser le path défini:\nPOST/GET /send/apipsc/{endpoint} Host: mon-proxy.com Authorisation: Bearer Keycloak token ce qui aura pour effet d’appeler:\nhttps://9055c231-6447-4691-8eab-89588651b9ab.mockservice.platines.esante.gouv.fr/mockservice/apipsc/{endpoint} avec le token obtenu par le proxy à partir du token PSC.\nScalabilité / Redis Afin de pouvoir déployer plusieurs proxy, la session du proxy doit pouvoir être partagé entre les différentes instances. Redis a été mis en place pour partager les sessions.\nPour activer redis:\nSPRING_PROFILES_ACTIVE: redis REDIS_HOST: localhost par défaut REDIS_PORT: 6379 par défaut Exemple :\n-e 'SPRING_PROFILES_ACTIVE=IDP,redis' -e 'REDIS_HOST=localhost' -e 'REDIS_PORT=6379' ","categories":"","description":"Services de l'Espace de confiance et la MsSanté\n","excerpt":"Services de l'Espace de confiance et la MsSanté\n","ref":"/6.x/plateformes/eproxy/howtos/keycloak/edc/","tags":"","title":"Services EDC / MsSanté"},{"body":"Voir la page dédiée du DevBox-Santé agent\n","categories":"","description":"Authentification directe en lien par WebSocket avec le backend de la DevBox-Santé\n","excerpt":"Authentification directe en lien par WebSocket avec le backend de la …","ref":"/6.x/connecteurs/dmp/authentifications/dbxagent/","tags":"","title":"Directe avec l'agent DevBox-Santé"},{"body":"","categories":"","description":"","excerpt":"","ref":"/6.x/connecteurs/dmp/howtos/","tags":"","title":"Howtos"},{"body":"","categories":"","description":"Déclinaisons des différents composants en plateformes logiciels\n","excerpt":"Déclinaisons des différents composants en plateformes logiciels\n","ref":"/6.x/plateformes/","tags":"","title":"Plateformes"},{"body":"","categories":"","description":"","excerpt":"","ref":"/5.x/dmp/howtos/","tags":"","title":"Howtos"},{"body":"","categories":"","description":"","excerpt":"","ref":"/5.x/ms-sante/howtos/","tags":"","title":"Howtos"},{"body":"","categories":"","description":"","excerpt":"","ref":"/6.x/connecteurs/ms-sante/howtos/","tags":"","title":"Howtos"},{"body":"La DevBox-santé Mobilité intègre le téléservice ApCV authentifierUtilisateurProximite en proposant une API Java ou Rest simple à intégrer. Le guide d’intégration de ce téléservice est : ApCV-MP-001 - GI Demander l'authentification et gérer le contexte ApCV v1.3.pdf\nElle vous permet :\nl’authentification par carte CPS la lecture NFC de l’application mobile la lecture du QRCode l’appel au téléservice INS En java authentifierUtilisateurProximite ApCV01AuthentificationRequest request = ApCV01AuthentificationRequest.builder().requestContext(ApCVRequestContext.builder() .professionnelSante(ApCVRequestContext.ProfessionnelSante.builder() .specialite(SPECIALITE) .build()) .structure(ApCVRequestContext.StructureSante.builder().identifiantFacturation(identifiantFacturation).build()) .build()) .donnees(donnees.getBytes()) .build(); ApCV01AuthentificationResponse response = client.authentifierUtilisateurProximite(request); restituerContexteApCV final ApCV02RestitutionResponse restitution = client.restituerContexteApCV(ApCV02RestitutionRequest.builder() .requestContext(request.getRequestContext()) .build() ); detruireContexteApCV final ApCV03DestructionResponse destruction = client.detruireContexteApCV(ApCV03DestructionRequest.builder() .requestContext(request.getRequestContext()) .identifiant(response.getContexte().getIdentifiant()) .build() ); ","categories":"","description":"La DevBox-Santé mobilité ApCV\n","excerpt":"La DevBox-Santé mobilité ApCV\n","ref":"/6.x/connecteurs/apcv/","tags":"","title":"ApCV"},{"body":"@Since DMP-4.7.0\nIl est possible que vous souhaitiez maîtriser la génération du document CDA, et que vous souhaitiez seulement déléguer l’envoi au DMP de ce dernier.\nIl vous suffit de générer un document CDA conforme au schematron et de l’envoyer dans une enveloppe de soummission au travers d’une transaction TD21submitDocuments\nEn java, Cela consiste à créer un document enveloppe (Wrapper) DMPCDocumentCDAWrapped avec les quelques metadata non déductibles du CDA et le cda sous forme d’un tableau de byte:\nbyte[] documentCDA = integrateur.genereUnCDA(); DMPCDocumentCdaWrapped wrappedDocument = DMPCDocumentCdaWrapped.builder() .format(\"urn:ihe:lab:xd-lab:2008\") .classCode(\"11\") .confidentialities(List.of(\"N\")) .content(documentCda) // le contenu du CDA sera relu pour récupérer les métadonnées nécessaires à la soumission XDS du DMP. .build(); DMPCSoumission dmpcSoumission = new DMPCSoumission(); dmpcSoumission.addDocument(wrappedDocument); // ajout du document dans la soumission dmpcSoumission.setTitle(\"Exemple de soumission wrapped\"); dmpcSoumission.setPatient(patient); // attention à la cohérence des identifiants patients. dmpcSoumission.setContentType(\"04\"); client.td21SubmitDocuments(context, new TD21Request(dmpcSoumission)); En Rest, il faut préciser le type de document DMP soumis via dmpcType: \"wrapped\" et mettre le contenu encodé en Base64\ncurl --location --request POST 'http://127.0.0.1:8080/dmp/td21SubmitDocuments' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"context\": { ... }, \"request\": { \"submission\": { \"title\": \"soumission d'un document wrapped\", \"contentType\": \"04\", \"patient\": { \"ins\": \"148115530271002\", \"internalId\": \"67890\" }, \"documents\": [ { \"dmpcType\": \"wrapped\", \"auteurs\": [ { \"internalId\": \"123456\", \"nom\": \"Durand\", \"prenom\": \"Pierre\" } ], \"classCode\": \"11\", \"comments\": \"Document Wrapped soumis via Postman\", \"confidentialities\": [ \"N\" ], \"format\": \"urn:ihe:lab:xd-lab:2008\", \"content\": \"PD94bWwgdmVyc2lvbj0iMS4wIi ... Document CDA xml encodé en base64 ... BlbmNvZGluZz0iVVRGLTgiP1bWVudCB4bWxucz0i+\" } ] } } } ","categories":"","description":"Ou encore un document CDA généré par l'intégrateur\n","excerpt":"Ou encore un document CDA généré par l'intégrateur\n","ref":"/5.x/dmp/cda/wrapped/","tags":"","title":"Votre volet CDA"},{"body":"@Since DMP-4.7.0\nIl est possible que vous souhaitiez maîtriser la génération du document CDA, et que vous souhaitiez seulement déléguer l’envoi au DMP de ce dernier.\nIl vous suffit de générer un document CDA conforme au schematron et de l’envoyer dans une enveloppe de soummission au travers d’une transaction TD21submitDocuments\nEn java, Cela consiste à créer un document enveloppe (Wrapper) DMPCDocumentCDAWrapped avec les quelques metadata non déductibles du CDA et le cda sous forme d’un tableau de byte:\nbyte[] documentCDA = integrateur.genereUnCDA(); DMPCDocumentCdaWrapped wrappedDocument = DMPCDocumentCdaWrapped.builder() .format(\"urn:ihe:lab:xd-lab:2008\") .classCode(\"11\") .confidentialities(List.of(\"N\")) .content(documentCda) // le contenu du CDA sera relu pour récupérer les métadonnées nécessaires à la soumission XDS du DMP. .build(); DMPCSoumission dmpcSoumission = new DMPCSoumission(); dmpcSoumission.addDocument(wrappedDocument); // ajout du document dans la soumission dmpcSoumission.setTitle(\"Exemple de soumission wrapped\"); dmpcSoumission.setPatient(patient); // attention à la cohérence des identifiants patients. dmpcSoumission.setContentType(\"04\"); client.td21SubmitDocuments(context, new TD21Request(dmpcSoumission)); En Rest, il faut préciser le type de document DMP soumis via dmpcType: \"wrapped\" et mettre le contenu encodé en Base64\ncurl --location --request POST 'http://127.0.0.1:8080/dmp/td21SubmitDocuments' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"context\": { ... }, \"request\": { \"submission\": { \"title\": \"soumission d'un document wrapped\", \"contentType\": \"04\", \"patient\": { \"ins\": \"148115530271002\", \"internalId\": \"67890\" }, \"documents\": [ { \"dmpcType\": \"wrapped\", \"auteurs\": [ { \"internalId\": \"123456\", \"nom\": \"Durand\", \"prenom\": \"Pierre\" } ], \"classCode\": \"11\", \"comments\": \"Document Wrapped soumis via Postman\", \"confidentialities\": [ \"N\" ], \"format\": \"urn:ihe:lab:xd-lab:2008\", \"content\": \"PD94bWwgdmVyc2lvbj0iMS4wIi ... Document CDA xml encodé en base64 ... BlbmNvZGluZz0iVVRGLTgiP1bWVudCB4bWxucz0i+\" } ] } } } ","categories":"","description":"Ou encore un document CDA généré par l'intégrateur\n","excerpt":"Ou encore un document CDA généré par l'intégrateur\n","ref":"/6.x/connecteurs/dmp/cda/wrapped/","tags":"","title":"Votre volet CDA"},{"body":"https Le proxy peut être configuré en SSL\nSSl_ENABLED: true/false (par défaut false) KEYSTORE_CERTIFICAT_PATH KEYSTORE_KEY_PATH SERVER_DOMAIN pour la génération du certificat autosigné ou via let’s encrypt Exemple en partageant un volume:\n-e 'SSl_ENABLED=true' -v /etc/ssl/eproxy-test:/etc/ssl/eproxy-test -e 'KEYSTORE_KEY_PATH=/etc/ssl/eproxy-test/privkey.pem' -e 'KEYSTORE_CERTIFICAT_PATH=/etc/ssl/eproxy-test/fullchain.crt' -e 'SERVER_DOMAIN=eproxy-test.devbox-sante.fr' Si les certificats ne sont pas présents, le proxy génère des certificats auto-signés.\nSi votre fournisseur de nom de domaine est compatible avec ACME, il est également possible de générer les certificats avec Let’s Encrypt en ajoutant aux précédents paramètres la configuration acme:\n-e 'SPRING_PROFILES_ACTIVE=IDP,letsEncrypt' -e 'GANDI_KEY=$GANDI_KEY' Scalabilité / Redis Afin de pouvoir déployer plusieurs proxy, la session du proxy doit pouvoir être partagé entre les différentes instances. Redis a été mis en place pour partager les sessions.\nPour activer redis:\nSPRING_PROFILES_ACTIVE: redis REDIS_HOST: localhost par défaut REDIS_PORT: 6379 par défaut Exemple :\n-e 'SPRING_PROFILES_ACTIVE=IDP,redis' -e 'REDIS_HOST=localhost' -e 'REDIS_PORT=6379' Administration Cette section décriera la configurations des routes, des clients, des traces, …\n","categories":"","description":"Configuration HTTPS, scalabilité, administration\n","excerpt":"Configuration HTTPS, scalabilité, administration\n","ref":"/6.x/plateformes/eproxy/howtos/keycloak/configuration-proxy/","tags":"","title":"Configuration"},{"body":"Le connecteur MS Santé de la DevBox est compatible avec plusieurs opérateurs. Cette liste contient par exemple mailiz et médimail (liste non exhaustive) et évolue sans cesse en fonctions des besoins des clients.\nAinsi le connecteur permet au PS de se connecter à un large panel d’opérateurs.\nListe des opérateurs Un service REST permet d’avoir la liste des opérateurs ainsi que le nom des principaux dossiers (inbox, sent, draft et trash) qui peuvent varier en fonction des opérateurs.\nGET {url}/mssante/v2/operators [ { \"name\": \"medimail\", \"apiVersion\": \"2,\", \"messageManagerActive\": true, \"inboxFolderId\": \"INBOX\", \"trashFolderId\": \"TRASH\", \"draftFolderId\": \"DRAFT\", \"sentFolderId\": \"SENT\", \"withAllHeaders\": true, \"authenticationModes\": [ \"PSC\" ] }, { \"name\": \"mailiz\", \"apiVersion\": \"2,\", \"messageManagerActive\": true, \"inboxFolderId\": \"INBOX\", \"trashFolderId\": \"Trash\", \"draftFolderId\": \"Drafts\", \"sentFolderId\": \"Sent\", \"withAllHeaders\": true, \"authenticationModes\": [ \"PSC\", \"P12\" ] }, { \"name\": \"mailiz-v1\", \"apiVersion\": \"1,\", \"messageManagerActive\": false, \"inboxFolderId\": \"2\", \"trashFolderId\": \"3\", \"draftFolderId\": \"6\", \"sentFolderId\": \"5\", \"withAllHeaders\": false, \"authenticationModes\": [ \"LOGIN_OTP\", \"CPS\" ] } ... ] name: nom de l’opérateur à passer dans le header mssAuthentication.operator apiVersion: version de l’api, url du type /mssante/messages pour la v1 et /mssante/v2/messages pour la v2 messageManagerActive: cf Message Manager withAllHeaders: Permet de récupérer tous les headers renvoyés par le service imap xxxFolderId: Nom des 4 principaux dossiers authenticationModes: PSC, P12, LOGIN_OTP et CPS: modes d’authentification supportés par l’opérateur Ensuite il suffit de passer dans les headers le nom de l’opérateur sur lequel le PS souhaite se connecter.\nExemple:\nheaders { mssAuthentication.operator: mailiz mssAuthentication.psc: MIIcbAIBA...Bv4sVwVpAICCAA= mssAuthentication.userName: xxx-pers@mssante.fr } Autoconfiguration Si l’opérateur respecte l’exigence suivante :\nEX_LPS_0300 Sur les interfaces de l’API LPS, le système DOIT exposer un mécanisme d’auto-configuration à destination des LPS, conforme aux RFC 2782 \u0026 6186, en déclarant sur chacun des noms de domaines déclarés en liste blanche les 4 attributs DNS suivants :\n_submission._tcp SRV 10 100 587 [front smtp psc de l'opérateur] _submission._tcp SRV 20 100 587 [front smtp authcli de l'opérateur] _imap._tcp SRV 10 100 143 [front imap psc de l'opérateur] _imap._tcp SRV 20 100 143 [front imap authcli de l'opérateur] Il suffit à la DevBox_santé de connaître l’url de l’opérateur pour s’y connecter, pour cela la devbox-sante va s’appuyer sur l’adresse email de l’expéditeur.\n","categories":"","description":"","excerpt":"Le connecteur MS Santé de la DevBox est compatible avec plusieurs …","ref":"/5.x/ms-sante/howtos/operators/","tags":"","title":"Gestion multi-opérateurs"},{"body":"Le connecteur MS Santé de la DevBox est compatible avec plusieurs opérateurs. Cette liste contient par exemple mailiz et médimail (liste non exhaustive) et évolue sans cesse en fonctions des besoins des clients.\nAinsi le connecteur permet au PS de se connecter à un large panel d’opérateurs.\nListe des opérateurs Un service REST permet d’avoir la liste des opérateurs ainsi que le nom des principaux dossiers (inbox, sent, draft et trash) qui peuvent varier en fonction des opérateurs.\nGET {url}/mssante/v2/operators [ { \"name\": \"medimail\", \"apiVersion\": \"2,\", \"messageManagerActive\": true, \"inboxFolderId\": \"INBOX\", \"trashFolderId\": \"TRASH\", \"draftFolderId\": \"DRAFT\", \"sentFolderId\": \"SENT\", \"withAllHeaders\": true, \"authenticationModes\": [ \"PSC\" ] }, { \"name\": \"mailiz\", \"apiVersion\": \"2,\", \"messageManagerActive\": true, \"inboxFolderId\": \"INBOX\", \"trashFolderId\": \"Trash\", \"draftFolderId\": \"Drafts\", \"sentFolderId\": \"Sent\", \"withAllHeaders\": true, \"authenticationModes\": [ \"PSC\", \"P12\" ] }, { \"name\": \"mailiz-v1\", \"apiVersion\": \"1,\", \"messageManagerActive\": false, \"inboxFolderId\": \"2\", \"trashFolderId\": \"3\", \"draftFolderId\": \"6\", \"sentFolderId\": \"5\", \"withAllHeaders\": false, \"authenticationModes\": [ \"LOGIN_OTP\", \"CPS\" ] } ... ] name: nom de l’opérateur à passer dans le header mssAuthentication.operator apiVersion: version de l’api, url du type /mssante/messages pour la v1 et /mssante/v2/messages pour la v2 messageManagerActive: cf Message Manager withAllHeaders: Permet de récupérer tous les headers renvoyés par le service imap xxxFolderId: Nom des 4 principaux dossiers authenticationModes: PSC, P12, LOGIN_OTP et CPS: modes d’authentification supportés par l’opérateur Ensuite il suffit de passer dans les headers le nom de l’opérateur sur lequel le PS souhaite se connecter.\nExemple:\nheaders { mssAuthentication.operator: mailiz mssAuthentication.psc: MIIcbAIBA...Bv4sVwVpAICCAA= mssAuthentication.userName: xxx-pers@mssante.fr } Autoconfiguration Si l’opérateur respecte l’exigence suivante :\nEX_LPS_0300 Sur les interfaces de l’API LPS, le système DOIT exposer un mécanisme d’auto-configuration à destination des LPS, conforme aux RFC 2782 \u0026 6186, en déclarant sur chacun des noms de domaines déclarés en liste blanche les 4 attributs DNS suivants :\n_submission._tcp SRV 10 100 587 [front smtp psc de l'opérateur] _submission._tcp SRV 20 100 587 [front smtp authcli de l'opérateur] _imap._tcp SRV 10 100 143 [front imap psc de l'opérateur] _imap._tcp SRV 20 100 143 [front imap authcli de l'opérateur] Il suffit à la DevBox_santé de connaître l’url de l’opérateur pour s’y connecter, pour cela la devbox-sante va s’appuyer sur l’adresse email de l’expéditeur.\n","categories":"","description":"","excerpt":"Le connecteur MS Santé de la DevBox est compatible avec plusieurs …","ref":"/6.x/connecteurs/ms-sante/howtos/operators/","tags":"","title":"Gestion multi-opérateurs"},{"body":"","categories":"","description":"Howtos Application Carte Vitale\n","excerpt":"Howtos Application Carte Vitale\n","ref":"/5.x/apcv/howtos/","tags":"","title":"Howtos"},{"body":"","categories":"","description":"","excerpt":"","ref":"/5.x/insi/howtos/","tags":"","title":"Howtos"},{"body":"","categories":"","description":"","excerpt":"","ref":"/5.x/vitale/howtos/","tags":"","title":"Howtos"},{"body":"","categories":"","description":"","excerpt":"","ref":"/6.x/composants/vitale/howtos/","tags":"","title":"Howtos"},{"body":"","categories":"","description":"Howtos Application Carte Vitale\n","excerpt":"Howtos Application Carte Vitale\n","ref":"/6.x/connecteurs/apcv/howtos/","tags":"","title":"Howtos"},{"body":"","categories":"","description":"","excerpt":"","ref":"/6.x/connecteurs/insi/howtos/","tags":"","title":"Howtos"},{"body":"","categories":"","description":"Tutoriels liés à la carte CPS\n","excerpt":"Tutoriels liés à la carte CPS\n","ref":"/5.x/cps/howtos/","tags":"","title":"HowTos"},{"body":"","categories":"","description":"Tutoriels liés à la carte CPS\n","excerpt":"Tutoriels liés à la carte CPS\n","ref":"/6.x/composants/cps/howtos/","tags":"","title":"HowTos"},{"body":"Les opérateurs ne prennent pas en charge via les API LPS certaines fonctionnalités “standard” de client de messagerie comme par exemple:\nsauvegarde du message envoyé dans le dossier “sent” déplacement du message supprimé dans le dossier “trash” sauvegarde du brouillon dans le dossier “draft” … Par défaut tout est géré par des flags dans le dossier INBOX (exception faite de la sauvegarde du message envoyé qui n’est pas faite)\nPour palier à ce problème, 2 modes de fonctionnement ont été mis en place:\nManaged: Le connecteur crée automatiquement ces dossiers au moment de l’envoi, la suppression ou l’enregistrement de brouillon et déplace/sauvegarde le message dans le bon dossier. No Managed: Le connecteur ne fait aucun traitement particulier et utilise le workflow de gestion des messages de l’opérateur. Ce dernier peut décider de tout laisser dans inbox et ne mettre que des flags pour distinguer les messages ou utiliser les dossiers comme dans le cas “Managed” Ainsi par exemple dans le cas “No managed” avec un opérateur qui laisse tous les messages dans INBOX, pour avoir les messages du dossier draft, il faut rechercher les messages en précisant draft=true dans la query et sans préciser de folderId.\nCe type de fonctionnement est précisé dans la configuration d el’opérateur via le champ messageManagerActive:\nGET {url}/mssante/v2/operators [ { \"name\": \"medimail\", \"apiVersion\": \"2,\", \"messageManagerActive\": true, \"inboxFolderId\": \"INBOX\", \"trashFolderId\": \"TRASH\", \"draftFolderId\": \"DRAFT\", \"sentFolderId\": \"SENT\", \"withAllHeaders\": true }, { \"name\": \"mailiz-v1\", \"apiVersion\": \"1,\", \"messageManagerActive\": false, \"inboxFolderId\": \"2\", \"trashFolderId\": \"3\", \"draftFolderId\": \"6\", \"sentFolderId\": \"5\", \"withAllHeaders\": false } ... ] ","categories":"","description":"","excerpt":"Les opérateurs ne prennent pas en charge via les API LPS certaines …","ref":"/5.x/ms-sante/howtos/message-manager/","tags":"","title":"Message Manager"},{"body":"Les opérateurs ne prennent pas en charge via les API LPS certaines fonctionnalités “standard” de client de messagerie comme par exemple:\nsauvegarde du message envoyé dans le dossier “sent” déplacement du message supprimé dans le dossier “trash” sauvegarde du brouillon dans le dossier “draft” … Par défaut tout est géré par des flags dans le dossier INBOX (exception faite de la sauvegarde du message envoyé qui n’est pas faite)\nPour palier à ce problème, 2 modes de fonctionnement ont été mis en place:\nManaged: Le connecteur crée automatiquement ces dossiers au moment de l’envoi, la suppression ou l’enregistrement de brouillon et déplace/sauvegarde le message dans le bon dossier. No Managed: Le connecteur ne fait aucun traitement particulier et utilise le workflow de gestion des messages de l’opérateur. Ce dernier peut décider de tout laisser dans inbox et ne mettre que des flags pour distinguer les messages ou utiliser les dossiers comme dans le cas “Managed” Ainsi par exemple dans le cas “No managed” avec un opérateur qui laisse tous les messages dans INBOX, pour avoir les messages du dossier draft, il faut rechercher les messages en précisant draft=true dans la query et sans préciser de folderId.\nCe type de fonctionnement est précisé dans la configuration d el’opérateur via le champ messageManagerActive:\nGET {url}/mssante/v2/operators [ { \"name\": \"medimail\", \"apiVersion\": \"2,\", \"messageManagerActive\": true, \"inboxFolderId\": \"INBOX\", \"trashFolderId\": \"TRASH\", \"draftFolderId\": \"DRAFT\", \"sentFolderId\": \"SENT\", \"withAllHeaders\": true }, { \"name\": \"mailiz-v1\", \"apiVersion\": \"1,\", \"messageManagerActive\": false, \"inboxFolderId\": \"2\", \"trashFolderId\": \"3\", \"draftFolderId\": \"6\", \"sentFolderId\": \"5\", \"withAllHeaders\": false } ... ] ","categories":"","description":"","excerpt":"Les opérateurs ne prennent pas en charge via les API LPS certaines …","ref":"/6.x/connecteurs/ms-sante/howtos/message-manager/","tags":"","title":"Message Manager"},{"body":"Voir la page dédiée de la plateforme DevBox-Santé eProxy\n","categories":"","description":"Authentification PSC\n","excerpt":"Authentification PSC\n","ref":"/6.x/connecteurs/dmp/authentifications/prosant%C3%A9connect/","tags":"","title":"Authentification ProSantéConnect"},{"body":"Afin d’utiliser le connecteur DevBox-Santé DMP en mode authentification indirecte, il vous faut obtenir des certificats serveurs provenant de cette autorité. Pour celà après avoir commandé des cartes CPS vous pouvez faire une demande à partir d’un téléservice dont la procédure est décrite ici.\nLe lien vers la documentation officielle : https://industriels.esante.gouv.fr/produits-et-services/certificats-logiciels\nProcédure Administrative Industriel pour les certificats et cartes de tests Pour l’industriel la liste des formulaires de gestion des certificats sont ici : https://esante.gouv.fr/index-des-formulaires#23241\nLe formulaire de commande de cartes et certificats de test est le F414 : https://esante.gouv.fr/sites/default/files/media_entity/documents/F414.pdf\nIl est possible de faire la démarche en ligne : https://www.demarches-simplifiees.fr/commencer/f414\nEn production Pour obtenir, les certificats et clés nécessaires pour la connexion au DMP en authentification indirecte, il faut que votre établissement soit enregistré au FINESS (Fichier National des Établissements Sanitaires es Sociaux) : https://finess.esante.gouv.fr/\nProcédure pour structure non libérale : https://esante.gouv.fr/sites/default/files/media_entity/documents/ANS_Procedure_commande_CL_DMP_structures_non_lib%C3%A9rales_v30092021.pdf\nCommandes pour le SÉGUR vague 1 Depuis le SEGUR santé, les guides de commandes de certificats sont spécifiques à chaque couloir :\nMédico-social Médecine de ville Hôpital Biologie Radiologie Officine Les principes généraux sont les suivants :\nLors du raccordement au DMP, chaque site géographique d’un établissement de santé s’authentifie et s’identifie via son numéro de FINESS géographique/juridique.\nAinsi, chaque site doit générer des certificats d’organisation sur son numéro de FINESS géographique/juridique. L’administrateur technique est une personne de confiance à qui le représentant légal de l’établissement délègue le droit de gérer le cycle de vie des certificats logiciels commandés. Il est également possible pour le représentant légal d’une structure de désigner un ou plusieurs mandataires pour sa structure.\nQuels certificats ? Pour accéder au DMP en authentification indirecte (création/gestion administrative et alimentation), vous avez besoin de déployer les certificats suivants :\nun certificat client de type ORG AUTH_CLI pour s’authentifier au DMP ; un certificat client de type ORG SIGN pour signer les lots de documents soumis au DMP Procédure Technique Il est possible de demander les certificats sur le site web mis à disposition par l’ANS. Il s’agit d’un service permettant la demande de certificats et cartes :\nhttps://pfc.eservices.esante.gouv.fr\nLa procédure est décrite sur le site de l’ANS : https://esante.gouv.fr/guides/guides-IGC-sante/je-souhaite-demander-un-certificat Nous laissons l’ancienne procédure pour complément d’informations.\nRemarque : ne pas mettre d’accent dans les certificats\nConfiguration de la DevBox-Santé DMP Le paramètrage de ces certificats pour la DevBox-Santé DMP se trouve dans le application.yml\ndevbox-sante.dmp.url.prefix devbox-sante.dmp.smime.p12.path devbox-sante.dmp.smime.p12.password devbox-sante.dmp.ssl.p12.path devbox-sante.dmp.ssl.p12.password devbox-sante.dmp.ssl.trust.path Exemple de configuration à fournir :\ndevbx-sante: dmp: # informations relatives au certificat smime smime: p12: path: #./smime.p12 A_renseigner password: A_renseigner # informations relatives au certificat ssl ssl: p12: path: #ssl.p12 A_renseigner password: A_renseigner # Contient les certificats serveurs autorisés pour authentification mutuelle trust: path: truststoreIgcSante-EL-ORG.jks Valider un certificat dans windows Avec le certificate manager (certmgr.msc), vous pouvez ouvrir le p12 que vous avez généré (avec son mot de passe) et récupérer les informations concernant l’émetteur IGC-SANTÉ :\nVous pouvez vérifier également dans la partie objet si le numéro de la structure (FINESS) est bien renseigné.\n","categories":"","description":"Gestion des certificats de l'IGC santé pour l'authentification indirecte\n","excerpt":"Gestion des certificats de l'IGC santé pour l'authentification …","ref":"/6.x/connecteurs/dmp/howtos/gestioncertificat/","tags":"","title":"Gestion des certificats et carte CPS"},{"body":"Il est dorénavant possible (depuis la version 2.6) de générer un datamatrix conforme à la spécification de l’ANS.\nInterface Une interface Java a été mis à disposition :\npackage fr.devboxsante.insi.datamatrix; import fr.devboxsante.insi.model.INS; import java.io.InputStream; import java.io.OutputStream; /** * Génère un Datamatrix conforme à la spécification \"INS - Format Datamatrix\" de * l'ANS * */ public interface InsDatamatrixGenerator { /** * Génére une image du datamatrix correspondant à l'INS passé en paramètre au * format défini dans info.format (jpeg par défaut) et à la taille défini dans info.sizeInPx * @param ins * @param info * @return l'image */ public byte[] generateDatamatrix(INS ins, InsDatamatrixInfo info); /** * Insert le cartouche correspondant à l'INS passé en paramètre comme demandé * dans la spècification * @param ins l'Identité National de Santé * @param info les infos d'insertion dans le PDF * @param input le pdf en entrée * @param output le pdf en sortie. */ public void insertInsCartoucheInPdf(INS ins, InsCartoucheInfo info, InputStream input, OutputStream output); } Son pendant en REST :\nGénérer le datamatrix Pour celà, il suffit depuis un environnement java :\nfinal InsDatamatrixGenerator insDatamatrixGenerator = new InsDatamatrixGeneratorImpl(); final INS ins = ... ; byte[] datamatrix = insDatamatrixGenerator.generateDatamatrix(ins, InsDatamatrixInfo.builder().format(\"jpg\").sizeInPx(200).build()); BufferedOutputStream out = new BufferedOutputStream(new FileOutputStream(\"datamatrix200.jpg\")); out.write(datamatrix); out.close(); Son pendant via l’API REST :\ncurl -X POST \"http://127.0.0.1:8484/insi/v2/datamatrix/jpg?sizeInPx=200\" -H \"accept: */*\" -H \"Content-Type: application/json\" -d \"{ \\\"matriculeINS\\\": { \\\"valeur\\\": \\\"1010663220754\\\", \\\"cle\\\": \\\"60\\\", \\\"identifiantSysteme\\\": \\\"INS_NIR\\\" }, \\\"traitsIdentite\\\": { \\\"nomFamille\\\": \\\"D'ARTAGNAN DE L'HERAULT\\\", \\\"prenomUtilise\\\": null, \\\"prenomActeNaissance\\\": \\\"PIERRE-ALAIN GUNTHER\\\", \\\"sexeAdministratif\\\": \\\"M\\\", \\\"dateNaissance\\\": \\\"2001-06-17\\\", \\\"lieuNaissance\\\": \\\"63220\\\" } }\" Vous permet d’obtenir le datamatrix INS : Insérer le cartouche INS dans le PDF En plus de générer le datamatrix, il est possible d’insérer le cartouche spécifié par l’ANS dans le fichier PDF.\nAinsi le code suivant :\nfinal INS ins = ...; insDatamatrixGenerator.insertInsCartoucheInPdf(ins, InsCartoucheInfo.builder() .pageNumber(0) .startX(20) .startY(85) .height(80) .width(160) .unite(InsCartoucheInfo.Unite.MM) .build(), new FileInputStream(\"input.pdf\"), new FileOutputStream(\"output.pdf\")); Son pendant en curl :\ncurl -X POST \"http://127.0.0.1:8484/insi/v2/datamatrix/pdf/insertCartouche\" -H \"accept: */*\" -H \"Content-Type: multipart/form-data\" -F \"cartoucheContexte={ \"info\": { \"height\": 60, \"pageNumber\": 0, \"startX\": 20, \"startY\": 70, \"unite\": \"MM\", \"width\": 170 }, \"ins\": { \"matriculeINS\": { \"valeur\": \"2770763220829\", \"cle\": \"10\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.8\" }, \"traitsIdentite\": { \"nomFamille\": \"NESSI\", \"prenomUtilise\": \"RUTH\", \"prenomActeNaissance\": \"RUTH ISABELLE\", \"sexeAdministratif\": \"F\", \"dateNaissance\": \"1977-07-14\", \"lieuNaissance\": \"63220\" } } }\" -F \"file=@1.pdf;type=application/pdf\" vous permet d’obtenir un nouveau fichier comportant le cartouche INS où vous vouliez l’insérer :\n","categories":"","description":"Générer un datamatrix INS avec la DevBox-Santé INSi et insérer un cartouche dans un PDF\n","excerpt":"Générer un datamatrix INS avec la DevBox-Santé INSi et insérer un …","ref":"/5.x/insi/howtos/datamatrix/","tags":"","title":"Datamatrix"},{"body":"Il est dorénavant possible (depuis la version 2.6) de générer un datamatrix conforme à la spécification de l’ANS.\nInterface Une interface Java a été mis à disposition :\npackage fr.devboxsante.insi.datamatrix; import fr.devboxsante.insi.model.INS; import java.io.InputStream; import java.io.OutputStream; /** * Génère un Datamatrix conforme à la spécification \"INS - Format Datamatrix\" de * l'ANS * */ public interface InsDatamatrixGenerator { /** * Génére une image du datamatrix correspondant à l'INS passé en paramètre au * format défini dans info.format (jpeg par défaut) et à la taille défini dans info.sizeInPx * @param ins * @param info * @return l'image */ public byte[] generateDatamatrix(INS ins, InsDatamatrixInfo info); /** * Insert le cartouche correspondant à l'INS passé en paramètre comme demandé * dans la spècification * @param ins l'Identité National de Santé * @param info les infos d'insertion dans le PDF * @param input le pdf en entrée * @param output le pdf en sortie. */ public void insertInsCartoucheInPdf(INS ins, InsCartoucheInfo info, InputStream input, OutputStream output); } Son pendant en REST :\nGénérer le datamatrix Pour celà, il suffit depuis un environnement java :\nfinal InsDatamatrixGenerator insDatamatrixGenerator = new InsDatamatrixGeneratorImpl(); final INS ins = ... ; byte[] datamatrix = insDatamatrixGenerator.generateDatamatrix(ins, InsDatamatrixInfo.builder().format(\"jpg\").sizeInPx(200).build()); BufferedOutputStream out = new BufferedOutputStream(new FileOutputStream(\"datamatrix200.jpg\")); out.write(datamatrix); out.close(); Son pendant via l’API REST :\ncurl -X POST \"http://127.0.0.1:8484/insi/v2/datamatrix/jpg?sizeInPx=200\" -H \"accept: */*\" -H \"Content-Type: application/json\" -d \"{ \\\"matriculeINS\\\": { \\\"valeur\\\": \\\"1010663220754\\\", \\\"cle\\\": \\\"60\\\", \\\"identifiantSysteme\\\": \\\"INS_NIR\\\" }, \\\"traitsIdentite\\\": { \\\"nomFamille\\\": \\\"D'ARTAGNAN DE L'HERAULT\\\", \\\"prenomUtilise\\\": null, \\\"prenomActeNaissance\\\": \\\"PIERRE-ALAIN GUNTHER\\\", \\\"sexeAdministratif\\\": \\\"M\\\", \\\"dateNaissance\\\": \\\"2001-06-17\\\", \\\"lieuNaissance\\\": \\\"63220\\\" } }\" Vous permet d’obtenir le datamatrix INS : Insérer le cartouche INS dans le PDF En plus de générer le datamatrix, il est possible d’insérer le cartouche spécifié par l’ANS dans le fichier PDF.\nAinsi le code suivant :\nfinal INS ins = ...; insDatamatrixGenerator.insertInsCartoucheInPdf(ins, InsCartoucheInfo.builder() .pageNumber(0) .startX(20) .startY(85) .height(80) .width(160) .unite(InsCartoucheInfo.Unite.MM) .build(), new FileInputStream(\"input.pdf\"), new FileOutputStream(\"output.pdf\")); Son pendant en curl :\ncurl -X POST \"http://127.0.0.1:8484/insi/v2/datamatrix/pdf/insertCartouche\" -H \"accept: */*\" -H \"Content-Type: multipart/form-data\" -F \"cartoucheContexte={ \"info\": { \"height\": 60, \"pageNumber\": 0, \"startX\": 20, \"startY\": 70, \"unite\": \"MM\", \"width\": 170 }, \"ins\": { \"matriculeINS\": { \"valeur\": \"2770763220829\", \"cle\": \"10\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.8\" }, \"traitsIdentite\": { \"nomFamille\": \"NESSI\", \"prenomUtilise\": \"RUTH\", \"prenomActeNaissance\": \"RUTH ISABELLE\", \"sexeAdministratif\": \"F\", \"dateNaissance\": \"1977-07-14\", \"lieuNaissance\": \"63220\" } } }\" -F \"file=@1.pdf;type=application/pdf\" vous permet d’obtenir un nouveau fichier comportant le cartouche INS où vous vouliez l’insérer :\n","categories":"","description":"Générer un datamatrix INS avec la DevBox-Santé INSi et insérer un cartouche dans un PDF\n","excerpt":"Générer un datamatrix INS avec la DevBox-Santé INSi et insérer un …","ref":"/6.x/connecteurs/insi/howtos/datamatrix/","tags":"","title":"Datamatrix"},{"body":"Obtenir des certificats pour l’INSi consiste à réaliser la même opération que pour le DMP. et dans les mêmes conditions. Néanmoins, comme dit PDT-INF-736_Package INSi 04.00.00.pdf, une notice explicative est donnée\nPour les certificats de test :\nhttps://esante.gouv.fr/sites/default/files/media_entity/documents/ANS_Fiche%20commande_CPx_et_certificats_de_test_VF.pdf Pour les certificats de production :\nDepuis le SEGUR santé, les guides de commandes de certificats sont spécifiques à chaque couloir :\nMédico-social Médecine de ville Hôpital Biologie Radiologie Officine ","categories":"","description":"Gestion des certificats de l'IGC santé pour l'authentification par certificat pour l'INSi\n","excerpt":"Gestion des certificats de l'IGC santé pour l'authentification par …","ref":"/5.x/insi/howtos/gestioncertificatinsi/","tags":"","title":"Gestion des certificats"},{"body":"Pour les certificats de test : Pour l’industriel la liste des formulaires de gestion des certificats sont ici : https://esante.gouv.fr/index-des-formulaires#23241\nLe formulaire de commande de cartes et certificats de test est le F414 : https://esante.gouv.fr/sites/default/files/media_entity/documents/F414.pdf\nIl est possible de faire la démarche en ligne : https://www.demarches-simplifiees.fr/commencer/f414\nPour les certificats de production : Depuis le SEGUR santé, les guides de commandes de certificats sont spécifiques à chaque couloir :\nMédico-social Médecine de ville Hôpital Biologie Radiologie Officine Vous pouvez également consulter la procédure générique de l’ANS : https://esante.gouv.fr/guides/guides-IGC-sante/je-souhaite-demander-un-certificat\n","categories":"","description":"Gestion des certificats de l'IGC santé pour l'authentification par certificat pour l'INSi\n","excerpt":"Gestion des certificats de l'IGC santé pour l'authentification par …","ref":"/6.x/connecteurs/insi/howtos/gestioncertificatinsi/","tags":"","title":"Gestion des certificats"},{"body":"Afin d’utiliser le connecteur DevBox-Santé DMP en mode authentification indirecte, il vous faut obtenir des certificats serveurs provenant de cette autorité. Pour celà après avoir commandé des cartes CPS vous pouvez faire une demande à partir d’un téléservice dont la procédure est décrite ici.\nProcédure Administrative Industriel pour les certificats et cartes de tests Pour l’industriel la liste des formulaires de gestion des certificats sont ici : https://esante.gouv.fr/index-des-formulaires#23241\nLe formulaire de commande de cartes et certificats de test est le F414 : https://esante.gouv.fr/sites/default/files/media_entity/documents/F414.pdf\nIl est possible de faire la démarche en ligne : https://www.demarches-simplifiees.fr/commencer/f414\nEn production Pour obtenir, les certificats et clés nécessaires pour la connexion au DMP en authentification indirecte, il faut que votre établissement soit enregistré au FINESS (Fichier National des Établissements Sanitaires es Sociaux) : https://finess.esante.gouv.fr/\nProcédure pour structure non libérale : https://esante.gouv.fr/sites/default/files/media_entity/documents/ANS_Procedure_commande_CL_DMP_structures_non_lib%C3%A9rales_v30092021.pdf\nCommandes pour le SÉGUR vague 1 Depuis le SEGUR santé, les guides de commandes de certificats sont spécifiques à chaque couloir :\nMédico-social Médecine de ville Hôpital Biologie Radiologie Officine Les principes généraux sont les suivants :\nLors du raccordement au DMP, chaque site géographique d’un établissement de santé s’authentifie et s’identifie via son numéro de FINESS géographique/juridique.\nAinsi, chaque site doit générer des certificats d’organisation sur son numéro de FINESS géographique/juridique. L’administrateur technique est une personne de confiance à qui le représentant légal de l’établissement délègue le droit de gérer le cycle de vie des certificats logiciels commandés. Il est également possible pour le représentant légal d’une structure de désigner un ou plusieurs mandataires pour sa structure.\nQuels certificats ? Pour accéder au DMP en authentification indirecte (création/gestion administrative et alimentation), vous avez besoin de déployer les certificats suivants :\nun certificat client de type ORG AUTH_CLI pour s’authentifier au DMP ; un certificat client de type ORG SIGN pour signer les lots de documents soumis au DMP Procédure Technique Il est possible de demander les certificats sur le site web mis à disposition par l’ANS. Il s’agit d’un service permettant la demande de certificats et cartes :\nhttps://pfc.eservices.esante.gouv.fr\nLa procédure est décrite sur le site de l’ANS : https://esante.gouv.fr/guides/guides-IGC-sante/je-souhaite-demander-un-certificat Nous laissons l’ancienne procédure pour complément d’informations.\nConfiguration de la DevBox-Santé DMP Le paramètrage de ces certificats pour la DevBox-Santé DMP se trouve dans le application.yml\ndevbox-sante.dmp.url.prefix devbox-sante.dmp.smime.p12.path devbox-sante.dmp.smime.p12.password devbox-sante.dmp.ssl.p12.path devbox-sante.dmp.ssl.p12.password devbox-sante.dmp.ssl.trust.path Exemple de configuration à fournir :\ndevbx-sante: dmp: # informations relatives au certificat smime smime: p12: path: #./smime.p12 A_renseigner password: A_renseigner # informations relatives au certificat ssl ssl: p12: path: #ssl.p12 A_renseigner password: A_renseigner # Contient les certificats serveurs autorisés pour authentification mutuelle trust: path: truststoreIgcSante-EL-ORG.jks Valider un certificat dans windows Avec le certificate manager (certmgr.msc), vous pouvez ouvrir le p12 que vous avez généré (avec son mot de passe) et récupérer les informations concernant l’émetteur IGC-SANTÉ :\nVous pouvez vérifier également dans la partie objet si le numéro de la structure (FINESS) est bien renseigné.\n","categories":"","description":"Gestion des certificats de l'IGC santé pour l'authentification indirecte\n","excerpt":"Gestion des certificats de l'IGC santé pour l'authentification …","ref":"/5.x/dmp/howtos/gestioncertificat/","tags":"","title":"Gestion des certificats et carte CPS"},{"body":"Validation automatique La DevBox-santé santé intègre les différents composants du projet github de l’ANS, et propose la validation SCHEMATRON automatique par l’utilisation des feuilles de style xslt fournies dans le projet https://github.com/ansforge/TestContenuCDA-3-0 (anciennement https://github.com/ansforge/TestContenuCDA)\nPour apporter les preuves schematrons nécessaires pour les tests d’alimentation, vous pouvez retrouver les traces d’exécution de cette validation dans les logs.\nExemple de validation pour un document CDAR2 Niveau 1 (structuration minimale) :\nANS_CDA_ToolsManager : load tools from : testContenuCDA-2.40.zip ANS_CDA_ToolsManager : directory created : C:\\Users\\lfo\\AppData\\Local\\Temp\\dmpc-api8808336379869609192 ANS_CDA_ToolsManager : testContenuCDA-2.40.zip unzipped in C:\\Users\\lfo\\AppData\\Local\\Temp\\dmpc-api8808336379869609192\\testContenuCDA_20220310_V2.40 DMPCCdaValidator : validate with schema : C:\\Users\\lfo\\AppData\\Local\\Temp\\dmpc-api8808336379869609192\\testContenuCDA_20220310_V2.40\\infrastructure\\cda\\CDA_extended.xsd DMPCCdaValidator : validate with schematron : C:\\Users\\lfo\\AppData\\Local\\Temp\\dmpc-api8808336379869609192\\testContenuCDA_20220310_V2.40\\schematrons\\profils\\CI-SIS_StructurationMinimale.xsl DMPCCdaValidator : --------- SCHEMATRON_VALIDATION_RESULT ----- : \u003c?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?\u003e \u003c?xml-stylesheet type=\"text/xsl\" href=\"rapportSchematronToHtml4.xsl\"?\u003e\u003csvrl:schematron-output xmlns:cda=\"urn:hl7-org:v3\" xmlns:iso=\"http://purl.oclc.org/dsdl/schematron\" xmlns:jdv=\"http://esante.gouv.fr\" xmlns:lab=\"urn:oid:1.3.6.1.4.1.19376.1.3.2\" xmlns:saxon=\"http://saxon.sf.net/\" xmlns:schold=\"http://www.ascc.net/xml/schematron\" xmlns:svrl=\"http://purl.oclc.org/dsdl/svrl\" xmlns:svs=\"urn:ihe:iti:svs:2008\" xmlns:xhtml=\"http://www.w3.org/1999/xhtml\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" dateHeure=\"6/10/2022 à 14:37:13 (temps UTC+02:00)\" document=\"\" phase=\"Struct_minimale\" schemaVersion=\"CI-SIS_StructurationMinimale.sch\" title=\"Rapport de conformité du document aux spécifications françaises (en-tête)\"\u003e \u003csvrl:active-pattern id=\"addr\"/\u003e \u003csvrl:fired-rule context=\"cda:addr\"/\u003e ... \u003csvrl:active-pattern id=\"variablesSM\"/\u003e \u003c/svrl:schematron-output\u003e --------- Pour apporter la preuve, il vous suffira d’extraire le fichier xml de bonne exécution du schematron.\nPour une NoteVaccination, une deuxième validation est effectuée avec le schematron dédié à ce type de document CDA R2 de Niveau 3 (document structuré) :\nDMPCCdaValidator : validate with schematron : C:\\Users\\lfo\\AppData\\Local\\Temp\\devbox-sante-dmp4342499872869358088\\testContenuCDA_20220310_V2.40\\schematrons\\CI-SIS_VAC-NOTE_2021.01.xsl DMPCCdaValidator : --------- SCHEMATRON_VALIDATION_RESULT ----- : \u003c?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?\u003e \u003c?xml-stylesheet type=\"text/xsl\" href=\"rapportSchematronToHtml4.xsl\"?\u003e\u003csvrl:schematron-output xmlns:cda=\"urn:hl7-org:v3\" xmlns:iso=\"http://purl.oclc.org/dsdl/schematron\" xmlns:jdv=\"http://esante.gouv.fr\" xmlns:saxon=\"http://saxon.sf.net/\" xmlns:schold=\"http://www.ascc.net/xml/schematron\" xmlns:svrl=\"http://purl.oclc.org/dsdl/svrl\" xmlns:svs=\"urn:ihe:iti:svs:2008\" xmlns:xhtml=\"http://www.w3.org/1999/xhtml\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" dateHeure=\"3/11/2022 à 18:22:00 (temps UTC+01:00)\" document=\"\" phase=\"CI-SIS_VAC-NOTE_2021.01\" schemaVersion=\"CI-SIS_VAC-NOTE_2021.01.sch\" title=\"Vérification de la conformité au modèle Note de vaccination 2021.01\"\u003e \u003csvrl:active-pattern id=\"JDV_UsageDrogues-CISIS\"\u003e \u003csvrl:text\u003eConformité d'un élément codé obligatoire par rapport à un jeu de valeurs du CI-SIS\u003c/svrl:text\u003e \u003c/svrl:active-pattern\u003e \u003csvrl:active-pattern id=\"JDV_ProfessionsExposees-CISIS\"\u003e \u003csvrl:text\u003eConformité d'un élément codé obligatoire par rapport à un jeu de valeurs du CI-SIS\u003c/svrl:text\u003e ... \u003csvrl:active-pattern id=\"Entete_VAC-NOTE_2021.01\"/\u003e \u003csvrl:fired-rule context=\"cda:ClinicalDocument\"/\u003e \u003csvrl:fired-rule context=\"cda:ClinicalDocument/cda:recordTarget/cda:patientRole/cda:patient\"/\u003e \u003csvrl:active-pattern id=\"variables\"/\u003e \u003csvrl:fired-rule context=\"cda:ClinicalDocument\"/\u003e \u003c/svrl:schematron-output\u003e ---------- Validation manuelle Utilisation des outils mis à disposition par l’ANS Afin de valider manuellement les CDA générés par la DevBox-Santé DMP il faut utiliser les outils de vérification fournit par l’ANS. Ils sont dorénavant héberger sur Github : https://github.com/ansforge/TestContenuCDA-3-0\nLa documentation se trouve ici : https://github.com/ansforge/TestContenuCDA-3-0/wiki\nVersion taggée Depuis Octobre 2024, des versions de ces outils sont taggés : https://github.com/ansforge/TestContenuCDA-3-0/tags Utilisation de l’espace de tests de l’ANS Attention Attention cet outil ne valide pas de manière identique de l’outil disponible sur GitHub. Sur le site interop.esante.gouv.fr ou plus exactement https://interop.esante.gouv.fr/evs/home.seam\nUne fois sur le site :\nIl vous faut télécharger votre fichier CDA Choisir le schematron à valider : “Structuration minimale des documents de santé” par exemple Cliquer sur valider ","categories":"","description":"Validation des CDA générés par la DevBox-Santé DMP lors de l'homologation\n","excerpt":"Validation des CDA générés par la DevBox-Santé DMP lors de …","ref":"/5.x/dmp/howtos/schematron/","tags":"","title":"Schematron"},{"body":"Validation automatique La DevBox-santé santé intègre les différents composants du projet github de l’ANS, et propose la validation SCHEMATRON automatique par l’utilisation des feuilles de style xslt fournies dans le projet https://github.com/ansforge/TestContenuCDA-3-0\nPour apporter les preuves schematrons nécessaires pour les tests d’alimentation, vous pouvez retrouver les traces d’exécution de cette validation dans les logs.\nExemple de validation pour un document CDAR2 Niveau 1 (structuration minimale) :\nANS_CDA_ToolsManager : load tools from : testContenuCDA-2.40.zip ANS_CDA_ToolsManager : directory created : C:\\Users\\lfo\\AppData\\Local\\Temp\\dmpc-api8808336379869609192 ANS_CDA_ToolsManager : testContenuCDA-2.40.zip unzipped in C:\\Users\\lfo\\AppData\\Local\\Temp\\dmpc-api8808336379869609192\\testContenuCDA_20220310_V2.40 DMPCCdaValidator : validate with schema : C:\\Users\\lfo\\AppData\\Local\\Temp\\dmpc-api8808336379869609192\\testContenuCDA_20220310_V2.40\\infrastructure\\cda\\CDA_extended.xsd DMPCCdaValidator : validate with schematron : C:\\Users\\lfo\\AppData\\Local\\Temp\\dmpc-api8808336379869609192\\testContenuCDA_20220310_V2.40\\schematrons\\profils\\CI-SIS_StructurationMinimale.xsl DMPCCdaValidator : --------- SCHEMATRON_VALIDATION_RESULT ----- : \u003c?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?\u003e \u003c?xml-stylesheet type=\"text/xsl\" href=\"rapportSchematronToHtml4.xsl\"?\u003e\u003csvrl:schematron-output xmlns:cda=\"urn:hl7-org:v3\" xmlns:iso=\"http://purl.oclc.org/dsdl/schematron\" xmlns:jdv=\"http://esante.gouv.fr\" xmlns:lab=\"urn:oid:1.3.6.1.4.1.19376.1.3.2\" xmlns:saxon=\"http://saxon.sf.net/\" xmlns:schold=\"http://www.ascc.net/xml/schematron\" xmlns:svrl=\"http://purl.oclc.org/dsdl/svrl\" xmlns:svs=\"urn:ihe:iti:svs:2008\" xmlns:xhtml=\"http://www.w3.org/1999/xhtml\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" dateHeure=\"6/10/2022 à 14:37:13 (temps UTC+02:00)\" document=\"\" phase=\"Struct_minimale\" schemaVersion=\"CI-SIS_StructurationMinimale.sch\" title=\"Rapport de conformité du document aux spécifications françaises (en-tête)\"\u003e \u003csvrl:active-pattern id=\"addr\"/\u003e \u003csvrl:fired-rule context=\"cda:addr\"/\u003e ... \u003csvrl:active-pattern id=\"variablesSM\"/\u003e \u003c/svrl:schematron-output\u003e --------- Pour apporter la preuve, il vous suffira d’extraire le fichier xml de bonne exécution du schematron.\nPour une NoteVaccination, ou autre document structuré (CDAR2 N3) d’autres validations pourront être effectués :\nDMPCCdaValidator : validate with schematron : C:\\Users\\lfo\\AppData\\Local\\Temp\\devbox-sante-dmp4342499872869358088\\testContenuCDA_20220310_V2.40\\schematrons\\CI-SIS_VAC-NOTE_2021.01.xsl --------- SCHEMATRON_VALIDATION_RESULT ----- : \u003c?xml-stylesheet type=\"text/xsl\" href=\"rapportSchematronToHtml4.xsl\"?\u003e\u003csvrl:schematron-output xmlns:cda=\"urn:hl7-org:v3\" xmlns:iso=\"http://purl.oclc.org/dsdl/schematron\" xmlns:jdv=\"http://esante.gouv.fr\" xmlns:saxon=\"http://saxon.sf.net/\" xmlns:schold=\"http://www.ascc.net/xml/schematron\" xmlns:svrl=\"http://purl.oclc.org/dsdl/svrl\" xmlns:svs=\"urn:ihe:iti:svs:2008\" xmlns:xhtml=\"http://www.w3.org/1999/xhtml\" xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" dateHeure=\"3/11/2022 à 18:22:00 (temps UTC+01:00)\" document=\"\" phase=\"CI-SIS_VAC-NOTE_2021.01\" schemaVersion=\"CI-SIS_VAC-NOTE_2021.01.sch\" title=\"Vérification de la conformité au modèle Note de vaccination 2021.01\"\u003e \u003csvrl:active-pattern id=\"JDV_UsageDrogues-CISIS\"\u003e \u003c/svrl:schematron-output\u003e ---------- Validation manuelle Utilisation des outils mis à disposition par l’ANS Afin de valider manuellement les CDA générés par la DevBox-Santé DMP il faut utiliser les outils de vérification fournit par l’ANS. Ils sont dorénavant hébergés sur Github : https://github.com/ansforge/TestContenuCDA-3-0\nLa documentation se trouve ici : https://github.com/ansforge/TestContenuCDA-3-0/blob/main/00%20CI-SIS_TestContenuCDA-LISEZ-MOI.docx\nExemple de validation en erreur : Version taggée Depuis Octobre 2024, des versions de ces outils sont taggées : https://github.com/ansforge/TestContenuCDA-3-0/tags dont une est vérifiée au jour de la mise à jour de cette page : Il est donc fortement conseillé d’utiliser la version taggée et vérifiée.\nIl est actuellement impossible de connaître la version utilisée à chaque homologation ansi que celle utilisée par le serveur DMP.\ns\nUtilisation de l’espace de tests de l’ANS Attention Attention, cet outil ne valide pas les CDA de manière identique à l’outil disponible sur GitHub (outil utilisé par la DevBox-Santé-DMP et le serveur DMP). Sur le site interop.esante.gouv.fr ou plus exactement https://interop.esante.gouv.fr/evs/home.seam\nUne fois sur le site :\nIl vous faut télécharger votre fichier CDA Choisir le schematron à valider : “Structuration minimale des documents de santé” par exemple Cliquer sur valider ","categories":"","description":"Validation des CDA générés par la DevBox-Santé DMP lors de l'homologation\n","excerpt":"Validation des CDA générés par la DevBox-Santé DMP lors de …","ref":"/6.x/connecteurs/dmp/howtos/schematron/","tags":"","title":"Schematron"},{"body":"Diagramme de flux !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 component \"DevBox-santé INSi\" as DevBoxSanteINSi cloud \"Téléservice INSi\" as INSi DevBoxSanteINSi --\u003e INSi : https (TLS 1.2 / IGC Santé) ","categories":"","description":"Pour les intéressés, l'architecture interne des différents composants\n","excerpt":"Pour les intéressés, l'architecture interne des différents composants\n","ref":"/5.x/insi/architecture/","tags":"","title":"Architecture interne des différents composants"},{"body":"Diagramme de flux !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 component \"DevBox-santé INSi\" as DevBoxSanteINSi cloud \"Téléservice INSi\" as INSi DevBoxSanteINSi --\u003e INSi : https (TLS 1.2 / IGC Santé) ","categories":"","description":"Pour les intéressés, l'architecture interne des différents composants\n","excerpt":"Pour les intéressés, l'architecture interne des différents composants\n","ref":"/6.x/connecteurs/insi/architecture/","tags":"","title":"Architecture interne des différents composants"},{"body":"Mise à jour depuis PDT-INF-547v9 (24/07/2025)\nEnvironnements de Production LPS v2 : https://lps2.dmp.gouv.fr/si-dmp-server/v2/services Web PS (accès CPS) : https://wps-cps.dmp.monespacesante.fr Web PS (accès PSC) : https://wps-psc.dmp.monespacesante.fr APIs PSC Serveur d’autorisation : https://auth-lps.dmp.gouv.fr/api LPS API : https://api-lps.dmp.gouv.fr/si-dmp-server/v2/services/ Environnement de Développement Environnement pour les tests d’homologation\nLPS API V2 : https://lps.dev1.dmp.gouv.fr/si-dmp-server/v2/services WEB PS (accès CPS) : https://wps-cps.dev1.dmp.gouv.fr/ps/acces-web Web PS (accès PSC) : https://wps-psc.dev1.dmp.gouv.fr/ps/acces-web APIs PSC Serveur d’autorisation : https://auth-lps.dev1.dmp.gouv.fr/api-lps/oauth/token LPS API : https://api-lps.dev1.dmp.gouv.fr/si-dmp-server/v2/services/ Environnement ÉditeurNext Environnement dédié aux tests de non régressions.\nLPS API V2 : https://lps.de2.dmp.gouv.fr/si-dmp-server/v2/services/ WEB PS (accès CPS) : https://wps-cps.de2.dmp.gouv.fr Web PS (accès PSC) : https://wps-psc.de2.dmp.gouv.fr Environnements de Formation Environnement dédié aux démonstrations et formations clients\nLPS API V2 : https://lps.df1.dmp.gouv.fr/si-dmp-server/v2/services/ WEB PS (accès CPS) : https://wps-cps.df1.dmp.gouv.fr Web PS (accès PSC) : https://wps-psc.df1.dmp.gouv.fr Deprecated ou à vérifier Consignes données pouvant être remises en cause depuis\nTests en alimentation Afin de ne pas gêner les tests de recherche des autres éditeurs, il est fortement conseillé de réaliser les tests d’alimentation avec les patients dédiés suivants :\nId Prénom de naissance Liste prénoms Prénom utilisé Nom de naissance NOM utilisé INS Date naissance Rang Sexe 2 FIGATELLIX FIGATELLIX FIGATELLIX CORSE CORSE 188102B17295165 12/10/1988 1 M 3 DOMINIQUE DOMINIQUE DOMINIQUE PAT-TROIS PAT-TROIS 279035121518989 28/03/1979 1 F 4 ISABELLE ISABELLE ISABELLE PAT-QUATRE PAT-QUATRE 133061764035249 07/06/1933 1 F 5 MICHEL MICHEL MICHEL PAT-CINQ PAT-CINQ 109119319795014 27/11/1909 1 M 6 ALAIN ALAIN ALAIN PAT-SIX PAT-SIX 162018885045327 13/01/1962 1 M 7 PIERRE PIERRE PIERRE PAT-SEPT PAT-SEPT 229032857590484 30/03/1929 1 M 8 FRANCOISE FRANCOISE FRANCOISE PAT-HUIT PAT-HUIT 274075176079430 02/07/1974 1 F 9 SYLVIE SYLVIE SYLVIE PAT-NEUF PAT-NEUF 158019197706419 25/01/1958 1 F 10 CHRISTINE CHRISTINE CHRISTINE PAT-DIX PAT-DIX 225088829733682 13/08/1925 1 F 12 NATHALIE NATHALIE NATHALIE PAT-DOUZE PAT-DOUZE 248039263001064 21/03/1948 1 F 13 BERNARD BERNARD BERNARD PAT-TREIZE PAT-TREIZE 148096027562254 28/09/1948 1 M 14 FRANCOIS FRANCOIS FRANCOIS PAT-QUATORZE PAT-QUATORZE 221016084819949 14/01/1921 1 M 15 JACQUES JACQUES JACQUES PAT-QUINZE PAT-QUINZE 265075598096690 19/07/1965 1 M 16 VERONIQUE VERONIQUE VERONIQUE PAT-SEIZE PAT-SEIZE 242098913663781 01/09/1942 1 F 17 ANNE ANNE ANNE PAT-DIXSEPT PAT-DIXSEPT 292102841118037 28/10/1992 1 F 18 MARTINE MARTINE MARTINE PAT-DIXHUIT PAT-DIXHUIT 205027210277717 21/02/1905 1 F 19 ERIC ERIC ERIC PAT-DIXNEUF PAT-DIXNEUF 148027442313969 06/02/1948 1 M 20 OLIVIER OLIVIER OLIVIER PAT-VINGT PAT-VINGT 184119313757269 17/11/1984 1 M Vaccination Les différentes vaccinations possibles de valider pour le patient Jean BON :\n","categories":"","description":"Les différents environnements pour accéder au DMP \n","excerpt":"Les différents environnements pour accéder au DMP \n","ref":"/6.x/connecteurs/dmp/howtos/environnements/","tags":"","title":"Différents environnements du DMP"},{"body":"Les différents composants de la DevBox-Santé ont besoin d’accéder à internet et à certains services pour leur bon fonctionnement.\nEnvironnements de production Voici la liste des composants qui ont besoin d’accéder à des services externes.\nComposant Protocole Port Destination Usage Installer https 443 installers.devbox-sante.fr Téléchargement des resources d’installation et mises à jour Licence Manager https 443 clients.devbox-sante.fr Vérification des licences d’utilisation INSi https 443 services-ps.ameli.fr Accès au téléservice INSi DMP https 443 lps2.dmp.gouv.fr Accès au téléservice DMP DMP https 443 www.dmp.fr Accès au paramétres du DMP DMP https 443 mos.esante.gouv.fr Accès à la mise à jour des nomenclatures DMP ntp 123 fr.pool.ntp.org Accès à un serveur de temps ntp fr.pool.ntp.org configuré par défaut mais configurable IGCSanté (DMP, MSS, INSi) http 80 igc-sante.esante.gouv.fr Accès au certificats de l’IGC santé MSS ldap 389 ldap.annuaire.mssante.fr Accès annuaire ldap des professionnels de santé MSS (Mailiz) https 443 mss-msg-igcsante.mssante.fr Accès aux Web Services de messagerie Mailiz Remarque : Votre installation ne comporte pas forcément tous les composants.\nEnvironnements de test et formation Les urls changent sur ces environnements, cf. les environnements du DMP par exemple.\nEnvironnements MSSanté annuaire.mssante.fr : Ancienne IP : 217.108.164.109 , Nouvelle IP : 194.206.122.25 (chgmt le 03/06/2024)\n","categories":"","description":"Aide pour le déploiement de la solution DevBox-Santé\n","excerpt":"Aide pour le déploiement de la solution DevBox-Santé\n","ref":"/5.x/installer/flux/","tags":"","title":"Matrice des Flux"},{"body":"Les différents composants de la DevBox-Santé ont besoin d’accéder à internet et à certains services pour leur bon fonctionnement.\nEnvironnements de production Image Docker ou installation poste client Voici la liste des composants qui ont besoin d’accéder à des services externes.\nComposant Protocole Port Destination Usage Installer https 443 installers.devbox-sante.fr Téléchargement des resources d’installation et mises à jour Licence Manager https 443 clients.devbox-sante.fr Vérification des licences d’utilisation INSi https 443 services-ps.ameli.fr Accès au téléservice INSi DMP https 443 lps2.dmp.gouv.fr Accès au téléservice DMP DMP https 443 www.dmp.fr Accès au paramétres du DMP DMP https 443 mos.esante.gouv.fr Accès à la mise à jour des nomenclatures DMP ntp 123 fr.pool.ntp.org Accès à un serveur de temps ntp fr.pool.ntp.org configuré par défaut mais configurable MSS ldap 389 ldap.annuaire.mssante.fr Accès annuaire ldap des professionnels de santé MSS (Mailiz) https 443 mss-msg-igcsante.mssante.fr Accès aux Web Services de messagerie Mailiz en authentification CPS seulement MSS opérateurs SMTP / IMAP 587 / 143 dépend de l’opérateur Liste des opérateurs référencés sur https://mss-demo.devbox-sante.fr/ MSS configuration https 443 bitbucket.org Récupère la configuration des opérateurs DMP, MSS, INSi (IGCSanté)) http 80 igc-sante.esante.gouv.fr Accès au certificats de l’IGC santé Remarque : Votre installation ne comporte pas forcément tous les composants.\nDevBox-Santé Agent Liste des flux sortants de l’agent\nComposant Protocole Port Destination Usage Installer https 443 installers.devbox-sante.fr Téléchargement des resources d’installation et mises à jour DevBox intégrateur https (wss) 443 dépend du client intégrateur communication websocket sécurisé avec la DevBox-Santé serveur de l’intégrateur Environnements de test et formation Les urls changent sur ces environnements, cf. les environnements du DMP par exemple.\n","categories":"","description":"Aide pour le déploiement de la solution DevBox-Santé\n","excerpt":"Aide pour le déploiement de la solution DevBox-Santé\n","ref":"/6.x/installation/flux/","tags":"","title":"Matrice des Flux"},{"body":" Attention :\nCette page donne l’information mais ne vous dispense pas d’accéder à la dernière version de la documentation officielle.\nPDT-INF-526 - Matrice des droits fonctionnels v1.8 Matrice d’habilitation des documents https://www.dmp.fr/documents/d/dmp/matrice-habilitation\n","categories":"","description":"Les documents et transactions sont soumis à des droits dépendant du profil de l'utilisateur et du mode d'authentification\n","excerpt":"Les documents et transactions sont soumis à des droits dépendant du …","ref":"/6.x/connecteurs/dmp/howtos/matrice_des_droits/","tags":"","title":"Différentes matrices des droits"},{"body":"","categories":"","description":"Guide de migration vers les versions supérieures de la DevBox-Santé DMP\n","excerpt":"Guide de migration vers les versions supérieures de la DevBox-Santé …","ref":"/5.x/dmp/howtos/migrations/","tags":"","title":"Migrations"},{"body":"","categories":"","description":"Guide de migration vers les versions supérieures de la DevBox-Santé MSSanté\n","excerpt":"Guide de migration vers les versions supérieures de la DevBox-Santé …","ref":"/5.x/ms-sante/howtos/migrations/","tags":"","title":"Migrations"},{"body":"","categories":"","description":"Guide de migration vers les versions supérieures de la DevBox-Santé MSSanté\n","excerpt":"Guide de migration vers les versions supérieures de la DevBox-Santé …","ref":"/6.x/connecteurs/ms-sante/howtos/migrations/","tags":"","title":"Migrations"},{"body":"Le glossaire du GIE SesamVitale : https://industriels.sesam-vitale.fr/group/industriels/glossaire\nContient tous les noms et accronymes barbares dans le domaine de l’informatique de santé\nA AC Autorité de Certification ADELI Automatisation des Listes (répertoires de professionnels de santé en cours de remplacement par le RPPS) AE Autorité d’Enregistrement AF Appel à Financement / Document d’Appel à Financement Annuaire Santé L’Annuaire Santé recense les professionnels de santé enregistrés dans les répertoires nationaux RPPS et ADELI et leurs situations d’exercice. Ces données proviennent des autorités chargées de leur enregistrement (ordres professionnels, ARS, service de santé des armées) ANS Agence du Numérique en Santé ANSSI Agence Nationale pour la Sécurité des Systèmes d’Information ARS Agence Régionale de Santé B BAL Boîte Aux Lettres BAL personnelle Boîte Aux Lettres nominatives, rattachée dans l’annuaire santé à une personne physique. Elle est réservée à l’usage d’un professionnel habilité ou d’un usager. BAL organisationnelle Boîte Aux Lettres dont l’accès est possible pour un ensemble de professionnels habilités. Elle est rattachée dans l’annuaire santé à une personne morale. BAL applicative Boîte Aux Lettres accédée par un logiciel métier ou à une machine. Elle est rattachée dans l’annuaire santé à une personne morale. C CDA (CDAR2) Clinical Document Architecture (http://www.hl7.org/implement/standards/product_brief.cfm?product_id=7) CDAR2 Niveau1 architectecture dédiée aux documents cliniques dont le corps du document est non structuré. (https://esante.gouv.fr/volet-structuration-minimale-de-documents-de-sante) CDAR2 Niveau 3 architectecture dédiée aux documents cliniques dont le corps du document est structuré comme le CR-BIO (https://esante.gouv.fr/volet-de-reference-modeles-de-contenus-cda) CI-SIS Cadre d’Intéropérabilité des Système d’Information de Santé (https://esante.gouv.fr/produits-services/ci-sis) CGU Conditions Générales d’Utilisation CNAM Caisse Nationale d’Assurance Maladie CNDA Centre National de Dépôt et d’Agrément (organisme autorisant les logiciels à échanger des données de santé) CNIL Commission Nationale de l’Informatique et des Libertés CNOP Conseil National de l’Ordre des Pharmaciens Convergence Plateforme nationale d’accompagnement de la convergence vers la cible d’urbanisation sectorielle du virage numérique (https://convergence.esante.gouv.fr) CPS/ CPx Carte de Professionnel de Santé CRL Certificate Revocation List D DAC Dispositif d’Appui à la Coordination DGOS Direction Générale de l’Offre de Soins DGS Direction Générale de Santé DSR Dossier des Spécifications de Référencement (publié par l’ANS) DM Dispositif Médical DMn Dispositif Médical Numérique (https://industriels.esante.gouv.fr/produits-et-services/dispositifs-medicaux-numeriques) DMP Dossier Médical Partagé (https://www.dmp.fr/) DN Distinguished Name DNS Domain Name Server (Système de Noms de Domaine, en Français) Donnée de santé (Définition CNIL) Une donnée de santé est une donnée relative à la santé physique ou mentale, passée, présente ou future, d’une personne physique (y compris la prestation de services de soins de santé) qui révèle des informations sur l’état de santé de cette personne (article 4 du RGPD).\nDPI Dossier Patient Informatisé DSN Delivery Status Notification DSFT Dossier des Spécifications Fonctionnelles et Techniques, aussi appelé « Référentiel » ou « Guide d’Implémentation » E EF Entité Fonctionnelle ENS Espace Numérique de Santé ES Établissement de Santé : terme recouvrant les établissements de soins publics et privés, incluant les plateaux techniques en ville et en hôpital EXI Exigence (implémentation obligatoire) F FINESS Fichier National des Établissements Sanitaires et Sociaux G GAP/GAM Gestion Administrative du Patient / du Malade GIE Groupement d’Intérêt Économique Ex : le GIE SESAM-Vitale réalise l’interopérabilité des services de l’assurance maladie GRADeS Groupements Régionaux d’Appui au Développement de l’e-Santé (anciennement GCS : Groupements de Coopération Sanitaire) H HAS Haute Autorité de Santé HDS Hébergeur de Données de Santé I IDEC Infirmier coordinateur Identité homonyme Attribut utilisé pour signaler un fort taux de ressemblance entre des identités numériques et alerter les professionnels lors de la prise en charge de ces usagers homonymes ou à identités approchantes. Identité INS Ensemble des informations numériques renvoyés par le téléservice INSi, constituées : du matricule INS : numéro d’identification au répertoire des personnes physiques (NIR ou NIA) ; des traits INS (Nom de naissance, liste des prénoms de l’état civil, date de naissance, sexe, code commune du lieu de naissance ou code pays pour les personnes nées à l’étranger) ; de l’OID (object identifier) qui identifie l’origine et le type de l’information (INSEE, NIR/NIA…). Identité numérique L’identité numérique correspond à la représentation d’un individu physique dans un système d’information (cf. Annexe I). Un même usager peut avoir plusieurs identités numériques : dans le (ou les) domaines d’identification ou de rapprochement utilisés par la structure, dans son dossier médical partagé (DMP), dans la base de données de facturation de l’assurance maladie… En revanche, lorsque l’usager a plusieurs identités numériques dans un même domaine d’identification, il s’agit de doublons. Identité provisoire Statut d’une identité numérique locale qui n’a pas été récupérée sur le téléservice INSi et qui n’a pas encore fait l’objet d’un contrôle de cohérence avec les traits portés par un dispositif d’identité à haut niveau de confiance. Ce statut peut, si besoin, être associé à un attribut Identité douteuse ou Identité fictive. Identité qualifiée Statut d’une identité numérique locale qui a été récupérée sur le téléservice INSi, et comparée avec succès aux traits de la personne physique portés par un dispositif d’identité à haut niveau de confiance. Identité récupérée Statut d’une identité numérique locale qui a été récupérée sur le téléservice INSi après avoir été comparée avec succès aux traits de la personne physique mais qui n’a pas encore pu être contrôlée à partir d’un document d’identité à haut niveau de confiance. Identité sensible Le terme d’identité sensible s’utilise de façon générique pour regrouper tous les cas où il existe un droit renforcé par la réglementation vis-à-vis de la confidentialité, notamment en termes d’anonymat des soins. Identité validée Statut d’une identité numérique qui n’a pas été récupérée sur le téléservice INSi mais qui a fait l’objet d’un contrôle de cohérence avec le jeu de traits portés par un dispositif d’identité à haut niveau de confiance, ce qui garantit l’absence d’erreur dans l’enregistrement des traits d’identité d’un usager. IETF Internet Engineering Task Force IHM Interface Homme-Machine INSEE Institut National de la Statistique et des Études Économiques IGC Infrastructure de Gestion de Clés IHE Integrated Healthcare Entreprise (https://esante.gouv.fr/volet-de-reference-modeles-de-contenus-cda) INS Identité Nationale de Santé / Identifiant National de Santé (composé de : matricule INS + OID + 5 traits stricts de référence / critères d’identité) IMAP Internet Mail Access Protocol L LAP Logiciel d’Aide à la Prescription LDAP Lightweight Directory Access Protocol LGC Logiciel de Gestion de Cabinet LGO Logiciel de Gestion d’Officine LPP Liste des Produits et des Prestations (https://www.ameli.fr/gironde/etablissement/exercice-professionnel/nomenclatures-codage/lpp) LPS Logiciel de Professionnel de Santé (abréviation générique désignant une application utilisée par un professionnel de santé, dans ou hors Établissement de Santé) M Mailiz Opérateur MSSanté, géré par l’ANS, proposant une BAL personnelle à tout professionnel habilité doté d’une CPS MIME Multipurpose Internet Mail Extensions MDN Message Disposition Notification MDPH Maison Départemantale pour les Personnes Handicapées Mon Espace Santé (https://editeurs.monespacesante.fr/) MSSanté Messagerie Sécurisée de Santé MTA Mail Transport Agent MUA Mail User Agent (client de messagerie) N NAS Nomenclature des Acteurs de Santé NDR Non-Delivery Report NIA Numéro d’Identification d’Attente NIE Numéro d’Identification Éditeur NIL Numéro d’Identification Logiciel NIR Numéro d’inscription au répertoire des personnes physiques (NIRPP ou NIR) NTT Numéro Technique Temporaire O OCSP Online Certifcate Status Protocol OID Object Identifier (Identifiant d’Objets) OTP One Time Password P PM Personne Morale Professionnel Habilité Désigne les professionnels de santé et tout professionnel habilité par la loi à collecter et échanger des données de santé à caractère personnel. PP Personne Physique PS Professionnel de Santé (acteur de santé humain) PSSI Politique de Sécurité des Systèmes d’Information PUI Pharmacie à Usage Intérieur R RCP Réunion de Concertation Pluridisciplinaire REM Référentiel d’Exigences Minimales (désigne les fichiers tableurs contenant l’ensemble des exigences à respecter pour chaque couloir) REST Representational State Transfer RFC Request For Comments (série numérotée de documents officiels publiés par l’IETF) RGPD Règlement Général sur la Protection des Données RNIPP Répertoire National d’Identification des Personnes Physiques RNIV Référentiel National d’IdentitoVigilance RPPS Répertoire Partagé des Professionnels de Santé S Ségur du numérique en santé Mise à disposition d’une enveloppe de financement historique de 2 milliards d’euros, SESALI Service européen de santé en ligne (https://sesali.fr/) (https://industriels.esante.gouv.fr/produits-et-services/sesali) SI Système d’Information SIR Système Inter-Régime SNGI Système National de Gestion des Identités SMTP Simple Mail Transport Protocol SOAP Simple Object Access Protocol SONS Système Ouvert et Non Sélectif (https://esante.gouv.fr/segur-de-la-sante/hopital) Le dispositif SONS (Système Ouvert et Non Sélectif) d’achat de l’Etat pour les comptes des acteurs de l’offre de soins : ce dispositif aide les établissements à acquérir et déployer des versions logicielles référencées Ségur, c’est-à-dire respectant l’ensemble des exigences Ségur édictées dans les Dossiers de Spécifications de Référencement (DSR)\nSSI Sécurité du Système d’Information SSIAD Service de Soins Infirmiers À Domicile SSL Secure Sockets Layer SUN-ES Ségur Usage Numérie en Établissement de Santé (https://solidarites-sante.gouv.fr/systeme-de-sante-et-medico-social/segur-de-la-sante/sun-es) T TF Task Force TLS Transport Layer Security - Norme de sécurisation par chiffrement du transport de l’information au sein des réseaux (anciennement SSL) V VIHF Vecteur d’Identification et d’Habilitations Formelles - Défini dans le CI-SIS Volet transport synchrone (https://esante.gouv.fr/sites/default/files/media_entity/documents/ci-sis_transport_volet-synchrone_v1.9.pdf) W WS Web Service WSDL Web Services Description Language X XSD XML Schema Definition ","categories":"","description":"","excerpt":"Le glossaire du GIE SesamVitale : …","ref":"/blog/2022/09/23/glossaire/","tags":"","title":"Glossaire"},{"body":"Pour répondre aux exigences du “Référentiel socle MSSanté #2, Clients de Messageries Sécurisées de Santé”, le connecteur ms-santé inclus la possibilité de passer des headers spécifiques :\nX-MSS-MES X_MSS_INS X_MSS_CODECDA X_MSS_NIL Exemple:\n{ \"attachments\": [{ \"contentType\": \"application/xml\", \"file\": \"XXXXX\", \"fileName\": \"cda.xml\" }], \"addresses\": [ { \"email\": \"{{emailPS}}\", \"name\": \"PS\", \"type\": \"TO\" } ], \"headers\": { \"X-MSS-INS\": \"O\", \"X-MSS-CODECDA\": \"34112-3\", \"X-MSS-NIL\": \"DEV935997\" }, \"flags\": [], \"subject\": \"Message test envoi avec header x-mss\", \"body\": \"test \u003cspan style=\\\"color:#ff0000\\\"\u003emessage \u003c/span\u003e\u003cb\u003ehtml\u003c/b\u003e\", \"priority\": \"NORMAL\", \"isHtml\": true } Attention : il ne s’agit pas ici de header HTTP, mais de header pour les messages SMTP/MIME. Le connecteur ne fait pas de contrôle de cohérence entre la valeur des entêtes et les documents envoyés en pièces jointes.\nRappel des exigences Rappel concernant le “Référentiel socle MSSanté #2, Clients de Messageries Sécurisées de Santé”\nECO.2.4.1 “Le Système DOIT positionner un entête SMTP ““X-MSS-CODECDA”” dans un message envoyé qui comporte en PJ un ou plusieurs documents CDA encapsulés dans une archive IHE_XDM. La valeur de cet entete DOIT être égale à celle du champ code* présent dans l’entête du document CDA.\nEn cas de présence de plusieurs documents CDA, l’entête sera multi-valué. En cas d’absence en PJ d’un document de santé CDA encapsulé dans une archive IHE_XDM, l’entête ne DOIT pas être positionné.\ncode défini dans le ““Volet Structuration Minimale de Documents de Santé – CI-SIS Juin 2021, §3.5.5.5\"””\nECO.2.4.2 “Le Système DOIT positionner l’entête SMTP ““X-MSS-INS”” dans un message envoyé qui comporte en PJ un document de santé CDA encapsulé dans une archive IHE_XDM. La valeur de cet entete DOIT être :\n‘O’ (Oui) en cas de présence d’une Identité Nationale de Santé (INS qualifiée””*) dans l’archive IHE_XDM ;\n‘N’ (Non) en cas d’absence d’une Identité Nationale de Santé (INS qualifiée\"\"*) dans l’archive IHE_XDM.\nEn cas d’absence en PJ d’un document de santé CDA encapsulé dans une archive IHE_XDM, l’entête ne DOIT pas être positionnée.\nINS qualifié au sens du §5.3.3 du Référentiel Identifiant National de Santé v2.0. La présence d’un INS qualifié est caractérisé par la présence de l’INS (matricule, OID) et des 4 traits d’identité suivants dans l’entete CDA : nom de naissance, 1er prenom, date de naissance et sexe\"\nECO.2.4.3 “Le Système DOIT positionner l’entête SMTP ““X-MSS-NIL”” dans tous les courriels envoyés. Elle sera renseignée du numéro ““référence produit”” attribué lors de la déclaration du produit sur la plateforme convergence.esante.gouv.fr.\nLe numéro ““référence produit”” à renseigner est celui du logiciel qui a produit le message SMTP.”\nECO.2.2.8 Le Système DOIT pouvoir positionner un entête SMTP “X-MSS-MES”, dans les messages envoyés vers un usager (Mon espace santé), avec la valeur “FIN” (3 caractères en majuscules), lorsque le professionnel émetteur ne souhaite pas que le patient puisse lui répondre en retour.\n","categories":"","description":"","excerpt":"Pour répondre aux exigences du “Référentiel socle MSSanté #2, Clients …","ref":"/5.x/ms-sante/howtos/entete-x-mss/","tags":"","title":"Entête spécifiques X-MSS"},{"body":"Pour répondre aux exigences du “Référentiel socle MSSanté #2, Clients de Messageries Sécurisées de Santé”, le connecteur ms-santé inclus la possibilité de passer des headers spécifiques :\nX-MSS-MES X_MSS_INS X_MSS_CODECDA X_MSS_NIL Exemple:\n{ \"attachments\": [{ \"contentType\": \"application/xml\", \"file\": \"XXXXX\", \"fileName\": \"cda.xml\" }], \"addresses\": [ { \"email\": \"{{emailPS}}\", \"name\": \"PS\", \"type\": \"TO\" } ], \"headers\": { \"X-MSS-INS\": \"O\", \"X-MSS-CODECDA\": \"34112-3\", \"X-MSS-NIL\": \"DEV935997\" }, \"flags\": [], \"subject\": \"Message test envoi avec header x-mss\", \"body\": \"test \u003cspan style=\\\"color:#ff0000\\\"\u003emessage \u003c/span\u003e\u003cb\u003ehtml\u003c/b\u003e\", \"priority\": \"NORMAL\", \"isHtml\": true } Attention : il ne s’agit pas ici de header HTTP, mais de header pour les messages SMTP/MIME. Le connecteur ne fait pas de contrôle de cohérence entre la valeur des entêtes et les documents envoyés en pièces jointes.\nRappel des exigences Rappel concernant le “Référentiel socle MSSanté #2, Clients de Messageries Sécurisées de Santé”\nECO.2.4.1 “Le Système DOIT positionner un entête SMTP ““X-MSS-CODECDA”” dans un message envoyé qui comporte en PJ un ou plusieurs documents CDA encapsulés dans une archive IHE_XDM. La valeur de cet entete DOIT être égale à celle du champ code* présent dans l’entête du document CDA.\nEn cas de présence de plusieurs documents CDA, l’entête sera multi-valué. En cas d’absence en PJ d’un document de santé CDA encapsulé dans une archive IHE_XDM, l’entête ne DOIT pas être positionné.\ncode défini dans le ““Volet Structuration Minimale de Documents de Santé – CI-SIS Juin 2021, §3.5.5.5\"””\nECO.2.4.2 “Le Système DOIT positionner l’entête SMTP ““X-MSS-INS”” dans un message envoyé qui comporte en PJ un document de santé CDA encapsulé dans une archive IHE_XDM. La valeur de cet entete DOIT être :\n‘O’ (Oui) en cas de présence d’une Identité Nationale de Santé (INS qualifiée””*) dans l’archive IHE_XDM ;\n‘N’ (Non) en cas d’absence d’une Identité Nationale de Santé (INS qualifiée\"\"*) dans l’archive IHE_XDM.\nEn cas d’absence en PJ d’un document de santé CDA encapsulé dans une archive IHE_XDM, l’entête ne DOIT pas être positionnée.\nINS qualifié au sens du §5.3.3 du Référentiel Identifiant National de Santé v2.0. La présence d’un INS qualifié est caractérisé par la présence de l’INS (matricule, OID) et des 4 traits d’identité suivants dans l’entete CDA : nom de naissance, 1er prenom, date de naissance et sexe\"\nECO.2.4.3 “Le Système DOIT positionner l’entête SMTP ““X-MSS-NIL”” dans tous les courriels envoyés. Elle sera renseignée du numéro ““référence produit”” attribué lors de la déclaration du produit sur la plateforme convergence.esante.gouv.fr.\nLe numéro ““référence produit”” à renseigner est celui du logiciel qui a produit le message SMTP.”\nECO.2.2.8 Le Système DOIT pouvoir positionner un entête SMTP “X-MSS-MES”, dans les messages envoyés vers un usager (Mon espace santé), avec la valeur “FIN” (3 caractères en majuscules), lorsque le professionnel émetteur ne souhaite pas que le patient puisse lui répondre en retour.\n","categories":"","description":"","excerpt":"Pour répondre aux exigences du “Référentiel socle MSSanté #2, Clients …","ref":"/6.x/connecteurs/ms-sante/howtos/entete-x-mss/","tags":"","title":"Entête spécifiques X-MSS"},{"body":"@Since DMP-5.0\nLa Devbox-santé DMP retourne ce type de document CDA sous trois formes :\nbinaire , c’est à dire, le document xml contenant le cda et sa feuille de style cda html, c’est à dire le rendu html une fois la feuille de style xslt appliquée au cda. ","categories":"","description":"","excerpt":"@Since DMP-5.0\nLa Devbox-santé DMP retourne ce type de document CDA …","ref":"/5.x/dmp/cda/autopresentable/","tags":"","title":"CDA autoprésentable"},{"body":"@Since DMP-5.0\nLa Devbox-santé DMP retourne ce type de document CDA sous trois formes :\nbinaire , c’est à dire, le document xml contenant le cda et sa feuille de style cda html, c’est à dire le rendu html une fois la feuille de style xslt appliquée au cda. ","categories":"","description":"","excerpt":"@Since DMP-5.0\nLa Devbox-santé DMP retourne ce type de document CDA …","ref":"/6.x/connecteurs/dmp/cda/autopresentable/","tags":"","title":"CDA autoprésentable"},{"body":"Vous avez accès à l’environnement de démonstration de Stellair d’Olaqin : https://demo.stellair.fr :\nVous pouvez également accéder avec vos terminaux Olaqin compatible aux APIs REST de la DevBox-Santé.\nPour celà, un environnement de démonstration a été mis à votre disposition : https://demo-stellair.devbox-sante.fr\nAuthentification et Accès à Swagger Depuis l’environnement de démonstration , vous pouvez obtenir un jeton d’identification :\nSur la page d’accueil, accéder à la connexion Stellair : Après redirection vers le SSO Stellair, connectez-vous avec vos identifiants Une fois authentifié, vous pouvez accéder aux APIs rest via SWAGGER : Test d’existence sur le DMP POST de la requete http pour un test d’existence DMP : En curl :\ncurl -X POST \"https://demo-stellair.devbox-sante.fr/dmp/td02Exist\" -H \"accept: */*\" -H \"Content-Type: application/json\" -d \"{ \\\"context\\\": { \\\"author\\\": {}, \\\"insNirAutorite\\\": \\\"TEST\\\", \\\"modeAcces\\\": { \\\"acces\\\": \\\"NORMAL\\\" } }, \\\"request\\\": { \\\"ins\\\": \\\"277076322082910\\\" }}\" Où le corps de la requête est :\n{ \"context\": { \"author\": { }, \"insNirAutorite\": \"TEST\", \"modeAcces\": { \"acces\": \"NORMAL\" } }, \"request\": { \"ins\": \"277076322082910\" } } Et récupérer la réponse : La réponse étant : { \"patient\": { \"ins\": \"277076322082910\", \"insAutorite\": \"1.2.250.1.213.1.4.10\", \"nomPatronymique\": \"NESSI\", \"prenom\": \"RUTH\", \"dateDeNaissance\": \"19770714\", \"ordreDeNaissance\": 0, \"sexe\": \"F\" }, \"role\": \"STANDARD\", \"status\": \"ACTIF\", \"autorisation\": \"NON_EXISTE\", \"compteInternetOuvert\": true } Ce workflow permet de mettre en évidence l’accès au différentes fonctionnalités de Terminal As A Service d’Olaqin pour accéder au DMP, c’est à dire :\nLa lecture des informationss de la carte CPS L’accès au certificat d’authentification de la carte CPS L’accès au mécanisme de signature du lecteur combiné à la carte CPS Pour plus d’informations, sur les transactions du DMP : /5.x/dmp/howtos/transactions\nIl est également possible d’accéder à la lecture de la Carte Vitale et au téléservice INSi\n","categories":"","description":"Tester les mécanismes Olaqin TAAS (Terminal As A Service) sur l’environnement de démonstration.\n","excerpt":"Tester les mécanismes Olaqin TAAS (Terminal As A Service) sur …","ref":"/5.x/dmp/authentifications/olaqin_taas/demo-stellair/","tags":"","title":"Démonstration Stellair"},{"body":"Afin d’être totalement conforme à l’exigence EX_2.1-1130.\nChaque document et lot de document(s) produit par un LPS doit être identifié par un identifiant universel (champ XDS uniqueId au format OID) :\nsoit le uniqueId est généré à partir d’un UUID (sous la branche OID 2.25), dans ce cas cet OID doit être stocké dans le LPS pour les recherches / remplacements futurs via ce même LPS ;\nsoit le uniqueId est généré à partir d’une racine propre à l’installation du LPS et d’un élément « variable » mais unique vis-à-vis de la racine de l’instance du LPS installée (par exemple horodatage, ou identifiant interne du document dans le LPS) ; il incombe au LPS de pouvoir retrouver ce uniqueId pour les recherches / remplacements futurs via ce même LPS (par exemple en stockant le uniqueId ainsi généré, ou la partie variable uniquement à condition de savoir reconstruire le uniqueId complet).\nLa DMPC-API fournit les deux implémentations demandées dans cette exigence. C’est à l’intégrateur de la choisir.\nBasé sur la Source L’implémentation par défaut est basée sur les paramètres de la source. Elle est conforme au deuxième point de l’exigence :\nLa source est définie par les deux paramètres de l’application.yml :\ndmpc: source: # 1.2.250.1.287 est l'OID de Devcoop # 1.2.250.1.287.1 est l'OID correspondant à la DMPC pour Devcoop idRoot: 1.2.250.1.287.1 # l'idExtension doit prendre pour valeur une valeur unique de l'instance installé EX_2.1-1130 idExtension: 1234567 Pour obtenir des informations concernant les OIDs vous pouvez consulter ce guide de l’ANS : https://esante.gouv.fr/sites/default/files/media_entity/documents/ans_guide-gestion-oid_v0.1.pdf\nL’implémentation ressemble à cela :\n/** * Implémentation par défaut basé sur les informations du logiciel @see fr.devboxsante.dmp.core.Source * * un compteur * * et le temps en ms */ public static class Default implements UniqueIdGenerator { ... @Override public Id generate() { return new IdBuilder().setRoot(source.ToOID()).setExtension(System.currentTimeMillis() + \".\" + (cpt++)).toId(); } } Basée sur l’UUID Il est possible d’utiliser une autre implémentation proposée par la DMPC-API pour utiliser l’OID UUID : “2.25” . Cette implémentation est conforme à la première méthode de l’exigence.\nIl suffit de configurer un bean implémentant UniqueIdGenerator, de la manière suivante:\n@Configuration public class MyOwnDmpcApiConfiguration { @Bean public UniqueIdGenerator idGenerate() { return new UniqueIdGenerator.WithUuid(); } } Implémentée par l’intégrateur Il est néanmoins possible de générer ses UniqueId, l’intégrateur devra donc proposer sa propre implémentation du UniqueIdGenerator et de l’ajouter à sa configuration spring .\nAttention : Elle devra être conforme à l’une des deux exigences mentionnées ci-dessus.\nExemple :\n@Configuration public class MyOwnDmpcApiConfiguration { @Bean public UniqueIdGenerator idGenerate() { return new MyOwnImplementationOfUniqueIdGenerator(); } } ‌\n‌\n","categories":"","description":"[Alimentation] Génération des UniqueId\n","excerpt":"[Alimentation] Génération des UniqueId\n","ref":"/5.x/dmp/howtos/uniqueidgenerator/","tags":"","title":"UniqueIdGenerator"},{"body":"Afin d’être totalement conforme à l’exigence EX_2.1-1130.\nChaque document et lot de document(s) produit par un LPS doit être identifié par un identifiant universel (champ XDS uniqueId au format OID) :\nsoit le uniqueId est généré à partir d’un UUID (sous la branche OID 2.25), dans ce cas cet OID doit être stocké dans le LPS pour les recherches / remplacements futurs via ce même LPS ;\nsoit le uniqueId est généré à partir d’une racine propre à l’installation du LPS et d’un élément « variable » mais unique vis-à-vis de la racine de l’instance du LPS installée (par exemple horodatage, ou identifiant interne du document dans le LPS) ; il incombe au LPS de pouvoir retrouver ce uniqueId pour les recherches / remplacements futurs via ce même LPS (par exemple en stockant le uniqueId ainsi généré, ou la partie variable uniquement à condition de savoir reconstruire le uniqueId complet).\nLa Devbox-santé DMP fournit les deux implémentations demandées dans cette exigence. C’est à l’intégrateur de la choisir.\nBasé sur la Source L’implémentation par défaut est basée sur les paramètres de la source. Elle est conforme au deuxième point de l’exigence :\nLa source est définie par les deux paramètres de l’application.yml :\ndmpc: source: # 1.2.250.1.287 est l'OID de Devcoop # 1.2.250.1.287.1 est l'OID correspondant à la DMPC pour Devcoop idRoot: 1.2.250.1.287.1 # l'idExtension doit prendre pour valeur une valeur unique de l'instance installé EX_2.1-1130 idExtension: 1234567 Pour obtenir des informations concernant les OIDs vous pouvez consulter ce guide de l’ANS : https://esante.gouv.fr/sites/default/files/media_entity/documents/ans_guide-gestion-oid_v0.1.pdf\nL’implémentation ressemble à cela :\n/** * Implémentation par défaut basé sur les informations du logiciel @see fr.devboxsante.dmp.core.Source * * un compteur * * et le temps en ms */ public static class Default implements UniqueIdGenerator { ... @Override public Id generate() { return new IdBuilder().setRoot(source.ToOID()).setExtension(System.currentTimeMillis() + \".\" + (cpt++)).toId(); } } Basée sur l’UUID Il est possible d’utiliser une autre implémentation proposée par la DMPC-API pour utiliser l’OID UUID : “2.25” . Cette implémentation est conforme à la première méthode de l’exigence.\nIl suffit de configurer un bean implémentant UniqueIdGenerator, de la manière suivante:\n@Configuration public class MyOwnDmpcApiConfiguration { @Bean public UniqueIdGenerator idGenerate() { return new UniqueIdGenerator.WithUuid(); } } Implémentée par l’intégrateur Il est néanmoins possible de générer ses UniqueId, l’intégrateur devra donc proposer sa propre implémentation du UniqueIdGenerator et de l’ajouter à sa configuration spring .\nAttention : Elle devra être conforme à l’une des deux exigences mentionnées ci-dessus.\nExemple :\n@Configuration public class MyOwnDmpcApiConfiguration { @Bean public UniqueIdGenerator idGenerate() { return new MyOwnImplementationOfUniqueIdGenerator(); } } ‌\n‌\n","categories":"","description":"[Alimentation] Génération des UniqueId\n","excerpt":"[Alimentation] Génération des UniqueId\n","ref":"/6.x/connecteurs/dmp/howtos/uniqueidgenerator/","tags":"","title":"UniqueIdGenerator"},{"body":"En fonction du déploiement choisi des différents composants de la DevBox-santé, vous devrez les installer :\nsoit sur le poste client soit sur un serveur dans votre environnement HDS ","categories":"","description":"Un programme d'installation multi-OS\n","excerpt":"Un programme d'installation multi-OS\n","ref":"/5.x/installer/","tags":"","title":"Installation"},{"body":"Surcharge d’une propriété lors du démarrage de l’exécutable Il est possible de surcharger une propriété de la configuration application.yml lors du démarrage de la DevBox-Santé. Par exemple, pour démarrer la DevBox-Santé sur le port 10002: \"C:\\Program Files\\DevBoxSante\\DevBoxSante.exe\" --server.port=10002 Lancer la devbox-santé en ssl debug En cas de besoin, il est possible de lancer la DevBox-santé en ligne de commande java, et de configurer la JVM (Java Virtual Machine) en debug pour les connexions SSL.\ncd \"C:\\Program Files\\DevBoxSante-client\\\" jre\\bin\\java.exe -Dspring.config.location=.\\application.yml -Djavax.net.debug=all -jar repository\\devboxsante.jar \u003e output.log Changer la configuration de la devbox-santé fournie La DevBox-santé est paramétrée par défaut lors de l’installation, mais elle est personnalisable en modifiant le fichier de configuration application.yml. Les modifications possibles de cette configuration sont décrites pour chacun des composants dans leur espace de documentation :\npour le DMP : /5.x/dmp/configuration pour l’INSi : /5.x/insi/configuration … Installer en mode silencieux L’installer de la DevBox-Santé s’appuie sur install4j, il est donc possible de lancer une installation en mode silencieux avec l’option -q. Pour cela :\nInstaller la devbox-sante en mode GUI sur un poste afin de récupérer le fichier .install4j/response.varfile se trouvant dans le répertoire d’installation. Il devrait ressembler à cela : # install4j response file for DevBox Santé 4.7.0 sys.adminRights$Boolean=true sys.component.178$Boolean=true sys.installationDir=C\\:\\\\Program Files\\\\DevBoxSante sys.languageId=fr Lancer l’installation en mode silencieux. Sous Windows depuis un terminal en tant qu’administrateur : .\\DevBoxSante-windows-x64-4.7.0.exe -q -varfile response.varfile Plus d’information : https://www.ej-technologies.com/resources/install4j/help/doc/installers/installerModes.html\n","categories":"","description":"Liste des possibilités de l'installer\n","excerpt":"Liste des possibilités de l'installer\n","ref":"/5.x/installer/poste_client/howtos/","tags":"","title":"Howtos"},{"body":"Informations de diagnostique (@Since 5.10) Pour vous/nous aider à diagnostiquer les problèmes au niveau du client nous avons ajouter dans le menu un outil de diagnostique :\nLes informations contenues dans cette fenêtre (en plus du fichier output.log du répertoire d’installation) peut se révéler précieux pour diagnostiquer les problèmes d’installation/de déploiement :\nCe diagnostique génére les logs d’information dans le fichier output.log du répertoire de log. Ce fichier de log permet d’obtenir les informations lors de l’exécution pour le support.\nConfiguration du proxy (@since 5.10) La DevBox-Santé est configurée par défaut pour utiliser le proxy HTTP du système. Toutefois, il est possible d’ajouter manuellement un proxy HTTP.\nDepuis le menu contextuel de l’application :\ns\nEn poste installation, en rajoutant à la fin du fichier DevBoxSante-CLIENT.vmoptions se trouvant dans le répetoire d’installation, les informations de proxy.\nExemple :\n-Dhttp.proxyHost=myproxy.mysociete -Dhttp.proxyPort=3128 Installer en mode silencieux L’installer de la DevBox-Santé s’appuie sur install4j, il est donc possible de lancer une installation en mode silencieux avec l’option -q. Pour cela :\nInstaller la devbox-sante en mode GUI sur un poste afin de récupérer le fichier .install4j/response.varfile se trouvant dans le répertoire d’installation. Il devrait ressembler à cela : # install4j response file for DevBox Santé 4.7.0 sys.adminRights$Boolean=true sys.component.178$Boolean=true sys.installationDir=C\\:\\\\Program Files\\\\DevBoxSante sys.languageId=fr Lancer l’installation en mode silencieux. Sous Windows depuis un terminal en tant qu’administrateur : .\\DevBoxSante-windows-x64-4.7.0.exe -q -varfile response.varfile Le fichier .install4j/installation.log donne les logs d’informations lors de l’installation.\nPlus d’information : https://www.ej-technologies.com/resources/install4j/help/doc/installers/installerModes.html\nDésinstaller en mode silencieux Il faut s’assurer que le processus soit arrèté.\nExemple sous windows :\ntaskkill /F /IM \"DevBoxSante-CLIENT.exe\" Puis lancer le programme de désinstallation en mode silencieux :\n\"\"C:\\Program Files\\DevBoxSante-CLIENT\\uninstall.exe\" -q Obtenir les Logs Le répertoire d’installation se présente comme celà :\nIl est possible de récupérer dans le répertoire de log, et plus précisément output.log les traces d’exécution. Ce sont ces traces qui sont utiles pour diagnostiquer les éventuels problèmes d’intégration.\nMais aussi, dans une installation de développement les trames de message SOAP avec l’ensemble des téléservices sont récupérables. Ce sont ces dernières qui sont demandées pour preuve par le CNDA.\nComme dans cet exemple de log pour un appel INSi :\n2022-02-08 10:17:17.371 INFO 32672 --- [nio-9999-exec-1] o.a.cxf.services.ICIRService.REQ_OUT : REQ_OUT Address: https://qualiflps.services-ps.ameli.fr/lps HttpMethod: POST Content-Type: application/soap+xml; action=\"urn:ServiceIdentiteCertifiee:1.0.0:rechercherInsAvecTraitsIdentite\" ExchangeId: 1b180b89-d4d2-4e40-bd2c-1485b96c3105 ServiceName: ICIRServiceService PortName: ICIRServicePort PortTypeName: ICIRService Headers: {Accept=*/*, Connection=Keep-Alive} Payload: \u003csoap:Envelope xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\"\u003e\u003csoap:Header\u003e\u003cAction xmlns=\"http://www.w3.org/2005/08/addressing\"\u003eurn:ServiceIdentiteCertifiee:1.0.0:rechercherInsAvecTraitsIdentite\u003c/Action\u003e\u003cMessageID xmlns=\"http://www.w3.org/2005/08/addressing\"\u003euuid:fae22ada-31f7-4584-94bd-fb4ce305711c\u003c/MessageID\u003e\u003cTo xmlns=\"http://www.w3.org/2005/08/addressing\"\u003ehttps://qualiflps.services-ps.ameli.fr/lps\u003c/To\u003e\u003cReplyTo xmlns=\"http://www.w3.org/2005/08/addressing\"\u003e\u003cAddress\u003ehttp://www.w3.org/2005/08/addressing/anonymous\u003c/Address\u003e\u003c/ReplyTo\u003e\u003cns6:Security xmlns:ns7=\"urn:siram\" xmlns:ns6=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:ns5=\"http://www.cnamts.fr/INSiRecSans\" xmlns:ns4=\"http://www.cnamts.fr/INSiResultat\" xmlns:ns3=\"urn:siram:bam:ctxbam\" xmlns:ns2=\"urn:siram:lps:ctxlps\" xmlns=\"http://www.cnamts.fr/INSiRecVit\"\u003e\u003csaml2:Assertion xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\" xmlns:saml2=\"urn:oasis:names:tc:SAML:2.0:assertion\" ID=\"_cedba2ba-af67-43fa-836d-ba4f4c7ebd37\" IssueInstant=\"2022-02-08T09:17:16.483Z\" Version=\"2.0\"\u003e\u003csaml2:Issuer Format=\"urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName\"\u003eGIVENNAME=ANNE + CN=899700296140 + SURNAME=MED-CS RPPS0029614, T=Médecin, C=FR\u003c/saml2:Issuer\u003e\u003cds:Signature xmlns:ds=\"http://www.w3.org/2000/09/xmldsig#\"\u003e \u003cds:SignedInfo\u003e \u003cds:CanonicalizationMethod Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"/\u003e \u003cds:SignatureMethod Algorithm=\"http://www.w3.org/2001/04/xmldsig-more#rsa-sha256\"/\u003e \u003cds:Reference URI=\"#_cedba2ba-af67-43fa-836d-ba4f4c7ebd37\"\u003e \u003cds:Transforms\u003e \u003cds:Transform Algorithm=\"http://www.w3.org/2000/09/xmldsig#enveloped-signature\"/\u003e \u003cds:Transform Algorithm=\"http://www.w3.org/2001/10/xml-exc-c14n#\"\u003e\u003cec:InclusiveNamespaces xmlns:ec=\"http://www.w3.org/2001/10/xml-exc-c14n#\" PrefixList=\"xsd\"/\u003e\u003c/ds:Transform\u003e \u003c/ds:Transforms\u003e \u003cds:DigestMethod Algorithm=\"http://www.w3.org/2001/04/xmlenc#sha256\"/\u003e \u003cds:DigestValue\u003ekyudM3vGDu9c2+MzHnPoyocEYV5G9PtOfvZaZr8HTFI=\u003c/ds:DigestValue\u003e \u003c/ds:Reference\u003e \u003c/ds:SignedInfo\u003e \u003cds:SignatureValue\u003e m5WCwYjjqgCMfwoF34i4X1sHo5Qm9ZQ3pvDaj1ducPZRJqQCBohVUUKHne7qvwmeLP48bR2VMge0\u0026#xd; ... AYgIW5NZvIU/DSiutXETfnuMnKyMhb5lsVrKLA== \u003c/ds:SignatureValue\u003e \u003cds:KeyInfo\u003e\u003cds:X509Data\u003e\u003cds:X509Certificate\u003eMIIIkjCCBnqgAwIBAgIQY9r/z8gDS9wvB2ErFSZ7ojANBgkqhkiG9w0BAQsFADB/MQswCQYDVQQG EwJGUjETMBEGA1UECgwKQVNJUC1TQU5URTEXMBUGA1UECwwOMDAwMiAxODc1MTI3NTExFzAVBgNV ... bP3Y2OtFuWfDXarPYW+3YMmMEJwboL+APfinsuS5tziDfoFKRMJf25o2SgNYOPNxnsTspW4P/x/2 Fdxj9tnROlPZfBxXLraunS7zw6uqjJS6iPHS80hoFHQ=\u003c/ds:X509Certificate\u003e\u003c/ds:X509Data\u003e\u003c/ds:KeyInfo\u003e\u003c/ds:Signature\u003e\u003csaml2:Subject\u003e\u003csaml2:NameID NameQualifier=\"CPS\"\u003e899700296140\u003c/saml2:NameID\u003e\u003c/saml2:Subject\u003e\u003csaml2:AttributeStatement\u003e\u003csaml2:Attribute Name=\"codeSpecialite\"\u003e\u003csaml2:AttributeValue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type=\"xsd:string\"\u003eSM26\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"secteurActivite\"\u003e\u003csaml2:AttributeValue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type=\"xsd:string\"\u003eSA05\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003csaml2:Attribute Name=\"identifiantFacturation\"\u003e\u003csaml2:AttributeValue xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:type=\"xsd:string\"\u003e123456789\u003c/saml2:AttributeValue\u003e\u003c/saml2:Attribute\u003e\u003c/saml2:AttributeStatement\u003e\u003c/saml2:Assertion\u003e\u003c/ns6:Security\u003e\u003cns2:ContexteLPS xmlns:ns7=\"urn:siram\" xmlns:ns6=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:ns5=\"http://www.cnamts.fr/INSiRecSans\" xmlns:ns4=\"http://www.cnamts.fr/INSiResultat\" xmlns:ns3=\"urn:siram:bam:ctxbam\" xmlns:ns2=\"urn:siram:lps:ctxlps\" xmlns=\"http://www.cnamts.fr/INSiRecVit\" Nature=\"CTXLPS\" Version=\"01_00\"\u003e\u003cns2:Id\u003e2f2cca2f-586a-4a5c-9b63-bf3a49b33aca\u003c/ns2:Id\u003e\u003cns2:Temps\u003e2022-02-08T09:17:16.483Z\u003c/ns2:Temps\u003e\u003cns2:Emetteur\u003e899700296140\u003c/ns2:Emetteur\u003e\u003cns2:LPS\u003e\u003cns2:IDAM R=\"4\"\u003eDVB17HE21HW0\u003c/ns2:IDAM\u003e\u003cns2:Version\u003e2.0\u003c/ns2:Version\u003e\u003cns2:Instance\u003e0dc098f1-d47f-42f6-9f38-4ca148268ae7\u003c/ns2:Instance\u003e\u003cns2:Nom\u003eurn:lps:DEVBOX_SANTE_INSI:2.0\u003c/ns2:Nom\u003e\u003c/ns2:LPS\u003e\u003c/ns2:ContexteLPS\u003e\u003cns3:ContexteBAM xmlns:ns7=\"urn:siram\" xmlns:ns6=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:ns5=\"http://www.cnamts.fr/INSiRecSans\" xmlns:ns4=\"http://www.cnamts.fr/INSiResultat\" xmlns:ns3=\"urn:siram:bam:ctxbam\" xmlns:ns2=\"urn:siram:lps:ctxlps\" xmlns=\"http://www.cnamts.fr/INSiRecVit\" Nature=\"CTXBAM\" Version=\"01_02\"\u003e\u003cns3:Id\u003eef567c29-e980-41e3-b304-347dc70e5797\u003c/ns3:Id\u003e\u003cns3:Temps\u003e2022-02-08T09:17:16.483Z\u003c/ns3:Temps\u003e\u003cns3:Emetteur\u003e899700296140\u003c/ns3:Emetteur\u003e\u003cns3:COUVERTURE/\u003e\u003c/ns3:ContexteBAM\u003e\u003c/soap:Header\u003e\u003csoap:Body\u003e\u003cns5:RECSANSVITALE xmlns=\"http://www.cnamts.fr/INSiRecVit\" xmlns:ns2=\"urn:siram:lps:ctxlps\" xmlns:ns3=\"urn:siram:bam:ctxbam\" xmlns:ns4=\"http://www.cnamts.fr/INSiResultat\" xmlns:ns5=\"http://www.cnamts.fr/INSiRecSans\" xmlns:ns6=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" xmlns:ns7=\"urn:siram\"\u003e\u003cns5:NomNaissance\u003eDE VINCI\u003c/ns5:NomNaissance\u003e\u003cns5:Prenom\u003eRUTH\u003c/ns5:Prenom\u003e\u003cns5:Sexe\u003eF\u003c/ns5:Sexe\u003e\u003cns5:DateNaissance\u003e1977-07-14\u003c/ns5:DateNaissance\u003e\u003c/ns5:RECSANSVITALE\u003e\u003c/soap:Body\u003e\u003c/soap:Envelope\u003e 2022-02-08 10:17:17.872 WARN 32672 --- [nio-9999-exec-1] o.a.cxf.ws.addressing.soap.MAPCodec : Response message does not contain WS-Addressing properties. Not correlating response. 2022-02-08 10:17:17.873 WARN 32672 --- [nio-9999-exec-1] o.apache.cxf.ws.addressing.ContextUtils : WS-Addressing - failed to retrieve Message Addressing Properties from context 2022-02-08 10:17:17.874 INFO 32672 --- [nio-9999-exec-1] o.a.cxf.services.ICIRService.RESP_IN : RESP_IN Address: https://qualiflps.services-ps.ameli.fr/lps Content-Type: application/soap+xml; charset=utf-8 ResponseCode: 200 ExchangeId: 1b180b89-d4d2-4e40-bd2c-1485b96c3105 ServiceName: ICIRServiceService PortName: ICIRServicePort PortTypeName: ICIRService Headers: {X-ORACLE-DMS-ECID=1360e356-5091-4ec5-8d19-dce653f132d7-00004557, content-type=application/soap+xml; charset=utf-8, Content-Length=940, Date=Tue, 08 Feb 2022 09:17:17 GMT} Payload: \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e \u003csoap:Envelope xmlns:soap=\"http://www.w3.org/2003/05/soap-envelope\"\u003e\u003cenv:Body xmlns:S=\"http://www.w3.org/2003/05/soap-envelope\" xmlns:env=\"http://www.w3.org/2003/05/soap-envelope\"\u003e\u003cns2:RESULTAT xmlns:ns3=\"http://www.cnamts.fr/INSiRecVit\" xmlns:ns2=\"http://www.cnamts.fr/INSiResultat\" xmlns=\"http://www.cnamts.fr/INSiRecSans\"\u003e\u003cns2:CR\u003e\u003cns2:CodeCR\u003e00\u003c/ns2:CodeCR\u003e\u003cns2:LibelleCR\u003eOK\u003c/ns2:LibelleCR\u003e\u003c/ns2:CR\u003e\u003cns2:INDIVIDU\u003e\u003cns2:INSACTIF\u003e\u003cns2:IdIndividu\u003e\u003cns2:NumIdentifiant\u003e2770763220829\u003c/ns2:NumIdentifiant\u003e\u003cns2:Cle\u003e10\u003c/ns2:Cle\u003e\u003c/ns2:IdIndividu\u003e\u003cns2:OID\u003e1.2.250.1.213.1.4.8\u003c/ns2:OID\u003e\u003c/ns2:INSACTIF\u003e\u003cns2:TIQ\u003e\u003cns2:NomNaissance\u003eNESSI\u003c/ns2:NomNaissance\u003e\u003cns2:Prenom\u003eRUTH\u003c/ns2:Prenom\u003e\u003cns2:ListePrenom\u003eRUTH ISABELLE\u003c/ns2:ListePrenom\u003e\u003cns2:Sexe\u003eF\u003c/ns2:Sexe\u003e\u003cns2:DateNaissance\u003e1977-07-14\u003c/ns2:DateNaissance\u003e\u003cns2:LieuNaissance\u003e63220\u003c/ns2:LieuNaissance\u003e\u003c/ns2:TIQ\u003e\u003c/ns2:INDIVIDU\u003e\u003c/ns2:RESULTAT\u003e\u003c/env:Body\u003e\u003c/soap:Envelope\u003e Surcharge d’une propriété lors du démarrage de l’exécutable Il est possible de surcharger une propriété de la configuration application.yml lors du démarrage de la DevBox-Santé. Par exemple, pour démarrer la DevBox-Santé sur le port 10002: \"C:\\Program Files\\DevBoxSante\\DevBoxSante.exe\" --server.port=10002 Lancer la devbox-santé en ssl debug En cas de besoin, il est possible de lancer la DevBox-santé en ligne de commande java, et de configurer la JVM (Java Virtual Machine) en debug pour les connexions SSL.\ncd \"C:\\Program Files\\DevBoxSante-client\\\" jre\\bin\\java.exe -Dspring.config.location=.\\application.yml -Djavax.net.debug=all -jar repository\\devboxsante.jar \u003e output.log Changer la configuration de la devbox-santé fournie La DevBox-santé est paramétrée par défaut lors de l’installation, mais elle est personnalisable en modifiant le fichier de configuration application.yml. Les modifications possibles de cette configuration sont décrites pour chacun des composants dans leur espace de documentation :\npour le DMP : /6.x/dmp/configuration pour l’INSi : /6.x/insi/configuration … Déclarer un incident (procédure reservé à nos clients) Pour déclarer un incident, veuillez depuis le poste utilisateur :\nlancer un diagnostique si possible récupérer les fichiers se trouvant dant le répertoire d’installatoin suivants : log\\output.log et log\\error.log .install4j\\installation.log et .install4j\\i4jparams.conf nous les faire parvenir par mail : devbox-sante@devcoop.fr ","categories":"","description":"Liste des possibilités de l'installer\n","excerpt":"Liste des possibilités de l'installer\n","ref":"/6.x/installation/poste_client/howtos/","tags":"","title":"Howtos"},{"body":"Version - 1.0-beta (18/11/2025) Amélioration PFI-55 [MSS] Prendre en compte recommandation SÉGUR\nNouvelle fonctionnalité PFI-54 [Hl7Trace] ajout de l’intermediationName dans la trace HL7\nVersion - 1.0-alpha (05/08/2025) Tâche PFI-26 SC.SSI/GEN.01 Démarche SSI chez l’éditeur de la solution logicielle\nPFI-27 SC.SSI/GEN.02 Démarche SSI chez l’éditeur de la solution logicielle\nPFI-28 SC.SSI/GEN.03 Démarche SSI chez l’éditeur de la solution logicielle\nPFI-29 SC.SSI/GEN.11 Démarche SSI chez l’éditeur de la solution logicielle\nPFI-30 SC.SSI/GEN.20 Démarche SSI chez l’éditeur de la solution logicielle\nPFI-31 SC.SSI/GEN.18 Test d’intrusion\nPFI-34 SC.SSI/GEN.21 Gestion des sauvegardes\nAmélioration PFI-1 PFI.CDA/HL7.01 Interopérabilité entre le LPS et la fonction PFI en environnement hospitalier\nPFI-2 PFI.CDA/HL7.02 Interopérabilité entre le LPS et la fonction PFI en environnement hospitalier\nPFI-3 PFI.CDA/HL7.03 Interopérabilité entre le LPS et la fonction PFI en environnement hospitalier\nPFI-5 PFI.DMP/CONF.08 Homologation CNDA\nPFI-6 SC.DMP/ALI/PROG.06 Alimentation systématique de Mon espace santé\nPFI-7 SC.DMP/ALI/PROG.07 Alimentation systématique de Mon espace santé\nPFI-8 SC.DB/PFI.01 Interopérabilité entre le LPS et la fonction PFI en environnement hospitalier\nPFI-9 SC.MSS/CONF.01\nPFI-10 SC.MSS/CONF.03\nPFI-11 SC.MSS/CONF.05\nPFI-12 SC.MSS/CONF.06\nPFI-13 SC.MSS/CONF.12\nPFI-14 SC.MSS/CONF.14\nPFI-15 SC.MSS/CONF.15\nPFI-16 SC.MSS/CONF.16 Interopérabilité avec les opérateurs de MSSanté\nPFI-17 SC.MSS/CONF.17 Production et conservation de traces MSS\nPFI-18 SC.MSS/CONF.18 Production et conservation de traces MSS\nPFI-21 SC.MSS/UX.01\nPFI-22 PFI.MSS/UX.37 Production et conservation de traces MSS\nPFI-23 SC.MSS/CONF.21 Envoi sécurisé vers la messagerie de Mon espace santé d’un patient\nPFI-24 PFI.MSS/UX.11 Intégration et gestion des documents reçus par MSSanté\nPFI-25 PFI.MSS/UX.12 Intégration et gestion des documents reçus par MSSanté\nPFI-32 SC.SSI/IAM.92 Gestion des comptes, des permissions et des sessions des administrateurs et des utilisateurs\nPFI-35 SC.SSI/IAM.91 Production et conservation de traces\nPFI-36 SC.STAT/ES.02 Production d’indicateurs\nPFI-37 INS/va1.16 Conformité INS et gestion du téléservice INSi\nPFI-38 DMP/va1.01 Alimentation systématique de Mon espace santé\nPFI-39 MSS/va1.04 Envoi de messages et de documents CDA R2 par MSSanté\nPFI-42 MSS/va1.12\nPFI-43 MSS/va1.14\nPFI-44 MSS/va1.16\nPFI-45 MSS/va1.17\nPFI-46 MSS/va1.19 Envoi de messages et de documents CDA R2 par MSSanté\nPFI-52 Fournir une distrib MLLP lié au LicenceManager\nNouvelle fonctionnalité PFI-19 SC.MSS/CONF.22 Interopérabilité avec les opérateurs de MSSanté\nPFI-20 SC.MSS/CONF.27 Interopérabilité avec les opérateurs de MSSanté\nPFI-33 SC.SSI/IE.39 Gestion des comptes, des permissions et des sessions des administrateurs et des utilisateurs\nPFI-40 MSS/va1.08 Envoi de messages et de documents CDA R2 par MSSanté\nPFI-41 MSS/va1.09\nPFI-48 [Admin] vue synthétique des deux collections pfiHl7MessageReceiveStatusInfo et pfiXdmReceiveStatusInfo\nPFI-49 [MSS ECO.2.1.6] Nommage du fichier PDF\n","categories":"","description":"","excerpt":"Version - 1.0-beta (18/11/2025) Amélioration PFI-55 [MSS] Prendre en …","ref":"/6.x/plateformes/pfi/versions/","tags":"","title":"Versions"},{"body":"","categories":"","description":"Procédures d'installation des différents composants de la DevBox-Santé\n","excerpt":"Procédures d'installation des différents composants de la DevBox-Santé …","ref":"/6.x/installation/","tags":"","title":"Installation"},{"body":"NIE DEVCOOP : DEV331918 Description La DevBox-Santé DMP est un connecteur EAI homologué V2 par le CNDA qui s’interface avec le DMP. Elle prend en charge la complexité de l’intégration et facilite ainsi aux éditeurs de logiciel de santé l’intéropérabilité avec le DMP en vous fournissant une API simple à utiliser.\nHomologation du 25/09/2023 Nom du logiciel : DEVBOX-SANTE DMP Version : 5.1 NIL : DEV935997 Type Fonctionnel : Connecteur, Passerelle avec gestion fonctionnalité PFI Homologation package GIE SV : 02.09.00 Évolutions incluses : EG - EG/EJ Homologation du 15/12/2022 Nom du logiciel : DEVBOX-SANTE DMP Version : 5.0 NIL : DEV935997 Type Fonctionnel : EAI Homologation package GIE SV : 02.06.00 Homologation du 27/09/2021 Nom du logiciel : DEVBOX-SANTE DMP Version : 4.5 NIL : DEV935997 Type Fonctionnel : EAI Homologation package GIE SV : 02.05.00 ","categories":"","description":"","excerpt":"NIE DEVCOOP : DEV331918 Description La DevBox-Santé DMP est un …","ref":"/5.x/dmp/howtos/identifiantcomposant/","tags":"","title":"CNDA : Fiche d'identité du composant DMP"},{"body":"NIE DEVCOOP : DEV331918 Description La DevBox-Santé DMP est un connecteur EAI homologué V2 par le CNDA qui s’interface avec le DMP. Elle prend en charge la complexité de l’intégration et facilite ainsi aux éditeurs de logiciel de santé l’intéropérabilité avec le DMP en vous fournissant une API simple à utiliser.\nHomologation du 03/12/2024 Nom du logiciel : DEVBOX-SANTE DMP Version : 6.0 NIL : DEV935997 Type Fonctionnel : Connecteur, Passerelle avec gestion fonctionnalité PFI Homologation package GIE SV : 02.09.01 Évolutions incluses : Mode AIR Homologation du 25/09/2023 Nom du logiciel : DEVBOX-SANTE DMP Version : 5.1 NIL : DEV935997 Type Fonctionnel : Connecteur, Passerelle avec gestion fonctionnalité PFI Homologation package GIE SV : 02.09.00 Évolutions incluses : EG - EG/EJ Homologation du 15/12/2022 Nom du logiciel : DEVBOX-SANTE DMP Version : 5.0 NIL : DEV935997 Type Fonctionnel : EAI Homologation package GIE SV : 02.06.00 Homologation du 27/09/2021 Nom du logiciel : DEVBOX-SANTE DMP Version : 4.5 NIL : DEV935997 Type Fonctionnel : EAI Homologation package GIE SV : 02.05.00 ","categories":"","description":"","excerpt":"NIE DEVCOOP : DEV331918 Description La DevBox-Santé DMP est un …","ref":"/6.x/connecteurs/dmp/howtos/identifiantcomposant/","tags":"","title":"CNDA : Fiche d'identité du composant DMP"},{"body":"NIE DEVCOOP : DEV331918\nHomologation du 25/08/2021 Nom du logiciel : DEVBOX_SANTE_INSI_ Version : 2.0 NIL : DEV428043 Homologation package GIE SV : 04.00 Versions des composants intégrés Crypto librairie CPS : Version 5.1.7 API lecture vitale : Version 6.32 Description La DevBox-Santé INSI est un connecteur homologué par le CNDA qui s’interface avec le téléservice INSi. Elle prend en charge la complexité de l’intégration et facilite ainsi aux éditeurs de logiciel de santé l’intéropérabilité avec l’INSi en vous fournissant une API simple à utiliser.\n","categories":"","description":"","excerpt":"NIE DEVCOOP : DEV331918\nHomologation du 25/08/2021 Nom du logiciel : …","ref":"/5.x/insi/howtos/identifiantcomposant/","tags":"","title":"CNDA : Fiche d'identité du composant INSi"},{"body":"NIE DEVCOOP : DEV331918\nHomologation du 25/08/2021 Nom du logiciel : DEVBOX_SANTE_INSI_ Version : 2.0 NIL : DEV428043 Homologation package GIE SV : 04.00 Versions des composants intégrés Crypto librairie CPS : Version 5.1.7 API lecture vitale : Version 6.32 Description La DevBox-Santé INSI est un connecteur homologué par le CNDA qui s’interface avec le téléservice INSi. Elle prend en charge la complexité de l’intégration et facilite ainsi aux éditeurs de logiciel de santé l’intéropérabilité avec l’INSi en vous fournissant une API simple à utiliser.\n","categories":"","description":"","excerpt":"NIE DEVCOOP : DEV331918\nHomologation du 25/08/2021 Nom du logiciel : …","ref":"/6.x/connecteurs/insi/howtos/identifiantcomposant/","tags":"","title":"CNDA : Fiche d'identité du composant INSi"},{"body":"NIE DEVCOOP : DEV331918 Description La DevBox-Santé Mobilité est un connecteur au téléservice d’authentification ApCV homologuée par le CNDA. Elle prend en charge la complexité de l’intégration et facilite ainsi aux éditeurs de logiciel de santé l’accès au lecteur NFC, la lecture du QrCode et l’appel au téléservice ApCV en vous fournissant une API simple à utiliser.\nHomologation du 01/06/2023 Nom du logiciel : DEVBOX-SANTE Mobilite Version : 1.0 NIL : DEV627612 Type Fonctionnel : Intégrable interface semi-apparente Homologation package GIE SV : 01.00 ","categories":"","description":"","excerpt":"NIE DEVCOOP : DEV331918 Description La DevBox-Santé Mobilité est un …","ref":"/5.x/apcv/howtos/identifiantcomposant/","tags":"","title":"CNDA : Fiche d'identité du composant Mobilite ApCV"},{"body":"NIE DEVCOOP : DEV331918 Description La DevBox-Santé Mobilité est un connecteur au téléservice d’authentification ApCV homologuée par le CNDA. Elle prend en charge la complexité de l’intégration et facilite ainsi aux éditeurs de logiciel de santé l’accès au lecteur NFC, la lecture du QrCode et l’appel au téléservice ApCV en vous fournissant une API simple à utiliser.\nHomologation du 01/06/2023 Nom du logiciel : DEVBOX-SANTE Mobilite Version : 1.0 NIL : DEV627612 Type Fonctionnel : Intégrable interface semi-apparente Homologation package GIE SV : 01.00 ","categories":"","description":"","excerpt":"NIE DEVCOOP : DEV331918 Description La DevBox-Santé Mobilité est un …","ref":"/6.x/connecteurs/apcv/howtos/identifiantcomposant/","tags":"","title":"CNDA : Fiche d'identité du composant Mobilite ApCV"},{"body":"NIE DEVCOOP : DEV331918\nHomologation du 14/08/2020 Nom du logiciel : DEVBOX_SANTE_VITALE_ Version : 1.0 NIL : VIT539244 Version API de lecture : 6.31 ","categories":"","description":"","excerpt":"NIE DEVCOOP : DEV331918\nHomologation du 14/08/2020 Nom du logiciel : …","ref":"/5.x/vitale/howtos/identifiantcomposant/","tags":"","title":"CNDA : Fiche d'identité du composant Vitale"},{"body":"NIE DEVCOOP : DEV331918\nHomologation du 14/08/2020 Nom du logiciel : DEVBOX_SANTE_VITALE_ Version : 1.0 NIL : VIT539244 Version API de lecture : 6.31 ","categories":"","description":"","excerpt":"NIE DEVCOOP : DEV331918\nHomologation du 14/08/2020 Nom du logiciel : …","ref":"/6.x/composants/vitale/howtos/identifiantcomposant/","tags":"","title":"CNDA : Fiche d'identité du composant Vitale"},{"body":" Version experimentale Une première version est disponible dans nos images dockers pour vos intégrations SÉGUR vague 2. La DevBox-santé PFI-Connect est une api permettant de s’interopérer facilement avec les PFI du SÉGUR Vague 2.\nLa DevBox-santé PFI-connnect vous permet de mettre en œuvre les rôles :\nDPI CRÉATEUR dans les différents processus de la spécification https://esante.gouv.fr/volet-de-transmission-dun-document-cda-r2-en-hl7v2 DPI CONSOMMATEUR dans les différents processus de la spécification https://esante.gouv.fr/transmission-au-lps-de-documents-cda-provenant-dun-courriel-mssante Elle génère les messages HLM MDM/ORU et gère le transport MLLP.\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Hébergement HDS\" { node \"Fonction DPI/RIS/SGL/DUI/LGC/LGO\" { component \"Logiciel Intégrateur DPI\" as dpi } node \"Fonction Proxy-Santé\" { component \"DevBox-Santé\" as devbox DEVBOX_COLOR { [DevBox-Santé PFI-connect] as dbx_pfic DATA_COLOR } } node \"Fonction PFI\" { component \"PFI\" as pfi { } } } cloud \"**DMP**\" as DMP cloud \"**Opérateur MSSanté**\" as OperateurMSS dpi -r-\u003e dbx_pfic : Http REST DMP -[hidden]- OperateurMSS dbx_pfic \u003c-r-\u003e pfi : hl7 MDM/ORU pfi \u003c-r-\u003e DMP : Http SOAP pfi \u003c-r-\u003e OperateurMSS : Envoi/Réception MSSanté (SMTP/IMAP en mTLS) Le modèle de Message Elle intègre le modéle de document (DMPCDocument) de santé de la DevBox-Santé DMP, afin de l’encapsuler dans un PfiMessage :\nclass PfiMessage extends PfiMessageHeader { public enum TypeDeDemande { TRANSMISSION(\"F\"), SUPPRESSION(\"D\"), REMPLACEMENT(\"C\"); private String code; } TypeDeDemande demande = TypeDeDemande.TRANSMISSION; DMPCDocument document; Boolean connexionSecrete; Boolean modificationConfidentialityCode; Boolean destinataireDMP; Boolean destinataireMSSantePS; Boolean destinataireMSSantePatient; String corpsMailPS; String corpsMailPatient; Boolean ackLectureMSSante; Boolean ackReception; } exemple Json :\n{ \"id\": \"d259ff72-a0c3-4e25-a589-3161215eefc2\", \"messageType\": \"MDM\", \"systemeSource\": { \"nom\": \"DevBox-Sante Pfi-Connect\" }, \"structureSanteSource\": { \"idNational\": \"499700433156004\", \"nom\": \"CABINET MME MEDECIN0043315\" }, \"systemeDestinataire\": { \"nom\": \"DevBox-Sante PFI\", \"version\": \"1.0\" }, \"structureSanteDestinataire\": { \"idNational\": \"10B0182382\", \"nom\": \"Etablissement Géo RPPS182382\" }, \"creationDate\": \"2024-10-24T12:06:30.0113072+02:00\", \"processingId\": \"TEST\", \"demande\": \"TRANSMISSION\", \"document\": { \"title\": \"DMPCDocument \" ... }, \"destinataireDMP\": true, \"destinataireMSSantePS\": true, \"destinataireMSSantePatient\": false, \"corpsMailPS\": \"Corps mail du message pour le PS.\", \"corpsMailPatient\": \"Corps mail du message pour le patient.\", \"ackLectureMSSante\": false, \"ackReception\": false } L’API java cliente est accessible ici : https://bitbucket.org/devbox-sante/devbox-sante-apis/src/master/pfi-api/\n","categories":"","description":"Un connecteur pour les PFI\n","excerpt":"Un connecteur pour les PFI\n","ref":"/6.x/connecteurs/pfi-connect/","tags":"","title":"PFI-Connect"},{"body":"Génération de preuves Pour générer une preuve, il faut :\nconfigurer la DevBox-Sante MSS sur mailiz de formation via le fichier application.yml :\ndevbox-sante: ms-sante: mailiz: servicesUrl: https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services authenticationServiceUrl: https://mss-idp-igcsante.formation.mssante.fr/openam/SSOSoap/metaAlias/asip/idp igcsante: gammes: ELEMENTAIRE_ORGANISATIONS, ELEMENTAIRE_ORGANISATIONS_TEST configurer les logs de l’IGCSanteTrustoreManager en debug via le fichier application.yml\nlogging: level: fr.devboxsante.igsante: DEBUG # à minima fr.devboxsante: DEBUG # pour plus de traces activer les logs de debug SSL de la JVM : javax.net.debug=ssl:handshake\nlancer la DevBox-Sante MSS avec cette configuration. Exemple de ligne de commande depuis l’installation de la devbox-sante :\ncd \"C:\\Program Files\\DevBoxSante\" \"jre\\bin\\java.exe\" -Djavax.net.debug=ssl:handshake -Dspring.config.location=application.yml -jar \"repository\\devboxsante.jar\" Une fois lancée, accéder à un endpoint /mssante pour générer les traces nécessaires comparable à celles-ci : all.log\ncurl -X GET \"http://localhost:9999/mssante/authentification/cps\" -H \"accept: */*\" Ces traces fournissent les preuves de la prise en compte des exigences [MSS1] (Référentiel socle MSSanté #2 -Clients de Messageries Sécurisées de Santé)\nRemarque : Les preuves demandées nécessitent l’appel de l’url https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails qui correspond au endpoint /mssante/emails de la DevBox-santé.\nNéanmoins pour que la DevBox-santé MSS se comporte normalement, il faut au préalable appeler un des endpoints d’authentification, c’est à dire /mssante/authentification/otp ou /mssante/authentification/cps\nMSS 1 : trust IGCSante seulement Un client de messagerie MSSanté doit établir une connexion TLS avec un Opérateur MSSanté, quels que soient les transactions et protocoles utilisés entre les 2 parties.\nMSS 1.1 Étapes Vérifier que la configuration TLS du logiciel accepte les certificats serveurs IGC Santé de la branche de TEST\nMonter une connexion TLS depuis le logiciel via une requete HTTP GET sur l’URL https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails.\n1.1.1 Preuve Extrait de configuration TLS du client de messagerie.\nLa DevBox-sante a développé un IGCSanteTrustoreManager spécifique afin de prendre en compte les différentes IGC-Santé définies sur http://igc-sante.esante.gouv.fr/PC/ . Tous les composants DevBox-Sante comme la MSS peuvent être configurés de manière à accepter les certificats d’une ou plusieurs gammes. Comme par exemple, pour l’environnement de formation de Mailiz :\ndevbox-sante: ms-sante: igcsante: gammes: ELEMENTAIRE_ORGANISATIONS, ELEMENTAIRE_ORGANISATIONS_TEST Le choix de cette gamme en configuration permet le téléchargement à la volée des certificat à ajouter au trust store lors de son lancement :\nfor (IGCSanteGammeCertificat gammeCertificat : gammeCertificats) { log.info(\"Ajout du certificat {} au trustStore\", gammeCertificat.getCertificatUrl()); final X509Certificate certificat = _loadCertificate(gammeCertificat); _checkExpirationDate(certificat); trustStore.setCertificateEntry(gammeCertificat.getAlias(), certificat); } private X509Certificate _loadCertificate(IGCSanteGammeCertificat gammeCertificat) { URLConnection urlConnection = HttpHelper.noCheckCertificateOpenConnection(url); X509Certificate certificate = (X509Certificate) CertificateFactory.getInstance(X_509).generateCertificate(urlConnection.getInputStream()); if (certificate == null) { certificate = (X509Certificate) CertificateFactory.getInstance(X_509).generateCertificate(this.getClass().getClassLoader().getResourceAsStream(gammeCertificat.getCertificateFilename())); } } return certificate; } 1.1.2 Preuve Logs de la connexion TLS\nDans les logs (all.log) on peut s’intéresser à l’initialisation de l’IGCSanteTrustStoreManager :\n2022-10-12 12:00:29.519 INFO igcsante.IGCSanteTrustoreManager : Initialisation du truststore 2022-10-12 12:00:29.520 INFO igcsante.IGCSanteTrustoreManager : Ajout du certificat http://igc-sante.esante.gouv.fr/AC/ACI-EL-ORG.cer au trustStore 2022-10-12 12:00:30.357 INFO igcsante.IGCSanteTrustoreManager : Ajout du certificat http://igc-sante.esante.gouv.fr/AC%20TEST/ACI-EL-ORG-TEST.cer au trustStore trustStore MSS 2 : TLSv1.2 uniquement Conformément au référentiel socle MSSanté #2 (Clients de Messageries Sécurisées de Santé): Le client de messageries MSSanté du système doit supporter uniquement la version TLS 1.2 pour établir la connexion TLS avec l’Opérateur MSSanté, lors de la négociation TLS. (cf. RFC 2246 - http://tools.ietf.org/html/rfc2246). Dans le cas contraire, la connexion ne doit pas être établie.\nMSS 2.1 Scenario Vérifier que la configuration TLS du logiciel accepte les certificats serveurs IGC Santé de la branche de TEST\nMonter une connexion TLS depuis le logiciel via une requete HTTP GET sur l’URL https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails.\nMSS 2.1.1 Preuve Extrait de configuration TLS du client de messagerie.\nRéponse :\nNous utilisons une JVM en version 11 minimale. Lors de l’initialisation d’un contexte SSL via la JVM nous spécifions de manière statique le protocole TLSv1.2.\nSSLContext sslContext = SSLContext.getInstance(\"TLSv1.2\"); MSS 2.1.2 Preuve Logs de connexion TLS\nDans les logs (all.log) on peut s’intéresser à juste après l’envoi de la requête :\n2022-10-12 11:43:32.117 INFO 20756 --- [ main] o.a.c.services.AnnuaireService.REQ_OUT : REQ_OUT Address: https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails HttpMethod: POST ... le Handshake Message du client demande une TLSv1.2:\njavax.net.ssl|DEBUG|01|main|2022-10-12 11:43:32.279 CEST|ClientHello.java:653|Produced ClientHello handshake message ( \"ClientHello\": { \"client version\" : \"TLSv1.2\", ... } ) et la réponse du serveur valide le protocole :\njavax.net.ssl|DEBUG|01|main|2022-10-12 11:43:32.337 CEST|ServerHello.java:872|Consuming ServerHello handshake message ( \"ServerHello\": { \"server version\" : \"TLSv1.2\", ... } ) MSS 3 : choix des cyphers Conformément au référentiel socle MSSanté #2 (Clients de Messageries Sécurisées de Santé) [MSS1] : Le client de messageries MSSanté du système doit nécessairement utiliser l’une des suites de chiffrement suivantes, lors de la négociation TLS :\n0xC030: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 0xC02F: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 0xC028: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 0xC027: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA25 Dans le cas contraire, la connexion ne doit pas être établie.\nMSS 3.1 Étapes Vérifier que la configuration TLS du logiciel accepte les certificats serveurs IGC Santé de la branche de TEST\nMonter une connexion TLS depuis le logiciel via une requete HTTP GET sur l’URL https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails.\nMSS 3.1.1 Afin de forcer le choix des cyphers nous avons introduit une nouvelle SSLSocketFactory java réduisant le choix des cipher suites par défaute de la JVM :\npublic abstract class IGCSanteSSLSocketFactory extends SSLSocketFactory { public static final String VERSION = \"TLSv1.2\"; protected abstract SSLSocketFactory getSocketFactory(); @Override public String[] getDefaultCipherSuites() { return new String[]{ \"TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384\", \"TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256\", \"TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384\", \"TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256\"}; } @Override public String[] getSupportedCipherSuites() { return getDefaultCipherSuites(); } MSS 3.1.2 Dans les logs (all.log) on peut s’intéresser à juste après l’envoi de la requête :\n2022-10-12 11:43:32.117 INFO 20756 --- [ main] o.a.c.services.AnnuaireService.REQ_OUT : REQ_OUT Address: https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails HttpMethod: POST ... le Handshake Message du client demande les cyphers suivants :\njavax.net.ssl|DEBUG|01|main|2022-10-12 12:00:38.363 CEST|ClientHello.java:653|Produced ClientHello handshake message ( \"ClientHello\": { \"client version\" : \"TLSv1.2\", ... \"cipher suites\" : \"[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]\", ... } ) Le serveur choisit :\njavax.net.ssl|DEBUG|01|main|2022-10-12 12:00:38.415 CEST|ServerHello.java:872|Consuming ServerHello handshake message ( \"ServerHello\": { \"server version\" : \"TLSv1.2\", ... \"cipher suite\" : \"TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030)\", } ) MSS 4 : certificat IGC Santé Les clients de messageries MSSanté du système doivent être en capacité d’établir une connexion TLS avec un Opérateur MSSanté présentant un certificat serveur de l’IGC Santé,conformément au référentiel socle MSSanté #2 (Clients de Messageries Sécurisées de Santé) [MSS1].\nMSS 4.1 Étapes Vérifier que la configuration TLS du logiciel accepte les certificats serveurs IGC Santé de la branche de TEST\nMonter une connexion TLS depuis le logiciel via une requete HTTP GET sur l’URL https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails.\nMSS 4.1.1 Extrait de configuration des AC supportées par le client de messagerie.\nidem 1.1.1\nMSS 5 : certificat Opérateur non expiré Le client de messageries MSSanté du système DOIT vérifier que le certificat présenté par l’opérateur MSSanté n’est pas expiré, conformément au référentiel socle MSSanté #2 (Clients de Messageries Sécurisées de Santé) [MSS1].\nMSS 5.1 Étapes Vérifier que la configuration TLS du logiciel accepte les certificats serveurs IGC Santé de la branche de TEST\nMonter une connexion TLS depuis le logiciel via une requete HTTP GET sur l’URL https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails.\nMSS 5.1.1 Extrait de configuration qui permet de montrer que le client a bien configuré pour respecter cette exigence.\nPas de configuration ici, les traces parlent d’elles mêmes.\nA l’initialisation, l’IGCSanteTrustoreManager vérifie que les certificats de confiance utilisés ne sont pas expirés.\nprivate Optional\u003cCertStore\u003e _loadCRL(String url) { URLConnection urlConnection = HttpHelper.noCheckCertificateOpenConnection(url); InputStream is = urlConnection.getInputStream(); var crls = certificateFactory.generateCRLs(is); var certStore = CertStore.getInstance(\"Collection\", new CollectionCertStoreParameters(crls)); certStoreMap.put(url, certStore); is.close(); return Optional.of(certStore); } 2022-10-12 12:00:29.519 INFO - igcsante.IGCSanteTrustoreManager : Initialisation du truststore 2022-10-12 12:00:29.520 INFO - igcsante.IGCSanteTrustoreManager : Ajout du certificat http://igc-sante.esante.gouv.fr/AC/ACI-EL-ORG.cer au trustStore 2022-10-12 12:00:30.357 DEBUG - igcsante.IGCSanteTrustoreManager : Date expiration du certificat (CN=AC IGC-SANTE ELEMENTAIRE ORGANISATIONS, OU=IGC-SANTE, OU=0002 187512751, O=ASIP-SANTE, C=FR) est : Fri Jun 24 02:00:00 CEST 2033 2022-10-12 12:00:30.357 INFO - igcsante.IGCSanteTrustoreManager : Ajout du certificat http://igc-sante.esante.gouv.fr/AC%20TEST/ACI-EL-ORG-TEST.cer au trustStore 2022-10-12 12:00:30.756 DEBUG - igcsante.IGCSanteTrustoreManager : Date expiration du certificat (CN=TEST AC IGC-SANTE ELEMENTAIRE ORGANISATIONS, OU=IGC-SANTE TEST, OU=0002 187512751, O=ASIP-SANTE, C=FR) est : Fri Jun 24 02:00:00 CEST 2033 Puis plus tard lors de la vérification du certificat présenté par le serveur :\njavax.net.ssl|DEBUG|01|main|2022-10-12 12:00:40.074 CEST|CertificateMessage.java:366|Consuming server Certificate handshake message ( \"Certificates\": [ \"certificate\" : { \"version\" : \"v3\", \"serial number\" : \"1D 5D E2 5E 3D C1 4B DE 21 0F 2C 0F 23 0E 86 52\", \"signature algorithm\": \"SHA256withRSA\", \"issuer\" : \"CN=TEST AC IGC-SANTE ELEMENTAIRE ORGANISATIONS, OU=IGC-SANTE TEST, OU=0002 187512751, O=ASIP-SANTE, C=FR\", \"not before\" : \"2022-06-02 13:49:28.000 CEST\", \"not after\" : \"2024-06-02 13:49:28.000 CEST\", ... ] ) 2022-10-12 12:00:40.075 DEBUG 7092 --- [ main] f.d.igcsante.IGCSanteTrustoreManager : Date expiration du certificat (CN=mss-msg-igcsante.formation.mssante.fr, OU=300000000099622, O=GIP - TEST9962, ST=Paris (75), C=FR) est : Sun Jun 02 13:49:28 CEST 2024 2022-10-12 12:00:40.075 DEBUG 7092 --- [ main] f.d.igcsante.IGCSanteTrustoreManager : Date expiration du certificat (CN=TEST AC IGC-SANTE ELEMENTAIRE ORGANISATIONS, OU=IGC-SANTE TEST, OU=0002 187512751, O=ASIP-SANTE, C=FR) est : Fri Jun 24 02:00:00 CEST 2033 On voit que l’IGCSanteTrustoreManager vérifie la date d’expiration de la chaîne de certificats utilisée.\nMSS 5.1.2 Si besoin, extrait du code qui vérifie la non expiration du certificat\nLors de l’initialisation d’une connexion et une fois le certificat validé par le truststore la date d’expiration du certificat présenté par l’opérateur MSS est vérifiée :\nlog.debug(\"Date expiration du certificat ({}) est : {}\", certificat.getSubjectDN().toString(), certificat.getNotAfter()); if (Instant.now().isAfter(certificat.getNotAfter().toInstant())) { throw new IGCSanteException(String.format(\"Le certificat (%s) est expiré. La date d'expiration est : \" , certificat.getSubjectDN().toString(), certificat.getNotAfter()) ); } MSS 6 : non révocation du certificat Le client de messageries MSSanté du système doit vérifier que le certificat présenté par l’Opérateur MSSanté n’est pas révoqué au moyen des CRL ou d’un répondeur OCSP, et ce quelle que soit l’autorité de certification utilisée par un Opérateur MSSanté, conformément au référentiel socle MSSanté #2 (Clients de Messageries Sécurisées de Santé) [MSS1].\nMSS 6.1 : Étapes Vérifier que la configuration TLS du logiciel accepte les certificats serveurs IGC Santé de la branche de TEST\nMonter une connexion TLS depuis le logiciel via une requête HTTP GET sur l’URL https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails.\nMSS 6.1.1 Extrait de configuration qui permet de montrer que le client a bien configuré pour respecter cette exigence.\nLors du lancement de la JVM (version 11 minimal) du connecteur MSS un truststore est généré avec un sous ensemble de la gamme de certificats de l’AC définit à l’url suivante : http://igc-sante.esante.gouv.fr/PC/\nNous prenons en compte les CRL disponibles pour chaque certificat donné à cette même URL.\nLes logs montrent cette prise en charge :\n2022-10-12 12:00:30.758 - igcsante.IGCSanteTrustoreManager : Ajout de la CRL http://igc-sante.esante.gouv.fr/CRL/ACI-EL-ORG.crl au trustStore 2022-10-12 12:00:31.848 - igcsante.IGCSanteTrustoreManager : Ajout de la CRL http://igc-sante.esante.gouv.fr/CRL/ACI-EL-ORG-TEST.crl au trustStore MSC 6.1.2 Si besoin, extrait du code qui vérifie la non révocation du certificat\nL’IGCSanteTrustoreManager est codé pour vérifier les CRLs disponibles sur http://igc-sante.esante.gouv.fr/PC/, dont voici l’extrait de code (implémentation basé sur https://stackoverflow.com/questions/45460015/crl-check-in-java):\npublic TrustManager[] getTrustManagers() { return new X509TrustManager[]{ new X509TrustManager() { ... @Override public void checkServerTrusted(X509Certificate[] x509Certificates, String string) throws CertificateException { getWrapped().checkServerTrusted(x509Certificates, string); } ... private X509TrustManager getWrapped() { if (trustManagerFactory.getTrustManagers() == null || trustManagerFactory.getTrustManagers().length == 0) { init(gammeCertificats); } return (X509TrustManager) trustManagerFactory.getTrustManagers()[0]; } } }; } public final void init(List\u003cIGCSanteGammeCertificat\u003e gammeCertificats) { this.gammeCertificats = gammeCertificats; trustManagerFactory = TrustManagerFactory.getInstance(PKIX); ... _initCRLs(gammeCertificats); ... } private void _initCRLs(List\u003cIGCSanteGammeCertificat\u003e gammeCertificats) throws KeyStoreException, InvalidAlgorithmParameterException { PKIXBuilderParameters pkixParams = new PKIXBuilderParameters(trustStore, new X509CertSelector()); for (IGCSanteGammeCertificat gammeCertificat : gammeCertificats) { String crlUrl = gammeCertificat.getCrlUrl(); log.info(\"Ajout de la CRL {} au trustStore\", crlUrl); pkixParams.addCertStore(_loadCRL(crlUrl)); } pkixParams.setRevocationEnabled(true); ManagerFactoryParameters trustParams = new CertPathTrustManagerParameters(pkixParams); ... trustManagerFactory.init(trustParams); } private Optional\u003cCertStore\u003e _loadCRL(String url) { log.info(\"Chargement de la CRL {} dans un certStore\", url); try { URLConnection urlConnection = HttpHelper.openConnection(url); InputStream is = urlConnection.getInputStream(); var crls = certificateFactory.generateCRLs(is); var certStore = CertStore.getInstance( \"Collection\", new CollectionCertStoreParameters(crls)); certStoreMap.put(url, certStore); is.close(); return Optional.of(certStore); } catch (IOException | CRLException | InvalidAlgorithmParameterException | NoSuchAlgorithmException e) { // gestion d'erreur } } ","categories":"","description":"Comment configurer la DevBox-sante MSS pour apporter les preuves SEGUR\n","excerpt":"Comment configurer la DevBox-sante MSS pour apporter les preuves SEGUR …","ref":"/5.x/ms-sante/howtos/preuve_segur/","tags":"","title":"Preuves Segur"},{"body":"Génération de preuves Pour générer une preuve, il faut :\nconfigurer la DevBox-Sante MSS sur mailiz de formation via le fichier application.yml :\ndevbox-sante: ms-sante: mailiz: servicesUrl: https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services authenticationServiceUrl: https://mss-idp-igcsante.formation.mssante.fr/openam/SSOSoap/metaAlias/asip/idp igcsante: gammes: ELEMENTAIRE_ORGANISATIONS, ELEMENTAIRE_ORGANISATIONS_TEST configurer les logs de l’IGCSanteTrustoreManager en debug via le fichier application.yml\nlogging: level: fr.devboxsante.igsante: DEBUG # à minima fr.devboxsante: DEBUG # pour plus de traces activer les logs de debug SSL de la JVM : javax.net.debug=ssl:handshake\nlancer la DevBox-Sante MSS avec cette configuration. Exemple de ligne de commande depuis l’installation de la devbox-sante :\ncd \"C:\\Program Files\\DevBoxSante\" \"jre\\bin\\java.exe\" -Djavax.net.debug=ssl:handshake -Dspring.config.location=application.yml -jar \"repository\\devboxsante.jar\" Une fois lancée, accéder à un endpoint /mssante pour générer les traces nécessaires comparable à celles-ci : all.log\ncurl -X GET \"http://localhost:9999/mssante/authentification/cps\" -H \"accept: */*\" Ces traces fournissent les preuves de la prise en compte des exigences [MSS1] (Référentiel socle MSSanté #2 -Clients de Messageries Sécurisées de Santé)\nRemarque : Les preuves demandées nécessitent l’appel de l’url https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails qui correspond au endpoint /mssante/emails de la DevBox-santé.\nNéanmoins pour que la DevBox-santé MSS se comporte normalement, il faut au préalable appeler un des endpoints d’authentification, c’est à dire /mssante/authentification/otp ou /mssante/authentification/cps\nMSS 1 : trust IGCSante seulement Un client de messagerie MSSanté doit établir une connexion TLS avec un Opérateur MSSanté, quels que soient les transactions et protocoles utilisés entre les 2 parties.\nMSS 1.1 Étapes Vérifier que la configuration TLS du logiciel accepte les certificats serveurs IGC Santé de la branche de TEST\nMonter une connexion TLS depuis le logiciel via une requete HTTP GET sur l’URL https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails.\n1.1.1 Preuve Extrait de configuration TLS du client de messagerie.\nLa DevBox-sante a développé un IGCSanteTrustoreManager spécifique afin de prendre en compte les différentes IGC-Santé définies sur http://igc-sante.esante.gouv.fr/PC/ . Tous les composants DevBox-Sante comme la MSS peuvent être configurés de manière à accepter les certificats d’une ou plusieurs gammes. Comme par exemple, pour l’environnement de formation de Mailiz :\ndevbox-sante: ms-sante: igcsante: gammes: ELEMENTAIRE_ORGANISATIONS, ELEMENTAIRE_ORGANISATIONS_TEST Le choix de cette gamme en configuration permet le téléchargement à la volée des certificat à ajouter au trust store lors de son lancement :\npublic void loadCertificateAndCRLs() { gammeCertificats.stream().forEach(gammeCertificat -\u003e { _loadCertificate(gammeCertificat); _loadCRL(gammeCertificat); }); } @Scheduled(cron = \"${devbox-sante.igc-sante.fetch.cron:0 0 */2 * * *}\") public void scheduledLoadCertificateAndCRLs() { log.debug(\"scheduledLoadCertificateAndCRLs\"); loadCertificateAndCRLs(); } private void _loadCertificate(IGCSanteGammeCertificat gammeCertificat) { String url = gammeCertificat.getCertificatUrl(); log.info(\"Chargement du certificat {}\", url); var certificate = certificateFetcher.getCertificate(url); if (certificate.isPresent()) { certificateMap.put(gammeCertificat, certificate.get()); } else if (!certificateMap.containsKey(gammeCertificat)) { ... } 1.1.2 Preuve Logs de la connexion TLS\nDans les logs (all.log) on peut s’intéresser à l’initialisation de l’IGCSanteTrustStoreManager :\n2025-12-15T17:30:46.863+01:00 INFO 21976 --- [ main] f.d.igcsante.IGCSanteTrustoreManager : Initialisation du truststore 2025-12-15T17:30:46.865+01:00 INFO 21976 --- [ main] f.d.igcsante.IGCSanteTrustoreManager : Ajout du certificat ELEMENTAIRE_ORGANISATIONS au trustStore 2025-12-15T17:30:46.865+01:00 INFO 21976 --- [ main] f.d.igcsante.IGCSanteTrustoreManager : Chargement du certificat http://igc-sante.esante.gouv.fr/AC/ACI-EL-ORG.cer 2025-12-15T17:30:46.867+01:00 DEBUG 21976 --- [ main] f.d.igcsante.CertificateFetcher : load http://igc-sante.esante.gouv.fr/AC/ACI-EL-ORG.cer MSS 2 : TLSv1.2 uniquement Conformément au référentiel socle MSSanté #2 (Clients de Messageries Sécurisées de Santé): Le client de messageries MSSanté du système doit supporter uniquement la version TLS 1.2 pour établir la connexion TLS avec l’Opérateur MSSanté, lors de la négociation TLS. (cf. RFC 2246 - http://tools.ietf.org/html/rfc2246). Dans le cas contraire, la connexion ne doit pas être établie.\nMSS 2.1 Scenario Vérifier que la configuration TLS du logiciel accepte les certificats serveurs IGC Santé de la branche de TEST\nMonter une connexion TLS depuis le logiciel via une requete HTTP GET sur l’URL https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails.\nMSS 2.1.1 Preuve Extrait de configuration TLS du client de messagerie.\nRéponse :\nNous utilisons une JVM en version 11 minimale. Lors de l’initialisation d’un contexte SSL via la JVM nous spécifions de manière statique le protocole TLSv1.2.\nSSLContext sslContext = SSLContext.getInstance(\"TLSv1.2\"); MSS 2.1.2 Preuve Logs de connexion TLS\nDans les logs (all.log) on peut s’intéresser à juste après l’envoi de la requête :\n2022-10-12 11:43:32.117 INFO 20756 --- [ main] o.a.c.services.AnnuaireService.REQ_OUT : REQ_OUT Address: https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails HttpMethod: POST ... le Handshake Message du client demande une TLSv1.2:\njavax.net.ssl|DEBUG|10|main|2025-12-15 17:30:48.853 CET|ClientHello.java:638|Produced ClientHello handshake message ( \"ClientHello\": { \"client version\" : \"TLSv1.2\", ... et la réponse du serveur valide le protocole :\njavax.net.ssl|DEBUG|10|main|2025-12-15 17:30:48.870 CET|SSLSocketInputRecord.java:247|READ: TLSv1.2 handshake, length = 89 javax.net.ssl|DEBUG|10|main|2025-12-15 17:30:48.870 CET|ServerHello.java:878|Consuming ServerHello handshake message ( \"ServerHello\": { \"server version\" : \"TLSv1.2\", ... MSS 3 : choix des cyphers Conformément au référentiel socle MSSanté #2 (Clients de Messageries Sécurisées de Santé) [MSS1] : Le client de messageries MSSanté du système doit nécessairement utiliser l’une des suites de chiffrement suivantes, lors de la négociation TLS :\n0xC030: TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 0xC02F: TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 0xC028: TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 0xC027: TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA25 Dans le cas contraire, la connexion ne doit pas être établie.\nMSS 3.1 Étapes Vérifier que la configuration TLS du logiciel accepte les certificats serveurs IGC Santé de la branche de TEST\nMonter une connexion TLS depuis le logiciel via une requete HTTP GET sur l’URL https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails.\nMSS 3.1.1 Afin de forcer le choix des cyphers nous initialisons une MaillSSLSocketFactory java réduisant le choix des cipher suites par défaute de la JVM :\npublic abstract class IGCSanteSSLSocketFactory extends SSLSocketFactory { public static final String VERSION = \"TLSv1.3\"; private static String CIPHER_SUITE = \"TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 \" + \"TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 \" + \"TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 \" + \"TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256 \" + \"TLS_DHE_RSA_WITH_AES_256_GCM_SHA384\" + \" TLS_DHE_RSA_WITH_AES_128_GCM_SHA256\"; ... private void initSslSocketFactory() { props.put(\"mail.imap.ssl.ciphersuites\", CIPHER_SUITE); props.put(\"mail.smtp.ssl.ciphersuites\", CIPHER_SUITE); MailSSLSocketFactory sslSocketFactory = new MailSSLSocketFactory(); return sslSocketFactory; } MSS 3.1.2 Dans les logs (all.log) on peut s’intéresser à juste après l’envoi de la requête :\n2022-10-12 11:43:32.117 INFO 20756 --- [ main] o.a.c.services.AnnuaireService.REQ_OUT : REQ_OUT Address: https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails HttpMethod: POST ... le Handshake Message du client demande les cyphers suivants :\njavax.net.ssl|DEBUG|01|main|2022-10-12 12:00:38.363 CEST|ClientHello.java:653|Produced ClientHello handshake message ( \"ClientHello\": { \"client version\" : \"TLSv1.2\", ... \"cipher suites\" : \"[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384(0xC02C), TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256(0xC02B), TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030), TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256(0xC02F), TLS_DHE_RSA_WITH_AES_256_GCM_SHA384(0x009F), TLS_DHE_DSS_WITH_AES_256_GCM_SHA384(0x00A3), TLS_DHE_RSA_WITH_AES_128_GCM_SHA256(0x009E), TLS_DHE_DSS_WITH_AES_128_GCM_SHA256(0x00A2), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384(0xC024), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384(0xC028), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256(0xC023), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256(0xC027), TLS_DHE_RSA_WITH_AES_256_CBC_SHA256(0x006B), TLS_DHE_DSS_WITH_AES_256_CBC_SHA256(0x006A), TLS_DHE_RSA_WITH_AES_128_CBC_SHA256(0x0067), TLS_DHE_DSS_WITH_AES_128_CBC_SHA256(0x0040), TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384(0xC02E), TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384(0xC032), TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256(0xC02D), TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256(0xC031), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384(0xC026), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384(0xC02A), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256(0xC025), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256(0xC029), TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_RSA_WITH_AES_256_GCM_SHA384(0x009D), TLS_RSA_WITH_AES_128_GCM_SHA256(0x009C), TLS_RSA_WITH_AES_256_CBC_SHA256(0x003D), TLS_RSA_WITH_AES_128_CBC_SHA256(0x003C), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]\", ... } ) Le serveur choisit :\njavax.net.ssl|DEBUG|01|main|2022-10-12 12:00:38.415 CEST|ServerHello.java:872|Consuming ServerHello handshake message ( \"ServerHello\": { \"server version\" : \"TLSv1.2\", ... \"cipher suite\" : \"TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384(0xC030)\", } ) MSS 4 : certificat IGC Santé Les clients de messageries MSSanté du système doivent être en capacité d’établir une connexion TLS avec un Opérateur MSSanté présentant un certificat serveur de l’IGC Santé,conformément au référentiel socle MSSanté #2 (Clients de Messageries Sécurisées de Santé) [MSS1].\nMSS 4.1 Étapes Vérifier que la configuration TLS du logiciel accepte les certificats serveurs IGC Santé de la branche de TEST\nMonter une connexion TLS depuis le logiciel via une requete HTTP GET sur l’URL https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails.\nMSS 4.1.1 Extrait de configuration des AC supportées par le client de messagerie.\nidem 1.1.1\nMSS 5 : certificat Opérateur non expiré Le client de messageries MSSanté du système DOIT vérifier que le certificat présenté par l’opérateur MSSanté n’est pas expiré, conformément au référentiel socle MSSanté #2 (Clients de Messageries Sécurisées de Santé) [MSS1].\nMSS 5.1 Étapes Vérifier que la configuration TLS du logiciel accepte les certificats serveurs IGC Santé de la branche de TEST\nMonter une connexion TLS depuis le logiciel via une requete HTTP GET sur l’URL https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails.\nMSS 5.1.1 Extrait de configuration qui permet de montrer que le client a bien configuré pour respecter cette exigence.\nPas de configuration ici, les traces parlent d’elles mêmes.\n2025-12-15T18:03:53.302+01:00 DEBUG 44272 --- [ main] f.d.igcsante.IGCSanteTrustoreManager : Date de validité du certificat (CN=AC IGC-SANTE ELEMENTAIRE ORGANISATIONS, OU=IGC-SANTE, OU=0002 187512751, O=ASIP-SANTE, C=FR) est : Tue Jun 25 02:00:00 CEST 2013 - Fri Jun 24 02:00:00 CEST 2033 2025-12-15T18:03:53.302+01:00 DEBUG 44272 --- [ main] f.d.igcsante.IGCSanteTrustoreManager : Certificat (CN=AC IGC-SANTE ELEMENTAIRE ORGANISATIONS, OU=IGC-SANTE, OU=0002 187512751, O=ASIP-SANTE, C=FR) valide 2025-12-15T18:03:53.302+01:00 INFO 44272 --- [ main] f.d.igcsante.IGCSanteTrustoreManager : Ajout du certificat ELEMENTAIRE_ORGANISATIONS_TEST au trustStore 2025-12-15T18:03:53.302+01:00 DEBUG 44272 --- [ main] f.d.igcsante.IGCSanteTrustoreManager : Date de validité du certificat (CN=TEST AC IGC-SANTE ELEMENTAIRE ORGANISATIONS, OU=IGC-SANTE TEST, OU=0002 187512751, O=ASIP-SANTE, C=FR) est : Tue Jun 25 02:00:00 CEST 2013 - Fri Jun 24 02:00:00 CEST 2033 2025-12-15T18:03:53.302+01:00 DEBUG 44272 --- [ main] f.d.igcsante.IGCSanteTrustoreManager : Certificat (CN=TEST AC IGC-SANTE ELEMENTAIRE ORGANISATIONS, OU=IGC-SANTE TEST, OU=0002 187512751, O=ASIP-SANTE, C=FR) valide javax.net.ssl|DEBUG|10|main|2025-12-15 18:03:53.308 CET|X509TrustManagerImpl.java:99|adding as trusted certificates ( \"certificate\" : { \"version\" : \"v3\", \"serial number\" : \"11:20:65:3a:6b:f4:ae:a5:cc:3d:38:fa:05:62:23:f5:ac:f1\", \"signature algorithm\": \"SHA256withRSA\", \"issuer\" : \"CN=AC RACINE IGC-SANTE ELEMENTAIRE, OU=IGC-SANTE, OU=0002 187512751, O=ASIP-SANTE, C=FR\", \"not before\" : \"2013-06-25 02:00:00.000 CEST\", \"not after\" : \"2033-06-24 02:00:00.000 CEST\", \"subject\" : \"CN=AC IGC-SANTE ELEMENTAIRE ORGANISATIONS, OU=IGC-SANTE, OU=0002 187512751, O=ASIP-SANTE, C=FR\", \"subject public key\" : \"RSA\", Puis plus tard lors de la vérification du certificat présenté par le serveur :\njavax.net.ssl|DEBUG|10|main|2025-12-15 18:03:54.266 CET|CertificateMessage.java:360|Consuming server Certificate handshake message ( \"Certificates\": [ \"certificate\" : { \"version\" : \"v3\", \"serial number\" : \"5f:82:12:a0:4a:51:d9:87:0e:cb:e8:74:91:de:d4:48\", \"signature algorithm\": \"SHA256withRSA\", \"issuer\" : \"CN=AC IGC-SANTE ELEMENTAIRE ORGANISATIONS, OU=IGC-SANTE, OU=0002 187512751, O=ASIP-SANTE, C=FR\", \"not before\" : \"2025-11-06 11:54:24.000 CET\", \"not after\" : \"2027-11-06 11:54:24.000 CET\", \"subject\" : \"CN=mail-org-tests-editeur.espacedeconfiance.mssante.fr, OU=347976684200724, O=CAPGEMINI TECHNOLOGY SERVICES, ST=Hauts-de-Seine (92), C=FR\", ... 2025-12-15T18:03:54.269+01:00 DEBUG 44272 --- [ main] f.d.igcsante.IGCSanteTrustoreManager : Date de validité du certificat (CN=mail-org-tests-editeur.espacedeconfiance.mssante.fr, OU=347976684200724, O=CAPGEMINI TECHNOLOGY SERVICES, ST=Hauts-de-Seine (92), C=FR) est : Thu Nov 06 11:54:24 CET 2025 - Sat Nov 06 11:54:24 CET 2027 2025-12-15T18:03:54.269+01:00 DEBUG 44272 --- [ main] f.d.igcsante.IGCSanteTrustoreManager : Certificat (CN=mail-org-tests-editeur.espacedeconfiance.mssante.fr, OU=347976684200724, O=CAPGEMINI TECHNOLOGY SERVICES, ST=Hauts-de-Seine (92), C=FR) valide On voit que l’IGCSanteTrustoreManager vérifie la date d’expiration de la chaîne de certificats utilisée.\nMSS 5.1.2 Si besoin, extrait du code qui vérifie la non expiration du certificat\nLors de l’initialisation d’une connexion et une fois le certificat validé par le truststore la date d’expiration du certificat présenté par l’opérateur MSS est vérifiée :\nprivate void _checkExpirationDate(X509Certificate certificat) { log.debug(\"Date de validité du certificat ({}) est : {} - {}\", certificat.getSubjectDN().toString(), certificat.getNotBefore(), certificat.getNotAfter()); if (Instant.now().isAfter(certificat.getNotAfter().toInstant())) { throw new IGCSanteException(String.format(\"Le certificat (%s) est expiré. La date d'expiration est : %s\", certificat.getSubjectDN().toString(), sdf.format(certificat.getNotAfter())) ); } if (Instant.now().isBefore(certificat.getNotBefore().toInstant())) { throw new IGCSanteException(String.format(\"Le certificat (%s) n'est pas encore valide. La date de début est : %s\", certificat.getSubjectDN().toString(), sdf.format(certificat.getNotBefore())) ); } log.debug(\"Certificat ({}) valide\", certificat.getSubjectDN().toString()); } MSS 6 : non révocation du certificat Le client de messageries MSSanté du système doit vérifier que le certificat présenté par l’Opérateur MSSanté n’est pas révoqué au moyen des CRL ou d’un répondeur OCSP, et ce quelle que soit l’autorité de certification utilisée par un Opérateur MSSanté, conformément au référentiel socle MSSanté #2 (Clients de Messageries Sécurisées de Santé) [MSS1].\nMSS 6.1 : Étapes Vérifier que la configuration TLS du logiciel accepte les certificats serveurs IGC Santé de la branche de TEST\nMonter une connexion TLS depuis le logiciel via une requête HTTP GET sur l’URL https://mss-msg-igcsante.formation.mssante.fr/mss-msg-services/services/Annuaire/soap/v1/listEmails.\nMSS 6.1.1 Extrait de configuration qui permet de montrer que le client a bien configuré pour respecter cette exigence.\nLors du lancement de la JVM (version 11 minimal) du connecteur MSS un truststore est généré avec un sous ensemble de la gamme de certificats de l’AC définit à l’url suivante : http://igc-sante.esante.gouv.fr/PC/\nNous prenons en compte les CRL disponibles pour chaque certificat donné à cette même URL.\nLes logs montrent cette prise en charge :\n2025-12-15T17:30:46.863+01:00 INFO 21976 --- [ main] f.d.igcsante.IGCSanteTrustoreManager : Initialisation du truststore 2025-12-15T17:30:46.865+01:00 INFO 21976 --- [ main] f.d.igcsante.IGCSanteTrustoreManager : Ajout du certificat ELEMENTAIRE_ORGANISATIONS au trustStore 2025-12-15T17:30:46.865+01:00 INFO 21976 --- [ main] f.d.igcsante.IGCSanteTrustoreManager : Chargement du certificat http://igc-sante.esante.gouv.fr/AC/ACI-EL-ORG.cer 2025-12-15T17:30:46.867+01:00 DEBUG 21976 --- [ main] f.d.igcsante.CertificateFetcher : load http://igc-sante.esante.gouv.fr/AC/ACI-EL-ORG.cer MSC 6.1.2 Si besoin, extrait du code qui vérifie la non révocation du certificat\nL’IGCSanteTrustoreManager est codé pour vérifier les CRLs disponibles sur http://igc-sante.esante.gouv.fr/PC/, dont voici l’extrait de code (implémentation basé sur https://stackoverflow.com/questions/45460015/crl-check-in-java):\nLe chargement des CRL est lancé toutes les 2 heures (délai configurable).\npublic TrustManager[] getTrustManagers() { return new X509TrustManager[]{ new X509TrustManager() { ... @Override public void checkServerTrusted(X509Certificate[] x509Certificates, String string) throws CertificateException { getWrapped().checkServerTrusted(x509Certificates, string); } ... private X509TrustManager getWrapped() { if (trustManagerFactory.getTrustManagers() == null || trustManagerFactory.getTrustManagers().length == 0) { init(gammeCertificats); } return (X509TrustManager) trustManagerFactory.getTrustManagers()[0]; } } }; } public final void init(List\u003cIGCSanteGammeCertificat\u003e gammeCertificats) { this.gammeCertificats = gammeCertificats; trustManagerFactory = TrustManagerFactory.getInstance(PKIX); ... _initCRLs(gammeCertificats); ... } private Optional\u003cManagerFactoryParameters\u003e _initCRLs(List\u003cIGCSanteGammeCertificat\u003e gammeCertificats) throws KeyStoreException, InvalidAlgorithmParameterException { if (gammeCertificats.isEmpty()) { log.warn(\"Aucune gamme IGCSanté définie.\"); return Optional.empty(); } PKIXBuilderParameters pkixParams = new PKIXBuilderParameters(trustStore, new X509CertSelector()); List\u003cCertStore\u003e certStoreList = gammeCertificats.stream() .map(gammeCertificat -\u003e certStoreMap.getOrDefault(gammeCertificat, null)) .filter(Objects::nonNull) .collect(Collectors.toList()); if (!certStoreList.isEmpty()) { pkixParams.setCertStores(certStoreList); pkixParams.setRevocationEnabled(true); return Optional.of(new CertPathTrustManagerParameters(pkixParams)); } log.warn(\"Aucune CRL des gammes IGCSantÃ© n'ont pu Ãªtre chargÃ©es.\"); return Optional.empty(); } @Scheduled(cron = \"${devbox-sante.igc-sante.fetch.cron:0 0 */2 * * *}\") public void scheduledLoadCertificateAndCRLs() { log.debug(\"scheduledLoadCertificateAndCRLs\"); gammeCertificats.stream().forEach(gammeCertificat -\u003e { _loadCertificate(gammeCertificat); _loadCRL(gammeCertificat); }); } private void _loadCRL(IGCSanteGammeCertificat gammeCertificat) { String url = gammeCertificat.getCrlUrl(); log.info(\"Chargement de la CRL {}\", url); var certStore = certificateFetcher.getCrlStore(url); if (certStore.isPresent()) { certStoreMap.put(gammeCertificat, certStore.get()); } } ","categories":"","description":"Comment configurer la DevBox-sante MSS pour apporter les preuves SEGUR\n","excerpt":"Comment configurer la DevBox-sante MSS pour apporter les preuves SEGUR …","ref":"/6.x/connecteurs/ms-sante/howtos/preuve_segur/","tags":"","title":"Preuves Segur"},{"body":"Cette transaction permet de tester l’existence d’un DMP et de vérifier les autorisations d’accès ainsi que de récupérer les informations concernant la création du compte patient.\nDe là peut en découler des actions de créations de DMP, de création de compte internet, ou bien encore de connaître la raison d’une interdiction d’accès\nExemple Java :\nTD02Response response = client.td02Exist(context, TD02Request.builder() .matriculeINS(Identifiant.builder() .valeur(\"277076322082910\") .identifiantSysteme(Oids.ANS_1_2_250_1_213._1_4_10_INS_NIR_TEST.val()) .build()) .build() ); if (response.getAutorisation().equals(EXPIRE)) { // prévoir une client.td03AddAuthorization() } else if (response.getAutorisation().equals(INTERDIT)) { // le PS ne peut accéder au DMP final String raison = response.getRaison(); } else if (response.getAutorisation().equals(NON_EXISTE)) { // prévoir une client.td03AddAuthorization() } else if (response.getAutorisation().equals(VALIDE)) { if (!response.getCompteInternetOuvert()) { // prévour une client.td15aCreerAccesInternetPatient() } // contient les informations patient stockées dans leDMP final DMPCPatient dmpPatient = response.getPatient(); if (response.getRole().equals(DMPCRole.MEDECIN_TRAITANT)) { // le PS author est le médecint traitant } } Exemple curl :\ncurl --request POST '/dmp/td02Exist' \\ --data-raw '{ \"context\": {...}, \"request\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" } } }' ","categories":"","description":"test d'existence du DMP d'un patient et vérification de l'autorisation d'accès \n","excerpt":"test d'existence du DMP d'un patient et vérification de l'autorisation …","ref":"/5.x/dmp/howtos/transactions/td0.2/","tags":"","title":"TD0.2 (depuis version 1.0)"},{"body":"Cette transaction permet de tester l’existence d’un DMP et de vérifier les autorisations d’accès ainsi que de récupérer les informations concernant la création du compte patient.\nDe là peut en découler des actions de créations de DMP, de création de compte internet, ou bien encore de connaître la raison d’une interdiction d’accès\nExemple Java :\nTD02Response response = client.td02Exist(context, TD02Request.builder() .matriculeINS(Identifiant.builder() .valeur(\"277076322082910\") .identifiantSysteme(Oids.ANS_1_2_250_1_213._1_4_10_INS_NIR_TEST.val()) .build()) .build() ); if (response.getAutorisation().equals(EXPIRE)) { // prévoir une client.td03AddAuthorization() } else if (response.getAutorisation().equals(INTERDIT)) { // le PS ne peut accéder au DMP final String raison = response.getRaison(); } else if (response.getAutorisation().equals(NON_EXISTE)) { // prévoir une client.td03AddAuthorization() } else if (response.getAutorisation().equals(VALIDE)) { if (!response.getCompteInternetOuvert()) { // prévour une client.td15aCreerAccesInternetPatient() } // contient les informations patient stockées dans leDMP final DMPCPatient dmpPatient = response.getPatient(); if (response.getRole().equals(DMPCRole.MEDECIN_TRAITANT)) { // le PS author est le médecint traitant } } Exemple curl :\ncurl --request POST '/dmp/td02Exist' \\ --data-raw '{ \"context\": {...}, \"request\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" } } }' ","categories":"","description":"test d'existence du DMP d'un patient et vérification de l'autorisation d'accès \n","excerpt":"test d'existence du DMP d'un patient et vérification de l'autorisation …","ref":"/6.x/connecteurs/dmp/howtos/transactions/td0.2/","tags":"","title":"TD0.2 (depuis version 1.0)"},{"body":"Le LPS permet à l’utilisateur les actions suivantes.\nAjouter une autorisation d’accès au DMP du patient ou passer en mode d’accès « bris de glace ». Cf. DMP_0.3a. Supprimer une autorisation d’accès au DMP du patient. Cf. DMP_0.3b. Modifier le statut médecin traitant DMP. Cf. DMP_0.3c. Exemple :\nclient.td03AddAuthorization(context, new TD03Request(patient.getMatriculeINS(), DMPCRole.STANDARD)); client.td03RemoveAuthorization(context, new TD03Request(patient.getMatriculeINS(), DMPCRole.STANDARD)); Exemple curl :\ncurl --request PUT '/dmp/td03AddAuthorization' \\ --data-raw '{ \"context\": {... }, \"request\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"role\": \"STANDARD\" } }' url --request PUT '/dmp/td03RemoveAuthorization' \\ --data-raw '{ \"context\": {...}, \"request\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"role\": \"STANDARD\" } }' ","categories":"","description":"modifier l'autorisation d'accès et/ou le statut médecin traitant DMP ou passer en mode d'accès « bris de glace » (depuis version 2.0)\n","excerpt":"modifier l'autorisation d'accès et/ou le statut médecin traitant DMP …","ref":"/5.x/dmp/howtos/transactions/td0.3/","tags":"","title":"TD0.3 (depuis version 2.0)"},{"body":"Le LPS permet à l’utilisateur les actions suivantes.\nAjouter une autorisation d’accès au DMP du patient ou passer en mode d’accès « bris de glace ». Cf. DMP_0.3a. Supprimer une autorisation d’accès au DMP du patient. Cf. DMP_0.3b. Modifier le statut médecin traitant DMP. Cf. DMP_0.3c. Exemple :\nclient.td03AddAuthorization(context, new TD03Request(patient.getMatriculeINS(), DMPCRole.STANDARD)); client.td03RemoveAuthorization(context, new TD03Request(patient.getMatriculeINS(), DMPCRole.STANDARD)); Exemple curl :\ncurl --request PUT '/dmp/td03AddAuthorization' \\ --data-raw '{ \"context\": {... }, \"request\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"role\": \"STANDARD\" } }' url --request PUT '/dmp/td03RemoveAuthorization' \\ --data-raw '{ \"context\": {...}, \"request\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"role\": \"STANDARD\" } }' ","categories":"","description":"modifier l'autorisation d'accès et/ou le statut médecin traitant DMP ou passer en mode d'accès « bris de glace » (depuis version 2.0)\n","excerpt":"modifier l'autorisation d'accès et/ou le statut médecin traitant DMP …","ref":"/6.x/connecteurs/dmp/howtos/transactions/td0.3/","tags":"","title":"TD0.3 (depuis version 2.0)"},{"body":"Les deux usages sont les suivants :\nElle permet de récupérer la liste des nouveaux DMP autorisés pour l’acteur de santé (avec les INS de patient et les traits d’identités). Outre les habituelles informations d’authentification, il est possible de paramétrer en entrée une date à partir de laquelle la recherche est effectuée. Par exemple : (date du jour - 3 jours) ou (date du jour - 1 semaine). L’éditeur peut mettre en oeuvre dans le LPS un appel planifié régulièrement à cette transaction (par exemple tous les 3 jours ou toutes les semaines). Exemple : Cette transaction peut être utile dans le cas d’un logiciel du SIH ne recueillant pas directement l’autorisation du patient. NB : l’autorisation d’accès est facultative pour alimenter le DMP avec des documents et pour supprimer des documents si le LPS implémente le profil Alimentation.\nCette transaction permet de récupérer la liste des patients pour lesquels un nouveau document a été ajouté dans son DMP depuis une date donnée. Le retour est le même, seul le paramétrage en entrée est différent.\nExemple Java : // cas 1 var response = client.td04ListDMPActifs(context, TD04Request.builder() .from(clock.getLocal().minusYears(1)) .searchType(TD04Request.PatientSearchType.LAST_AUTORIZATION) .build() ); // cas 2 var response = client.td04ListDMPActifs(context, TD04Request.builder() .from(clock.getLocal().minusYears(1)) .searchType(TD04Request.PatientSearchType.LAST_DOC) .build() ); Exemple curl :\n// cas 2\ncurl --location --request PUT 'http://localhost:8080/dmp/td04ListDMPActifs' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"context\": { \"author\": {}, \"modeAcces\": { \"acces\": \"NORMAL\" } }, \"request\": { \"from\": \"2021-08-12T15:16:10Z\", \"searchType\": \"LAST_DOC\" } }' ","categories":"","description":"Lister les DMP autorisés (depuis version 5.0)\n","excerpt":"Lister les DMP autorisés (depuis version 5.0)\n","ref":"/5.x/dmp/howtos/transactions/td0.4/","tags":"","title":"TD0.4 (depuis version 5.0)"},{"body":"Les deux usages sont les suivants :\nElle permet de récupérer la liste des nouveaux DMP autorisés pour l’acteur de santé (avec les INS de patient et les traits d’identités). Outre les habituelles informations d’authentification, il est possible de paramétrer en entrée une date à partir de laquelle la recherche est effectuée. Par exemple : (date du jour - 3 jours) ou (date du jour - 1 semaine). L’éditeur peut mettre en oeuvre dans le LPS un appel planifié régulièrement à cette transaction (par exemple tous les 3 jours ou toutes les semaines). Exemple : Cette transaction peut être utile dans le cas d’un logiciel du SIH ne recueillant pas directement l’autorisation du patient. NB : l’autorisation d’accès est facultative pour alimenter le DMP avec des documents et pour supprimer des documents si le LPS implémente le profil Alimentation.\nCette transaction permet de récupérer la liste des patients pour lesquels un nouveau document a été ajouté dans son DMP depuis une date donnée. Le retour est le même, seul le paramétrage en entrée est différent.\nExemple Java : // cas 1 var response = client.td04ListDMPActifs(context, TD04Request.builder() .from(clock.getLocal().minusYears(1)) .searchType(TD04Request.PatientSearchType.LAST_AUTORIZATION) .build() ); // cas 2 var response = client.td04ListDMPActifs(context, TD04Request.builder() .from(clock.getLocal().minusYears(1)) .searchType(TD04Request.PatientSearchType.LAST_DOC) .build() ); Exemple curl :\n// cas 2\ncurl --location --request PUT 'http://localhost:8080/dmp/td04ListDMPActifs' \\ --header 'Content-Type: application/json' \\ --data-raw '{ \"context\": { \"author\": {}, \"modeAcces\": { \"acces\": \"NORMAL\" } }, \"request\": { \"from\": \"2021-08-12T15:16:10Z\", \"searchType\": \"LAST_DOC\" } }' ","categories":"","description":"Lister les DMP autorisés (depuis version 5.0)\n","excerpt":"Lister les DMP autorisés (depuis version 5.0)\n","ref":"/6.x/connecteurs/dmp/howtos/transactions/td0.4/","tags":"","title":"TD0.4 (depuis version 5.0)"},{"body":"Obtenir l’url de redirection en authentification CPS Un endpoint permet de l’obtenir :\nExemple requête :\npost { url: {{base_url}}/dmp/td09TableauDeBordUrl body: json } body:json { { \"context\": { }, \"request\" : { \"matriculeINS\" : { \"valeur\" : \"133061764035249\", \"identifiantSysteme\" : \"1.2.250.1.213.1.4.10\" } }} } Si la DevBox-santé DMP est configurée sur l’environnement dev1, cette requête retourne :\n{ \"url\": \"https://wps-cps.dev1.dmp.gouv.fr/ps/acces-web/AccesDirect/TableauDeBord/133061764035249/1.2.250.1.213.1.4.10\" } Il vous suffit de rediriger vos utilisateurs sur cette url.\nObtenir la redirection en authentification PSC Les urls ProSantéConnect sont un peu différentes pour un même environnement (cf. /5.x/dmp/howtos/environnements/). Les paramètres INS doivent être passés dans un formulaire :\nAu jour d’écriture voici le document de paramétrage : PDT-INF-547-paramétrage URLs v5\nVous pouvez donc utiliser dans votre application un formulaire similaire à (ici dev1):\n\u003c!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"\u003e \u003chtml xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"fr\" lang=\"fr\"\u003e \u003chead\u003e \u003ctitle\u003eRedirection vers le DMP\u003c/title\u003e \u003c/head\u003e \u003cbody onload=\"document.forms[0].submit()\"\u003e Redirection vers le DMP en cours, veuillez patienter. \u003cform action=\"https://wps-psc.dev1.dmp.gouv.fr/AccesDirect/TableauDeBord\" METHOD=\"POST\"\u003e \u003cinput type=\"hidden\" name=\"INS\" value=\"207100486108281\"\u003e \u003cinput type=\"hidden\" name=\"typeINS\" value=\"1.2.250.1.213.1.4.8\"\u003e \u003c/form\u003e \u003c/body\u003e \u003c/html\u003e ","categories":"","description":"Redirection Web\n","excerpt":"Redirection Web\n","ref":"/5.x/dmp/howtos/transactions/td0.9/","tags":"","title":"TD0.9"},{"body":"Obtenir l’url de redirection en authentification CPS Un endpoint permet de l’obtenir :\nExemple requête :\npost { url: {{base_url}}/dmp/td09TableauDeBordUrl body: json } body:json { { \"context\": { }, \"request\" : { \"matriculeINS\" : { \"valeur\" : \"133061764035249\", \"identifiantSysteme\" : \"1.2.250.1.213.1.4.10\" } }} } Si la DevBox-santé DMP est configurée sur l’environnement dev1, cette requête retourne :\n{ \"url\": \"https://wps-cps.dev1.dmp.gouv.fr/ps/acces-web/AccesDirect/TableauDeBord/133061764035249/1.2.250.1.213.1.4.10\" } Il vous suffit de rediriger vos utilisateurs sur cette url.\nObtenir la redirection en authentification PSC Les urls ProSantéConnect sont un peu différentes pour un même environnement (cf. /6.x/connecteurs/dmp/howtos/environnements/). Les paramètres INS doivent être passés dans un formulaire :\nAu jour d’écriture voici le document de paramétrage : PDT-INF-547-paramétrage URLs v5\nVous pouvez donc utiliser dans votre application un formulaire similaire à (ici dev1):\n\u003c!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"\u003e \u003chtml xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"fr\" lang=\"fr\"\u003e \u003chead\u003e \u003ctitle\u003eRedirection vers le DMP\u003c/title\u003e \u003c/head\u003e \u003cbody onload=\"document.forms[0].submit()\"\u003e Redirection vers le DMP en cours, veuillez patienter. \u003cform action=\"https://wps-psc.dev1.dmp.gouv.fr/AccesDirect/TableauDeBord\" METHOD=\"POST\"\u003e \u003cinput type=\"hidden\" name=\"INS\" value=\"207100486108281\"\u003e \u003cinput type=\"hidden\" name=\"typeINS\" value=\"1.2.250.1.213.1.4.8\"\u003e \u003c/form\u003e \u003c/body\u003e \u003c/html\u003e ","categories":"","description":"Redirection Web\n","excerpt":"Redirection Web\n","ref":"/6.x/connecteurs/dmp/howtos/transactions/td0.9/","tags":"","title":"TD0.9"},{"body":" Cette transaction est spécifique à l’authentification indirecte renforcée et offre un accès au DMP par le canal Web-PS sans nécessiter de carte CPx.\nElle est décrite dans le “§5.5 TD0.10 Accès Web-PS Contextuel en mode AIR” du guide d’intégration.\nPour la mise en place de ce mode d’accès :\nl’authentification de l’utilisateur est laissé à l’intégrateur. la génération du jeton VIHF est réalisée par la DevBox-Santé DMP la génération de la trace est réalisée par la DevBox-Santé DMP le stockage des traces ainsi que leurs extractions sont laissés à l’intégrateur le proxy des requêtes vers le web DMP est réalisé par la DevBox-Santé DMP Composants Ainsi le diagramme de composants défini dans le guide d’integration est interprété comme cela dans la DevBox-Santé DMP :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 !define DARK_COLOR #0073bb package \"SIH\" { [Navigateur] as navigateur DARK_COLOR [Proxy\\n\\nDevBox-Santé DMP] as proxy DMP_COLOR [Module de génération du VIHF\\n\\nDevBox-Santé-DMP] as vihf DMP_COLOR [Module Métier\\n\\nIntégrateur] as integrateur [Module d'authentification\\n\\nIntegrateur] as auth database \"Base des Traces\\n\\nIntegrateur\" as dbTrace [Module d'import/export des traces\\n\\nIntegrateur] as export database \"Référentiel de sécurité\" as dbSec } node \"Système DMP (Web-PS)\" as DMP DARK_COLOR actor utilisateur DARK_COLOR utilisateur -right-\u003e navigateur navigateur -right-\u003e proxy navigateur -down-\u003e integrateur integrateur -down-\u003e auth auth -down-\u003e dbSec integrateur -right-\u003e vihf integrateur -\u003e dbTrace export -up-\u003e dbTrace proxy -\u003e DMP Cinématique La cinématique devient dans la DevBox-Santé\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define DARK_COLOR #0073bb hide footbox actor \"Utilisateur\" as utilisateur DARK_COLOR participant \"Navigateur\" as navigateur DARK_COLOR participant \"Module métier \\n\\nintégrateur\" as backend participant \"Module d'authentification\\n\\n intégrateur\" as auth participant \"DevBox-Santé DMP\" as dbxdmp DMP_COLOR participant \"**DMP**\" as dmp DARK_COLOR utilisateur -\u003e navigateur : Connexion activate utilisateur activate navigateur navigateur -\u003e backend : Connexion activate backend backend -\u003e auth : Connexion activate auth note over navigateur, auth: Authentification primaire forte de l'utilisateur auth --\u003e backend deactivate auth backend --\u003e navigateur : utilisateur authentifié deactivate backend navigateur --\u003e utilisateur deactivate navigateur utilisateur -\u003e navigateur activate navigateur navigateur -\u003e backend : Demande d'accès au web-PS activate backend backend -\u003e dbxdmp : POST /dmp/td010JetonVihf activate dbxdmp note over dbxdmp : Forge du jeton vihf , génération trace dbxdmp --\u003e backend : {trace: ..., vihf: ..., url: /AccesIndirecteRenforcee/TableauDeBord} deactivate dbxdmp backend --\u003e navigateur : Formulaire XHTML autosoumis deactivate backend navigateur -\u003e dbxdmp : Envoi formulaire (SAMLResponse) activate dbxdmp dbxdmp -\u003e dmp : envoi formulaire (SAMLResponse) note over dbxdmp, dmp: Authentification mutuelle activate dmp dmp--\u003e dbxdmp : html + jsessionid deactivate dmp dbxdmp -\u003e navigateur : html + jsessionid' deactivate dbxdmp navigateur --\u003e utilisateur deactivate navigateur deactivate utilisateur == Échanges suivants : la DevBox-Santé DMP joue le rôle de Proxy sur la session ouverte depuis le navigateur == alt session dbxdmp et dmp ouverte utilisateur -\u003e navigateur activate utilisateur activate navigateur navigateur -\u003e dbxdmp : Requête HTTP + jsessionid' activate dbxdmp dbxdmp -\u003e dmp : Requête HTTP + jsessionid activate dmp dmp --\u003e dbxdmp : Page HTML deactivate dmp dbxdmp --\u003e navigateur deactivate dbxdmp navigateur --\u003e utilisateur deactivate navigateur else session terminé note across: retour à la génération d'un jeton deactivate utilisateur end Mise en œuvre Pour mettre en œuvre cette transaction en tant qu’intégrateur, comme le dit le diagramme de séquence cela se passe donc en trois temps:\n1. Authentification Le module métier intégrateur s’appuie sur une authentification primaire forte de l’utilisateur. La DevBox-santé DMP n’a aucun rôle dans cette séquence.\n2. Obtention du jeton VIHF Il s’agit d’une requête sur le proxy REST DMP :\nExemples Bruno (https://usebruno.com) :\npost { url: {{baseUrl}}/dmp/td010JetonVihf body: json auth: none } body:json { { \"context\": { \"author\" : { \"rpps\" : \"899700433156\", \"nom\" : \"MEDECIN RPPS0043315\", \"prenom\" : \"VIRGINIE\", \"role\" : \"10\", \"specialite\" : \"G15_10/SM26\", \"secteurActivite\" : \"SA07\", \"service\" : { \"nom\" : \"Service pédiatrie\" } }, \"authentificationIndirecteRenforcee\" : true, \"samlAuthnContext\" : \"urn:oasis:names:tc:SAML:2.0:ac:classes:Password\" }, \"request\" : { \"matriculeINS\" : { \"valeur\" : \"133061764035249\", \"identifiantSysteme\" : \"1.2.250.1.213.1.4.10\" } }} } L’exemple complet : https://bitbucket.org/devbox-sante/dbx-examples-bruno/src/master/dbx-dmp-6.x/authentification/p12/TD0.10%20-%20AIR%E2%80%AF-%20contexte%20WebPS.bru\nLa réponse va ressembler à cela :\n{ \"trace\": { \"vihfId\": \"5f5bca57-49f1-429c-82c4-970b4097eddd\", \"dateTime\": \"2024-06-04T08:04:57.98Z\", \"idNatStruct\": \"11B0062640\", \"idNatPs\": \"899700433156\", \"statut\": \"SUCCES\", \"transactionId\": \"TD0.10\", \"samlAuthContext\": \"urn:oasis:names:tc:SAML:2.0:ac:classes:Password\" }, \"vihf\": \"PHNhbWwycDpS....NlPg==\", \"url\": \"/AccesIndirectRenforce/TableauDeBord/133061764035249/1.2.250.1.213.1.4.10\" } Vous obtenez l’information de trace pour la génération du jeton, pour stocker dans votre gestionnaire de traces fonctionnelles. Mais surtout l’url (relative) vers le proxy web Devbox-Santé DMP et enfin le vihf encodé en base64.\n3. Connexion au WebDMP via le proxy DevBox-Santé DMP Ce jeton VIHF encodé peut être retourné dans un formulaire html de votre application frontend comme décrit dans le guide d’intégration (§5.5.2.2) ayant pour code :\n\u003cbody onload=\"document.forms[0].submit()\"\u003e \u003cform method=\"post\" action=\"http://host_devboxsante:port_devboxsante/AccesIndirectRenforce/TableauDeBord/133061764035249/1.2.250.1.213.1.4.10\"\u003e \u003cinput type=\"hidden\" name=\"SAMLResponse\" value= \"PHNhbWwycDpS....NlPg==\" /\u003e ... \u003c/form\u003e \u003c/body\u003e À la validation de ce formulaire vous accéderez au Web DMP avec la DevBox-Santé en mode Proxy.\nFormulaire de démo TEST seulement Pour vous aider et pout tester seulement, vous pouvez accéder depuis la devbox-santé à un formulaire de démo, initialisé avec le dernier jeton VIHF généré (donc clairement mono utilisateur).\nPour cela depuis un navigateur aller sur l’url : http://host_devboxsante:port_devboxsante/dmp/demo/td010\nPuis cliquer sur le bouton. Vous devriez être connecté sur le WebDMP en mode AIR : ","categories":"","description":"Transaction TD0.10 authentification et proxy vers le webDMP \n","excerpt":"Transaction TD0.10 authentification et proxy vers le webDMP \n","ref":"/6.x/connecteurs/dmp/howtos/transactions/td0.10/","tags":"","title":"TD0.10 (depuis version 6.0)"},{"body":"Le profil alimentation du DMP se fait au travers de transaction XDS (https://wiki.ihe.net/index.php/Cross-Enterprise_Document_Sharing) supportée par le serveur DMP ainsi que par la DevBox-Santé DMP.\nLes transactions XDS permettent de soumettre des documents au format CDA (https://www.hl7.org/implement/standards/product_brief.cfm?product_id=7) supporté également par le DMP et la DevBox-Santé DMP.\nLa DevBox-Santé DMP présente un modèle simplifé des informations demandées et s’occupe de la cohérence des métadonnées des transactions XDS d’avec les métadonnées des documents CDA )\nTD2.1 : alimenter le DMP d’un patient avec des documents (depuis version 1.0) Cette fonctionnalité permet d’alimenter le DMP d’un patient avec un ou plusieurs nouveaux documents :\ndécrits sous la forme de documents CDA et de métadonnées XDS, et transmis au système DMP sous la forme d’un lot de soumission XDS signé (XAdES). La cinématique générale est la suivante. Le PS constitue le ou les document(s) dans le LPS . Le LPS :\nconstruit le ou les document(s) construit le document au format CDA ==\u003e action réalisée par la DevBox-Santé DMP alimente les métadonnées XDS ==\u003e action réalisée par la DevBox-Santé DMP constitue un lot de soumission XDS et signe ce lot (XAdES) ==\u003e action réalisée par la DevBox-Santé DMP soumet le lot de documents au système DMP ==\u003e action réalisée par la DevBox-Santé DMP Le LPS intégrateur de la DevBox-Santé DMP doit seulement fournir les valeurs des différentes métadonnées liées aux documents et à la soumission par l’intermédiaire d’un modèle simplifié :\nEn java : final ZonedDateTime maintenant = timeManager.getLocal(); // création du document InputStream input = this.getClass().getClassLoader().getResourceAsStream(\"1.pdf\"); byte[] content = new byte[input.available()]; ByteStreams.readFully(input, content); DMPCDocument document = DMPCDocument.builder() .patient(patient) .classCodeCode(client.getCodesFor(DMPCCode.JeuxValeursDMP.CLASS_CODE).get(0)) .confidentialityCodes(List.of(findCode(DMPCCode.JeuxValeursDMP.CONFIDENTIALITY_CODE, \"N\"))) .comments(\"Commentaire du Document\") .events(List.of(new DMPCCode(\"B18\", \"2.16.840.1.113883.6.3\", \"Hépatite virale chronique\"))) .practiceSettingCode(findCode(DMPCCode.JeuxValeursDMP.PRACTICE_SETTING_CODE, \"AMBULATOIRE\")) .serviceStartDateTime(maintenant.minusHours(3)) .serviceStopDateTime(maintenant.minusHours(2)) .title(\"Titre du Document\") .typeCode(findCode(DMPCCode.JeuxValeursDMP.TYPE_CODE, \"11488-4\")) .creationDateTime(maintenant) .formatCode(findCode(DMPCCode.JeuxValeursDMP.FORMAT_CODE, \"urn:ihe:iti:xds-sd:pdf:2008\")) .content(content).build(); // création de la soumission DMPCSoumission\u003cDMPCDocument\u003e soumission = DMPCSoumission.builder() .documents(List.of(document)) .title(\"Soumission du document\") .comments(\"Commentaire de la soumission\") .patient(patient) .contentType(\"04\").build(); // envoi de la soumission TD21Response td21Response = client.td21SubmitDocuments(context, new TD21Request(soumission)); System.out.println(\"Soumission enregistré avec l'uuid :\" + td21Response.getSoumission().getUuid()); td21Response.getSoumission().getDocuments().forEach(submitted -\u003e { DMPCDocument submittedDocument = (DMPCDocument) submitted; System.out.println(String.format(\"Contenant le document ayant pour uniqueId : %s et uuid : %s\", submittedDocument.getUniqueId(), submittedDocument.getEntryUuid())); }); Pour une soumission de plusieurs documents, il suffit d’ajouter les documents à la soumission :\nsubmission.addDocument(document1); submission.addDocument(document2); En REST : curl --location --request POST 'http://localhost:9999/dmp/td21SubmitDocuments' \\ --data-raw '{ \"context\": { ... }, \"request\": { \"submission\": { \"title\": \"Titre de la soumission\", \"comments\": \"Soumission via Postman\", \"contentType\": \"04\", \"patient\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"internalId\": \"67890\", \"prenom\": \"DOMINIQUE\", \"nomUsuel\": \"pat-trois\", \"dateDeNaissance\": \"19790328\", \"ordreDeNaissance\": 0, \"sexe\": \"F\" }, \"documents\": [ { \"auteurs\": [], \"classCode\": \"11\", \"comments\": \"Document soumis via Postman\", \"confidentialities\": [ \"N\" ], \"content\": \"UmFwcGVsIGNsaW5pcXVlIDogSWwgcydhZ2l0IGQndW4gaG9tbWUgZGUgNTMgYW5zLCAKcHLDqXNlbnRhbnQgdW4gbmFldnVzIGRlIGxhIGZhY2UgaW50ZXJuZSBkZSBsYSBjdWlzc2UgZ2F1Y2hlIGRlIDcgbW0gZGUgZ3JhbmQgYXhlIGVudmlyb24uIApEw6ljaXNpb24gZCdleMOpcsOoc2Ugc291cyBhbmVzdGjDqXNpZSBsb2NhbGUuIAoKSW50ZXJ2ZW50aW9uIDogRVhFUkVTRSBEJ1VOIE5BRVZVUyBERSBMQSBDVUlTU0UgR0FVQ0hFIApTb3VzIGFuZXN0aMOpc2llIGxvY2FsZSDDoCBsYSBYeWxvY2HDr25lIMOgIDEgJSBub24gYWRyw6luYWxpbsOpZS4gCgpJbmNpc2lvbiBjZW50csOpZSBzdXIgbGEgbMOpc2lvbiBwZXJtZXR0YW50IGwnZXjDqXLDqHNlIGR1IG5hZXZ1cyBkYW5zIHNhIHRvdGFsaXTDqS4gCkZlcm1ldHVyZSBjdXRhbsOpZSBlbiB1biBwbGFuIGRlIEZsZXhvY3JpbiAzLzAuICAKCkVYQU1FTiBISVNUT0xPR0lPVUUgVW5lIGzDqXNpb24gcG9seXBvw69kZSBkZSAxIHggMCw3IGNtIGEgw6l0w6kgY29tbXVuaXF1w6llLiAKT24gcmV0cm91dmUgYXUgcGxhbiBoaXN0b2xvZ2lxdWUgdW5lIGzDqXNpb24gdW4gcGV1IHZlcnJ1cXVldXNlLCAKY29tcG9ydGFudCB1bmUgcHJvbGlmw6lyYXRpb24gY2VsbHVsYWlyZSBuYWV2aXF1ZSDDqXBhcmduYW50IGwnw6lwaWTDqW1pZSwgCnNvdXMgZm9ybWUgZGUgdGjDqHF1ZXMgZW4gc3VyZmFjZSwgYXZlYyBxdWVscXVlcyBkw6lww7R0cyBkZSBtw6lsYW5pbmUsIAphc3NvY2nDqWUgw6AgdW4gZ3JhZGllbnQgZGUgbWF0dXJhdGlvbiB0csOocyBuZXQgdmVycyBsYSBwcm9mb25kZXVyLiAKCk9uIG5lIHJldHJvdXZlIHBhcyBkJ2F0eXBpZSBudWNsw6lvY3l0b3BsYXNtaXF1ZS4gCgpDT05DTFVTSU9OIE5BRVZVUyBERVJNSVFVRSBERVZFTE9QUEUgU1VSIFVOIE1PREUgRVhPUEhZVElRVUUgLiAKTEVTIExJTUlURVMgRCdFWEVSRVNFIFNPTlQgU0FJTkVTLiA=\", \"creationDateTime\": \"2023-04-05T17:46:00+02:00\", \"events\": [ { \"code\": \"H33\", \"codingScheme\": \"2.16.840.1.113883.6.3\", \"displayName\": \"Décollement et déchirement de la rétine\" } ], \"format\": \"urn:ihe:iti:xds-sd:text:2008\", \"legalAuthenticator\": { \"internalId\": \"123456\", \"nom\": \"MED-CS RPPS0029614\", \"prenom\": \"ANNE\", \"role\": \"10\", \"secteurActivite\": \"SA05\", \"specialite\": \"G15_10/SM26\", \"structureSante\": { \"nom\": \"CENTRE DE SANTE RPPS15683\", \"idNational\": \"10B0156832\" } }, \"patient\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"prenom\": \"DOMINIQUE\", \"nomUsuel\": \"pat-trois\", \"internalId\": \"67890\", \"dateDeNaissance\": \"19790328\", \"ordreDeNaissance\": 0, \"sexe\": \"F\" }, \"practiceSetting\": \"AMBULATOIRE\", \"serviceStartDateTime\": \"2023-04-05T16:42:00+02:00\", \"serviceStopDateTime\": \"2023-04-05T17:42:00+02:00\", \"title\": \"Titre du document\", \"type\": \"11488-4\" } ] } } } Remplacement Le remplacement est possible suite à la recherche TD3.1b. Il suffit de préciser l’entryUUID et le uniqueId du document à remplacer.\nExemple de remplacement de document après recherche dans le DMP :\nEn java : // récupération du uuid du document courant dans le DMP TD31bRequest td31bRequest = new TD31bRequest(); td31bRequest.setDocumentUniqueId(uniqueIdDuDocumentAremplacer); td31bRequest.setIns(patient.getIns()); TD31bResponse td31bresponse = client.td31bGetDocumentEntry(context, td31bRequest); // création de la soummission pour le remplacement DMPCSubmission submissionRemplace = ...; DMPCDocument documentRemplace = ...; // ajout des informations de remplacement dans le document qui remplace documentRemplace.setReplacementOf(td31bresponse.getDocumentUuid()); documentRemplace.setReplacementOfUniqueId(documentE.getUniqueId()); documentRemplace.setVersionNumber(documentE.getVersionNumber()+1); submissionRemplace.setTitle(\"remplacement du document E\"); // envoie de la soummission client.td21SubmitDocuments(context, new TD21Request(submissionRemplaceE)); En REST il suffit de renseigner les champs replacementOf, et replacementOfUniqueId dans le document qui remplace :\ncurl --location --request POST 'http://localhost:9999/dmp/td21SubmitDocuments' \\ --data-raw '{ \"context\": { ... }, \"request\": { \"submission\": { ... \"documents\": [ { ... \"versionNumber\": 2, \"replacementOf\": \"ff38b3da-3ded-4b90-b30e-744a4dc907d8\", \"replacementOfUniqueId\": \"1.2.250.1.287.1.1669713300686.1.16709290066422\" } ] } } } TD2.2 Cette transaction est identique techniquement que la TD2.1 mais avec une carte CPE. Il faudra veiller à préciser le legalAuthenticator du document avec le Professionnel de Santé validant le document.\n","categories":"","description":"Alimentation d'un DMP d'un patient\n","excerpt":"Alimentation d'un DMP d'un patient\n","ref":"/5.x/dmp/howtos/transactions/td2.1/","tags":"","title":"TD2.1 Alimentation (depuis version 1.0)"},{"body":"Le profil alimentation du DMP se fait au travers de transaction XDS (https://wiki.ihe.net/index.php/Cross-Enterprise_Document_Sharing) supportée par le serveur DMP ainsi que par la DevBox-Santé DMP.\nLes transactions XDS permettent de soumettre des documents au format CDA (https://www.hl7.org/implement/standards/product_brief.cfm?product_id=7) supporté également par le DMP et la DevBox-Santé DMP.\nLa DevBox-Santé DMP présente un modèle simplifé des informations demandées et s’occupe de la cohérence des métadonnées des transactions XDS d’avec les métadonnées des documents CDA )\nTD2.1 : alimenter le DMP d’un patient avec des documents (depuis version 1.0) Cette fonctionnalité permet d’alimenter le DMP d’un patient avec un ou plusieurs nouveaux documents :\ndécrits sous la forme de documents CDA et de métadonnées XDS, et transmis au système DMP sous la forme d’un lot de soumission XDS signé (XAdES). La cinématique générale est la suivante. Le PS constitue le ou les document(s) dans le LPS . Le LPS :\nconstruit le ou les document(s) construit le document au format CDA ==\u003e action réalisée par la DevBox-Santé DMP alimente les métadonnées XDS ==\u003e action réalisée par la DevBox-Santé DMP constitue un lot de soumission XDS et signe ce lot (XAdES) ==\u003e action réalisée par la DevBox-Santé DMP soumet le lot de documents au système DMP ==\u003e action réalisée par la DevBox-Santé DMP Le LPS intégrateur de la DevBox-Santé DMP doit seulement fournir les valeurs des différentes métadonnées liées aux documents et à la soumission par l’intermédiaire d’un modèle simplifié :\nEn java : final ZonedDateTime maintenant = timeManager.getLocal(); // création du document InputStream input = this.getClass().getClassLoader().getResourceAsStream(\"1.pdf\"); byte[] content = new byte[input.available()]; ByteStreams.readFully(input, content); DMPCDocument document = DMPCDocument.builder() .patient(patient) .classCodeCode(client.getCodesFor(DMPCCode.JeuxValeursDMP.CLASS_CODE).get(0)) .confidentialityCodes(List.of(findCode(DMPCCode.JeuxValeursDMP.CONFIDENTIALITY_CODE, \"N\"))) .comments(\"Commentaire du Document\") .events(List.of(new DMPCCode(\"B18\", \"2.16.840.1.113883.6.3\", \"Hépatite virale chronique\"))) .practiceSettingCode(findCode(DMPCCode.JeuxValeursDMP.PRACTICE_SETTING_CODE, \"AMBULATOIRE\")) .serviceStartDateTime(maintenant.minusHours(3)) .serviceStopDateTime(maintenant.minusHours(2)) .title(\"Titre du Document\") .typeCode(findCode(DMPCCode.JeuxValeursDMP.TYPE_CODE, \"11488-4\")) .creationDateTime(maintenant) .formatCode(findCode(DMPCCode.JeuxValeursDMP.FORMAT_CODE, \"urn:ihe:iti:xds-sd:pdf:2008\")) .content(content).build(); // création de la soumission DMPCSoumission\u003cDMPCDocument\u003e soumission = DMPCSoumission.builder() .documents(List.of(document)) .title(\"Soumission du document\") .comments(\"Commentaire de la soumission\") .patient(patient) .contentType(\"04\").build(); // envoi de la soumission TD21Response td21Response = client.td21SubmitDocuments(context, new TD21Request(soumission)); System.out.println(\"Soumission enregistré avec l'uuid :\" + td21Response.getSoumission().getUuid()); td21Response.getSoumission().getDocuments().forEach(submitted -\u003e { DMPCDocument submittedDocument = (DMPCDocument) submitted; System.out.println(String.format(\"Contenant le document ayant pour uniqueId : %s et uuid : %s\", submittedDocument.getUniqueId(), submittedDocument.getEntryUuid())); }); Pour une soumission de plusieurs documents, il suffit d’ajouter les documents à la soumission :\nsubmission.addDocument(document1); submission.addDocument(document2); En REST Exemple REST avec Bruno :\nauthentification P12 : https://bitbucket.org/devbox-sante/dbx-examples-bruno/src/master/dbx/dmp/6.x/authentification/p12InHeader/TD2.1%20-%20p12InHeader.bru authentification CPS : https://bitbucket.org/devbox-sante/dbx-examples-bruno/src/master/dbx/dmp/6.x/authentification/cps/TD2-1%20-%20cps.bru Remplacement Le remplacement est possible suite à la recherche TD3.1b. Il suffit de préciser l’entryUUID et le uniqueId du document à remplacer.\nExemple de remplacement de document après recherche dans le DMP :\nEn java : // récupération du uuid du document courant dans le DMP TD31bRequest td31bRequest = new TD31bRequest(); td31bRequest.setDocumentUniqueId(uniqueIdDuDocumentAremplacer); td31bRequest.setIns(patient.getIns()); TD31bResponse td31bresponse = client.td31bGetDocumentEntry(context, td31bRequest); // création de la soummission pour le remplacement DMPCSubmission submissionRemplace = ...; DMPCDocument documentRemplace = ...; // ajout des informations de remplacement dans le document qui remplace documentRemplace.setReplacementOf(td31bresponse.getDocumentUuid()); documentRemplace.setReplacementOfUniqueId(documentE.getUniqueId()); documentRemplace.setVersionNumber(documentE.getVersionNumber()+1); submissionRemplace.setTitle(\"remplacement du document E\"); // envoie de la soummission client.td21SubmitDocuments(context, new TD21Request(submissionRemplaceE)); En REST il suffit de renseigner les champs replacementOf, et replacementOfUniqueId dans le document qui remplace :\ncurl --location --request POST 'http://localhost:9999/dmp/td21SubmitDocuments' \\ --data-raw '{ \"context\": { ... }, \"request\": { \"submission\": { ... \"documents\": [ { ... \"versionNumber\": 2, \"replacementOf\": \"ff38b3da-3ded-4b90-b30e-744a4dc907d8\", \"replacementOfUniqueId\": \"1.2.250.1.287.1.1669713300686.1.16709290066422\" } ] } } } TD2.2 Cette transaction est identique techniquement que la TD2.1 mais avec une carte CPE. Il faudra veiller à préciser le legalAuthenticator du document avec le Professionnel de Santé validant le document.\n","categories":"","description":"Alimentation d'un DMP d'un patient\n","excerpt":"Alimentation d'un DMP d'un patient\n","ref":"/6.x/connecteurs/dmp/howtos/transactions/td2.1/","tags":"","title":"TD2.1 Alimentation (depuis version 1.0)"},{"body":"Il est possible de faire des recherches de document ainsi que des recherches des documentation\nGetDocuments Permet la recherche par identifiant :\nExemple de Requête en Java :\nTD31Response td31Response = client.td31Find(context, TD31Request.GetDocuments.builder() .matriculeINS(patient.getMatriculeINS()) .documentEntryUniqueId(uniqueId) .build()); En Rest\ncurl --location 'http://localhost:9999/dmp/td31Find' \\ --header 'Content-Type: application/json' \\ --data '{ \"context\": { }, \"request\": { \"query\": \"GetDocuments\", \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"statuses\": [ \"APPROVED\" ], \"documentEntryUniqueId\": \"2.25.120152820330539744963703480707082727589.2401081046.1.1.1\" } }' FindDocuments Permet la recherce de documents sur l’ensemble des critères possibles en XDS, et ceux demandés par les différents test CNDA\nExemple de Requête en Java :\nfinal TD31Request.FindDocuments request = new TD31Request.FindDocuments(); request.setMatriculeINS(patient.getMatriculeINS()); request.setConfidentialityCode(Arrays.asList(\"N\")); request.setTypeCode(List.of(\"11488-4\", \"15507-7\")); request.setStatuses(Collections.singletonList(AvailabilityStatus.APPROVED)); final TD31Response response = client.td31Find(context, request); En Rest\ncurl --location 'http://localhost:9999/dmp/td31Find' \\ --header 'Content-Type: application/json' \\ --data '{ \"context\": { }, \"request\": { \"query\": \"FindDocuments\", \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"statuses\": [ \"APPROVED\" ], \"typeCode\": [\"11488-4\", \"15507-7\"] } }' FindSubmissionSetsAndGetContents Cette transaction permet de faire la recherche par date de soumission demandé dans le guide d’intégration du DMP :\nRecherche de document soumis dans un intervalle temporel par rapport à une date de soumission Dans XDS, il n’existe pas de requête « Stored Query » pour rechercher les documents soumis au Repository du système DMP dans un intervalle temporel donné. Plusieurs approches permettent néanmoins de le faire, en combinant plusieurs requêtes.\nCombinaison de FindSubmissionSet et de GetSubmissionSetAndContents (soit N+1 appels de fonctions, en fonction du nombre N de lots retournés).\na. Utilisation de la requête FindSubmissionSets pour rechercher les lots de soumission en spécifiant un intervalle temporel de soumission (date de soumission dans le DMP, critères $XDSSubmissionSetSubmissionTimeFrom et $XDSSubmissionSetSubmissionTimeTo) : retourne les lots de soumission.\nb. Pour chaque lot retourné, faire un GetSubmissionSetAndContents qui retourne le lot et ses documents.\nCombinaison de FindSubmissionSet, de GetAssociations et de GetDocuments (soit 3 appels de fonctions).\na. Utilisation de la requête FindSubmissionSets pour rechercher les lots de soumission en spécifiant un intervalle temporel de soumission (date de soumission dans le DMP, critère °$XDSSubmissionSetSubmissionTimeFromet$XDSSubmissionSetSubmissionTimeTo`) : retourne les lots de soumission.\nb. Récupérer l’ensemble des entryUUID des lots retournés.\nc. Passer cette liste d’entryUUID à la fonction GetAssociations.\nd. Filtrer les retours sur les Associations de type HasMember, et récupérer la liste des targetObject (documents du lot).\ne. Appel de GetDocuments avec la liste des entryUUID des documents.\nRem : les deux implémentations ont été réalisées dans la DevBox-Santé. La deuxième est positionnée par défaut pour des raisons de performances.\nExemple en Java :\nTD31Request.FindSubmissionSetsAndGetContents request = new TD31Request.FindSubmissionSetsAndGetContents(); request.setMatriculeINS(patient.getMatriculeINS()); request.setSubmissionTimeFrom(\"20200925033000\"); request.setStatuses(List.of(AvailabilityStatus.APPROVED)); client.td31Find(context, request); Exemple en REST curl --location 'http://localhost:9999/dmp/td31Find' \\ --header 'Content-Type: application/json' \\ --data '{ \"context\": { }, \"request\": { \"query\": \"FindSubmissionSetsAndGetContents\", \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"statuses\": [ \"APPROVED\" ], \"submissionTimeFrom\": \"20200925033000\" } }' FindAndRetrieveContent (depuis version 5.1) Cette recherche pour des documents spécifiques comme l’Historique de remboursement et l’historique de vaccinations permet de récupérer directement le contenu du document.\nExemple en Java :\nvar request = TD31Request.FindHistoriqueVaccinations.builder().matriculeINS(patient.getMatriculeINS()).build(); var historiqueVaccinations = (DMPCHistoriqueVaccinations) client.td31_32findAndRetrieve(context, request).getDocument(); var request = TD31Request.FindHistoriqueRemboursements .builder().matriculeINS(patient.getMatriculeINS()) .serviceStartTimeFrom(\"20200801\") .serviceStopTimeTo(\"20210731\") .build(); var historiqueRemboursements = client.td31_32findAndRetrieve(context, request).getDocument(); en Rest :\ncurl --location 'http://localhost:9999/dmp/td31_32FindAndRetrieveContent' \\ --header 'Content-Type: application/json' \\ --data '{ \"context\": { \"modeAcces\": { \"acces\": \"NORMAL\" } }, \"request\": { \"query\": \"FindHistoriqueVaccinations\", \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" } } }' ","categories":"","description":"Cette fonctionnalité permet de lister les documents du DMP d’un patient (cf. RG_3010) en indiquant des critères de recherche\n","excerpt":"Cette fonctionnalité permet de lister les documents du DMP d’un …","ref":"/5.x/dmp/howtos/transactions/td3.1/","tags":"","title":"TD3.1  (depuis version 3.2)"},{"body":"Il est possible de faire des recherches de document ainsi que des recherches des documentation\nGetDocuments Permet la recherche par identifiant :\nExemple de Requête en Java :\nTD31Response td31Response = client.td31Find(context, TD31Request.GetDocuments.builder() .matriculeINS(patient.getMatriculeINS()) .documentEntryUniqueId(uniqueId) .build()); En Rest\ncurl --location 'http://localhost:9999/dmp/td31Find' \\ --header 'Content-Type: application/json' \\ --data '{ \"context\": { }, \"request\": { \"query\": \"GetDocuments\", \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"statuses\": [ \"APPROVED\" ], \"documentEntryUniqueId\": \"2.25.120152820330539744963703480707082727589.2401081046.1.1.1\" } }' FindDocuments Permet la recherce de documents sur l’ensemble des critères possibles en XDS, et ceux demandés par les différents test CNDA\nExemple de Requête en Java :\nfinal TD31Request.FindDocuments request = new TD31Request.FindDocuments(); request.setMatriculeINS(patient.getMatriculeINS()); request.setConfidentialityCode(Arrays.asList(\"N\")); request.setTypeCode(List.of(\"11488-4\", \"15507-7\")); request.setStatuses(Collections.singletonList(AvailabilityStatus.APPROVED)); final TD31Response response = client.td31Find(context, request); En Rest\ncurl --location 'http://localhost:9999/dmp/td31Find' \\ --header 'Content-Type: application/json' \\ --data '{ \"context\": { }, \"request\": { \"query\": \"FindDocuments\", \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"statuses\": [ \"APPROVED\" ], \"typeCode\": [\"11488-4\", \"15507-7\"] } }' FindSubmissionSetsAndGetContents Cette transaction permet de faire la recherche par date de soumission demandé dans le guide d’intégration du DMP :\nRecherche de document soumis dans un intervalle temporel par rapport à une date de soumission Dans XDS, il n’existe pas de requête « Stored Query » pour rechercher les documents soumis au Repository du système DMP dans un intervalle temporel donné. Plusieurs approches permettent néanmoins de le faire, en combinant plusieurs requêtes.\nCombinaison de FindSubmissionSet et de GetSubmissionSetAndContents (soit N+1 appels de fonctions, en fonction du nombre N de lots retournés).\na. Utilisation de la requête FindSubmissionSets pour rechercher les lots de soumission en spécifiant un intervalle temporel de soumission (date de soumission dans le DMP, critères $XDSSubmissionSetSubmissionTimeFrom et $XDSSubmissionSetSubmissionTimeTo) : retourne les lots de soumission.\nb. Pour chaque lot retourné, faire un GetSubmissionSetAndContents qui retourne le lot et ses documents.\nCombinaison de FindSubmissionSet, de GetAssociations et de GetDocuments (soit 3 appels de fonctions).\na. Utilisation de la requête FindSubmissionSets pour rechercher les lots de soumission en spécifiant un intervalle temporel de soumission (date de soumission dans le DMP, critère °$XDSSubmissionSetSubmissionTimeFromet$XDSSubmissionSetSubmissionTimeTo`) : retourne les lots de soumission.\nb. Récupérer l’ensemble des entryUUID des lots retournés.\nc. Passer cette liste d’entryUUID à la fonction GetAssociations.\nd. Filtrer les retours sur les Associations de type HasMember, et récupérer la liste des targetObject (documents du lot).\ne. Appel de GetDocuments avec la liste des entryUUID des documents.\nRem : les deux implémentations ont été réalisées dans la DevBox-Santé. La deuxième est positionnée par défaut pour des raisons de performances.\nExemple en Java :\nTD31Request.FindSubmissionSetsAndGetContents request = new TD31Request.FindSubmissionSetsAndGetContents(); request.setMatriculeINS(patient.getMatriculeINS()); request.setSubmissionTimeFrom(\"20200925033000\"); request.setStatuses(List.of(AvailabilityStatus.APPROVED)); client.td31Find(context, request); Exemple en REST curl --location 'http://localhost:9999/dmp/td31Find' \\ --header 'Content-Type: application/json' \\ --data '{ \"context\": { }, \"request\": { \"query\": \"FindSubmissionSetsAndGetContents\", \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"statuses\": [ \"APPROVED\" ], \"submissionTimeFrom\": \"20200925033000\" } }' FindAndRetrieveContent (depuis version 5.1) Cette recherche pour des documents spécifiques comme l’Historique de remboursement et l’historique de vaccinations permet de récupérer directement le contenu du document.\nExemple en Java :\nvar request = TD31Request.FindHistoriqueVaccinations.builder().matriculeINS(patient.getMatriculeINS()).build(); var historiqueVaccinations = (DMPCHistoriqueVaccinations) client.td31_32findAndRetrieve(context, request).getDocument(); var request = TD31Request.FindHistoriqueRemboursements .builder().matriculeINS(patient.getMatriculeINS()) .serviceStartTimeFrom(\"20200801\") .serviceStopTimeTo(\"20210731\") .build(); var historiqueRemboursements = client.td31_32findAndRetrieve(context, request).getDocument(); en Rest :\ncurl --location 'http://localhost:9999/dmp/td31_32FindAndRetrieveContent' \\ --header 'Content-Type: application/json' \\ --data '{ \"context\": { \"modeAcces\": { \"acces\": \"NORMAL\" } }, \"request\": { \"query\": \"FindHistoriqueVaccinations\", \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" } } }' td31DocumentsRefresh (depuis version 6.1, experimental version 6.0.15) Requête spécifique SÉGUR (exigence CDA/DD15.02) permettant de récupérer les statuts supprimés ou remplacés d’une liste de documents Son implémentation s’appuie sur la recherche d’associations sur les documents.\nExemple en REST sur 3 documents :\ncurl --request POST \\ --url http://localhost:8080/dmp/td31DocumentsRefresh \\ --header 'content-type: application/json' \\ --data '{ \"context\": {}, \"request\": { \"query\": \"GetDocumentsRefreshRequest\", \"matriculeINS\": { \"valeur\": \"133061764035249\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"documentEntryUuids\": [ \"098875e-f7cd-4bfb-96be-a08651ddeb0e\", \"5098875e-f7cd-4bfb-96be-a08651ddeb0e\", \"7639e053-c219-4c08-993e-f48eca94b4c4\" ] } }' Retourne 1 indisponible dans le DMP pour le professionnel (supprimé, masqué au PS, …) , 1 remplacé par. Le troisième est toujours disponible sur cette version :\n{ \"indisponibles\": [ \"0098875e-f7cd-4bfb-96be-a08651ddeb0e\" ], \"remplacesPar\": { \"5098875e-f7cd-4bfb-96be-a08651ddeb0e\": \"a5218e7d-3936-4036-b9c7-93b4b446cd6a\" } \"documents\": [{ ... }] } GetSubmissionSets et GetSubmissionSetAndContent (depuis version 6.1) Ces deux recherches peuvent permettre de récupérer l’ensemble des documents soumis en même temns qu’un document.\nPar exemple, le code java suivant met en œuvre ces deux recherches afin de retrouver ces documents :\nvar documentUuid = \"10cfb08b-5bfc-4347-a50a-0f462a5766bd\"; log.debug(\"recherche de la soumission correspondant au document\"); var response = client.td31Find(context, TD31Request.GetSubmissionSets.builder() .matriculeINS(patient.getMatriculeINS()) .documentEntryUuid(documentUuid) .build() ); var soumissionUuid = response.getSoumissions().getFirst().getUuid(); log.debug(\"récupération de la soumission et de son contenu\"); response = client.td31Find(context, TD31Request.GetSubmissionSetAndContents.builder() .matriculeINS(patient.getMatriculeINS()) .submissionSetUuid(soumissionUuid) .build() ); assertThat(response.getSoumissions().getFirst().getDocuments().getFirst().getEntryUuid()).isEqualTo(documentUuid); en REST : deux appels successifs sur la route /dmp/td31Find\nRecherche de la soumission par documentEntryUuid\n{ \"context\": {}, \"request\": { \"query\": \"GetSubmissionSets\", \"matriculeINS\": { \"valeur\": \"133061764035249\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"documentEntryUuids\": [ \"10cfb08b-5bfc-4347-a50a-0f462a5766bd\" ] } } puis récupération du contenu de la soumission :\n{ \"context\": {}, \"request\": { \"query\": \"GetSubmissionSetAndContents\", \"matriculeINS\": { \"valeur\": \"133061764035249\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"submissionSetUuid\": \"efa23d24-9557-45cc-ac95-5442d95f8f42\" } } ","categories":"","description":"Cette fonctionnalité permet de lister les documents du DMP d’un patient (cf. RG_3010) en indiquant des critères de recherche\n","excerpt":"Cette fonctionnalité permet de lister les documents du DMP d’un …","ref":"/6.x/connecteurs/dmp/howtos/transactions/td3.1/","tags":"","title":"TD3.1  (depuis version 3.2)"},{"body":"Cette fonctionnalité permet, aux LPS qui n’implémentent pas DMP_3.1a, de rechercher l’identifiant technique d’un document (dans le système DMP) à partir de l’identifiant local au LPS de ce document. Le LPS peut ensuite supprimer (DMP_3.3c), archiver (DMP_3.3d) ou remplacer un document dans le DMP du patient (DMP_2.1/2.2b).\nEn java : String previousDocumentUniqueId = ...; // uniqueId d'un document envoyé précédemment dans le DMP TD31bRequest td31bRequest = new TD31bRequest(); td31bRequest.setDocumentUniqueId(previousDocumentUniqueId()); td31bRequest.setIns(patient.getIns()); TD31bResponse response = client.td31bGetDocumentEntry(context, td31bRequest); // uuid du document courant stocké dans le DMP String documentCurrentUuid = response.getDocumentUuid(); // permet le remplacement de document avec une td21submit document ou encore une td33cUnpublished. En REST : curl --location --request POST 'http://localhost:9999/dmp/td31bGetDocumentEntry' \\ --data-raw '{ \"context\": { ... }, \"request\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"documentUniqueId\": \"1.2.250.1.287.1.1669713300686.1.16709290066422\" } }' La réponse est : { \"documentUuid\": \"ff38b3da-3ded-4b90-b30e-744a4dc907d8\" } ","categories":"","description":"rechercher l'identifiant technique d'un document (depuis version 3.0)\n","excerpt":"rechercher l'identifiant technique d'un document (depuis version 3.0)\n","ref":"/5.x/dmp/howtos/transactions/td3.1b/","tags":"","title":"TD3.1b (depuis version 3.0)"},{"body":"Cette fonctionnalité permet, aux LPS qui n’implémentent pas DMP_3.1a, de rechercher l’identifiant technique d’un document (dans le système DMP) à partir de l’identifiant local au LPS de ce document. Le LPS peut ensuite supprimer (DMP_3.3c), archiver (DMP_3.3d) ou remplacer un document dans le DMP du patient (DMP_2.1/2.2b).\nEn java : String previousDocumentUniqueId = ...; // uniqueId d'un document envoyé précédemment dans le DMP TD31bRequest td31bRequest = new TD31bRequest(); td31bRequest.setDocumentUniqueId(previousDocumentUniqueId()); td31bRequest.setIns(patient.getIns()); TD31bResponse response = client.td31bGetDocumentEntry(context, td31bRequest); // uuid du document courant stocké dans le DMP String documentCurrentUuid = response.getDocumentUuid(); // permet le remplacement de document avec une td21submit document ou encore une td33cUnpublished. En REST : curl --location --request POST 'http://localhost:9999/dmp/td31bGetDocumentEntry' \\ --data-raw '{ \"context\": { ... }, \"request\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"documentUniqueId\": \"1.2.250.1.287.1.1669713300686.1.16709290066422\" } }' La réponse est : { \"documentUuid\": \"ff38b3da-3ded-4b90-b30e-744a4dc907d8\" } ","categories":"","description":"rechercher l'identifiant technique d'un document (depuis version 3.0)\n","excerpt":"rechercher l'identifiant technique d'un document (depuis version 3.0)\n","ref":"/6.x/connecteurs/dmp/howtos/transactions/td3.1b/","tags":"","title":"TD3.1b (depuis version 3.0)"},{"body":"Cette fonctionnalité permet à l’utilisateur de télécharger et visualiser le contenu d’un document du DMP d’un patient. Elle fait suite à la fonctionnalité « lister les documents d’un DMP » (DMP_3.1a) qui a permis à l’utilisateur de rechercher des documents dans le DMP d’un patient.\nExemple java :\nfinal TD32Request request32 = TD32Request.builder() .matriculeINS(patient.getMatriculeINS()) .document(doc) .build(); TD32Response response = client.td32retrieveContent(context, request32); byte[] binaryContent = response.getBinaryContent(); // contient le binaire pdf/txt/rtf/ ou cda en fonction du format sous forme de byte[] byte[] cdaContent = response.getCdaContent(); // contient le cda en xml sous forme de byte[] byte[] htmlContent = response.getHtmlContent(); // contient la xformation xslt du cda avec la feuille de style par défaut de l'ANS ou la feuille de style incluse dans le cda DMPCDocument document = response.getDocument(); // contient les métadonnées du document de manière structurée Exemple curl :\ncurl --location 'http://localhost:8080/dmp/td32RetrieveContent' \\ --data '{ \"context\": { }, \"request\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"document\": { \"uniqueId\": \"1.2.250.1.432.1.231.1.27140228\", \"repositoryUniqueId\": \"1.2.250.1.213.4.1.1.1.2\" } } }' la réponse ressemble à :\n{ \"binaryContent\": \"UmFwcGVsIGNsaW5p... contient le binaire pdf/txt/rtf/ ou cda en fonction du format sous forme de byte[]\", \"cdaContent\": \"PD94bWwgdmVyc2lvbu... contient le cda en xml sous forme de byte[] \"document\": { \"dmpcType\": \"minimal\", \"uniqueId\": \"1.2.250.1.287.1.1714651819731.1.17147235897938\", ...contient les métadonnées du document de manière structurée }, \"htmlContent\": \"PCFET0NUWVBFIG... la xformation xslt du cda avec la feuille de style par défaut de l'ANS ou la feuille de style incluse dans le cda\", } ","categories":"","description":"consultation d’un document dans le DMP d’un patient\n","excerpt":"consultation d’un document dans le DMP d’un patient\n","ref":"/5.x/dmp/howtos/transactions/td3.2/","tags":"","title":"TD3.2 consultation (depuis version 3.2)"},{"body":"Cette fonctionnalité permet à l’utilisateur de télécharger et visualiser le contenu d’un document du DMP d’un patient. Elle fait suite à la fonctionnalité « lister les documents d’un DMP » (DMP_3.1a) qui a permis à l’utilisateur de rechercher des documents dans le DMP d’un patient.\nExemple java :\nfinal TD32Request request32 = TD32Request.builder() .matriculeINS(patient.getMatriculeINS()) .document(doc) .build(); TD32Response response = client.td32retrieveContent(context, request32); byte[] binaryContent = response.getBinaryContent(); // contient le binaire pdf/txt/rtf/ ou cda en fonction du format sous forme de byte[] byte[] cdaContent = response.getCdaContent(); // contient le cda en xml sous forme de byte[] byte[] htmlContent = response.getHtmlContent(); // contient la xformation xslt du cda avec la feuille de style par défaut de l'ANS ou la feuille de style incluse dans le cda DMPCDocument document = response.getDocument(); // contient les métadonnées du document de manière structurée Exemple curl :\ncurl --location 'http://localhost:8080/dmp/td32RetrieveContent' \\ --data '{ \"context\": { }, \"request\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"document\": { \"uniqueId\": \"1.2.250.1.432.1.231.1.27140228\", \"repositoryUniqueId\": \"1.2.250.1.213.4.1.1.1.2\" } } }' la réponse ressemble à :\n{ \"binaryContent\": \"UmFwcGVsIGNsaW5p... contient le binaire pdf/txt/rtf/ ou cda en fonction du format sous forme de byte[]\", \"cdaContent\": \"PD94bWwgdmVyc2lvbu... contient le cda en xml sous forme de byte[] \"document\": { \"dmpcType\": \"minimal\", \"uniqueId\": \"1.2.250.1.287.1.1714651819731.1.17147235897938\", ...contient les métadonnées du document de manière structurée }, \"htmlContent\": \"PCFET0NUWVBFIG... la xformation xslt du cda avec la feuille de style par défaut de l'ANS ou la feuille de style incluse dans le cda\", } ","categories":"","description":"consultation d’un document dans le DMP d’un patient\n","excerpt":"consultation d’un document dans le DMP d’un patient\n","ref":"/6.x/connecteurs/dmp/howtos/transactions/td3.2/","tags":"","title":"TD3.2 consultation (depuis version 3.2)"},{"body":"TD3.3a : masquer / démasquer un document Exemple curl:\nurl --location '{{base_url}}/dmp/td33updateConfidentiality' \\ --data '{ \"context\": { ... }, \"request\": { \"documentUuid\": \"6332b2b0-eb49-49fe-8701-0ce6b0e65424\", \"contentType\": \"04\", \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"confidentialities\": [\"N\", \"MASQUE_PS\"] } }' Remarque: Renseigner le contentType est nécessaire car, cette métadonnée n’est pas liée au document mais à la soumission lors de l’alimentation. La transaction de changement de confidentialité nécessite en XDS une soumission(registryPackage) avec cette meta-donnée.\nLes différentes valeurs du contentType sont dans le Jeux de Valeurs CONTENT_TYPE_CODE.\nTD3.3b : rendre un document visible au patient ou à ses représentants légaux Exemple curl :\nurl --location '{{base_url}}/dmp/td33updateConfidentiality' \\ --data '{ \"context\": { ... }, \"request\": { \"documentUuid\": \"6332b2b0-eb49-49fe-8701-0ce6b0e65424\", \"contentType\": \"04\", \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"confidentialities\": [\"N\", \"INVISIBLE_PATIENT\", \"INVISIBLE_REPRESENTANTS_LEGAUX\"] } }' TD33c : Supprimer un document (depuis version 1.0) Cette fonctionnalité permet à l’utilisateur de supprimer un document dans le DMP d’un patient. La cinématique générale est la suivante :\nL’utilisateur indique qu’il souhaite supprimer le document sélectionné. L’utilisateur confirme l’action demandée. Le LPS envoie une requête de mise à jour des attributs d’un document au système DMP Exemple :\nTD33CRequest td33cRequest = new TD33CRequest(); td33cRequest.setDocumentUuid(uniqueIdDuDocumentASupprimer); td33cRequest.setIns(patient.getIns()); td33cRequest.setContentType(contentTypeDuDocumentASupprimer); // le contentType est le même que pour une soumission de document. client.td33cUnpublished(context, td33cRequest); En curl :\ncurl --location '{{base_url}}/dmp/td33updateStatus' \\ --data '{ \"context\": { ... }, \"request\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"documentUuid\": \"24706654-3277-4ee1-9799-79cdf346f227\", \"contentType\": \"04\", \"newStatus\": \"DELETED\", \"oldStatus\": \"APPROVED\" } }' TD3.3d : archiver / désarchiver un document Exemple curl:\ncurl --location '{{base_url}}/dmp/td33updateStatus' \\ --data '{ \"context\": { ... }, \"request\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"documentUuid\": \"24706654-3277-4ee1-9799-79cdf346f227\", \"contentType\": \"04\", \"newStatus\": \"ARCHIVED\", \"oldStatus\": \"APPROVED\" } }' ","categories":"","description":"Modifier les attributs d'un document\n","excerpt":"Modifier les attributs d'un document\n","ref":"/5.x/dmp/howtos/transactions/td3.3/","tags":"","title":"TD3.3 (depuis version 1.0)"},{"body":"TD3.3a : masquer / démasquer un document Exemple curl:\nurl --location '{{base_url}}/dmp/td33updateConfidentiality' \\ --data '{ \"context\": { ... }, \"request\": { \"documentUuid\": \"6332b2b0-eb49-49fe-8701-0ce6b0e65424\", \"contentType\": \"04\", \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"confidentialities\": [\"N\", \"MASQUE_PS\"] } }' Remarque: Renseigner le contentType est nécessaire car, cette métadonnée n’est pas liée au document mais à la soumission lors de l’alimentation. La transaction de changement de confidentialité nécessite en XDS une soumission(registryPackage) avec cette meta-donnée.\nLes différentes valeurs du contentType sont dans le Jeux de Valeurs CONTENT_TYPE_CODE.\nTD3.3b : rendre un document visible au patient ou à ses représentants légaux Exemple curl :\nurl --location '{{base_url}}/dmp/td33updateConfidentiality' \\ --data '{ \"context\": { ... }, \"request\": { \"documentUuid\": \"6332b2b0-eb49-49fe-8701-0ce6b0e65424\", \"contentType\": \"04\", \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"confidentialities\": [\"N\", \"INVISIBLE_PATIENT\", \"INVISIBLE_REPRESENTANTS_LEGAUX\"] } }' TD33c : Supprimer un document (depuis version 1.0) Cette fonctionnalité permet à l’utilisateur de supprimer un document dans le DMP d’un patient. La cinématique générale est la suivante :\nL’utilisateur indique qu’il souhaite supprimer le document sélectionné. L’utilisateur confirme l’action demandée. Le LPS envoie une requête de mise à jour des attributs d’un document au système DMP Exemple :\nTD33CRequest td33cRequest = new TD33CRequest(); td33cRequest.setDocumentUuid(uniqueIdDuDocumentASupprimer); td33cRequest.setIns(patient.getIns()); td33cRequest.setContentType(contentTypeDuDocumentASupprimer); // le contentType est le même que pour une soumission de document. client.td33cUnpublished(context, td33cRequest); En curl :\ncurl --location '{{base_url}}/dmp/td33updateStatus' \\ --data '{ \"context\": { ... }, \"request\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"documentUuid\": \"24706654-3277-4ee1-9799-79cdf346f227\", \"contentType\": \"04\", \"newStatus\": \"DELETED\", \"oldStatus\": \"APPROVED\" } }' TD3.3d : archiver / désarchiver un document Exemple curl:\ncurl --location '{{base_url}}/dmp/td33updateStatus' \\ --data '{ \"context\": { ... }, \"request\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"documentUuid\": \"24706654-3277-4ee1-9799-79cdf346f227\", \"contentType\": \"04\", \"newStatus\": \"ARCHIVED\", \"oldStatus\": \"APPROVED\" } }' ","categories":"","description":"Modifier les attributs d'un document\n","excerpt":"Modifier les attributs d'un document\n","ref":"/6.x/connecteurs/dmp/howtos/transactions/td3.3/","tags":"","title":"TD3.3 (depuis version 1.0)"},{"body":"Quelque soit le mode de déploiement embedded-java, docker, installer, les différentes versions sont gérés via un BOM (Bill Of Materials) qui centralise l’ensemble des versions des composants compatibles entre elles : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/master/pom.xml\nArchives Les anciennes versions de l’installer se trouvent ici\n","categories":"","description":"Gestion des différentes versions de la DevBox-Santé\n","excerpt":"Gestion des différentes versions de la DevBox-Santé\n","ref":"/5.x/installer/versions/","tags":"","title":"Versions"},{"body":"Version 1.0.1 (25/08/2023) Tâche CIAMO-6 : configuration TLSv1.3\nANS-8 : Retourne un wrapper de trustManager qui délégue a un trustmanager initialisé à la vol\nVersion 1.0 (05/06/2023) Tâche APCV-4 [ApCV] Homologation CNDA\nVersion 0.2 (11/05/2023) Amélioration APCV-2 [Spring] Éviter conflit entre les beans ApCV, INSi, DMP\nVersion 0.1 (10/05/2023) Nouvelle fonctionnalité APCV-1 Implémentation du client Authentification ApCV\n","categories":"","description":"Note sur les différentes versions de la DevBox-Santé Mobilité ApCV\n","excerpt":"Note sur les différentes versions de la DevBox-Santé Mobilité ApCV\n","ref":"/5.x/apcv/versions/","tags":"","title":"Versions"},{"body":"Version 3.x Version - 3.2.5 (17/11/2025) Bug CPS-95 Pas de relecture après code pin erronné\nCPS-96 [PinProvider1234] utilisé pour les tests prend NPE si non sélection du reader\nVersion - 3.2.4 (28/03/2025) Bug CPS-89 [CPS] signature invalid openssl 3\nVersion - 3.2.3 (02/12/2024) Bug CPS-84 [Mac OS] CKR_SESSION_HANDLE_INVALID\nCPS-85 login() throw CKR_USER_ALREADY_LOGGED_IN\nVersion - 3.2.2 (19/09/2024) Bug CPS-78 [CPS-Sign] crash signing : PKCS11Exception: CKR_SLOT_ID_INVALID\nVersion - 3.2.1 (27/03/2024) Bug CPS-76 [IaikCPS] downgrade Iaik wrapper 1.6.9\n3.2.0 (26/03/2024) Bug CPS-74 [CKR_OPERATION_ACTIVE] lors d’appel en parallèle\nStory CPS-72 [REST][pinProvider] meilleur retour sur un CANCEL\nCPS-75 Upgrade pkcs11 version (1.6.10 iaik)\n3.1.15 (11/10/2023) Bug CPS-69 [PinProvider] deadlock sur checkSession (régression CPS-68)\n3.1.14 (10/10/2023) Bug CPS-64 Lecteur non disponible après une heure [MacOS]\nCPS-68 CPS crash après multiple acces succesifs à /cps/isAvailable\n3.1.13 (20/09/2023) Bug CPS-66 [/5.x/cps/readCpsCardInfoWithSelectActivity] cancel retourne 0 au lieu d’une erreur\n3.1.12 (01/08/2023) Bug CPS-65 [SignPDF] Annotation type de retour non conforme /signPDF (mauvaise interprétation dans swagger)\n3.1.11 (06/03/2023) Story CPS-63 [OpenAPI] migration springfox -\u003e springdoc\nVersion 3.1.10 (04/10/2022) Story CPS-61 [Repository] reorganisation de repo.dev.coop\nVersion 3.1.9 (10/08/2022) Bug CPS-60 [Spring auto configuration] régression Stellair : restauration on missing CPSFacade\nVersion 3.1.8 (26/07/2022) Story CPS-59 [Stellair] externalisation des configurations\nVersion 3.1.7 (09/05/2022)StoryCPS-56 [CPS Proxy] retourner toutes les erreurs au format JSON\nVersion 3.1.6 (04/05/2022)BugCPS-57 [CPS Production] les noms d'alias ont changé \"Authentification\" --\u003e \"Authentication\" sur les cartes de production\nStoryCPS-58 [Test] move to jupiter\nVersion 3.1.5 (01/03/2022)BugCPS-52 [Proxy] http 200Ok pour carte bloquée\nVersion 3.1.4 (17/02/2022)BugCPS-51 [NoPinProvider] éviter la NPE lors d'une session null\nStoryCPS-49 Supprimer la WebSecurityConfiguration au profit de celle de l'installer\nCPS - Version 3.1.3 (14/12/2021)TâcheCPS-48 [Security] migration log4J 2.16\nVersion 3.1.2 (09/12/2021)BugCPS-47 Insérer carte : Incohérence dans le message d'erreur\nCPS-21 Lorsqu'on clique sur \"Annuler\", on est obligé de le faire 3 fois pour que la frame disparaisse\nVersion 3.1.1 (16/11/2021)BugCPS-46 Problème swap cps lors de la lecture certificat de la nouvelle carte\nCPS-29 Le module CPS empêche spring boot de s'arreter\nVersion 3.1 (21/10/2021)BugCPS-45 La lecture de la facturation cause ClasCastException sur CPE\nCPS-44 CPS Close() contreproductive\nCPS-39 Erreur de signature après un changement de carte.\nStoryCPS-43 [Proxy] avoir deux endpoints différents pour le readInfo avec / sans selection bénéficiaire.\nVersion 3.0 (24/09/2021)BugCPS-37 readInfo avec la selected Info à false ne fonctionne pas.\nCPS-26 Problème JDK : déterminer la version java qui cause l'erreur.\nStoryCPS-41 Renommage fr.devcoop.cps devient fr.devboxsante.cps\nCPS-40 Suppression de la SunCpsFacade\nCPS-38 Récupérer les informations de facturation de l'activité PS\nVersion 2.5 (18/06/2021)BugCPS-28 [Proxy] permettre la sélection de l'activity sans passer par le pinProviderFrame\nStoryCPS-36 [Proxy] changer la signature des endpoints des certificats plus en accord avec les opérations de signature\nVersion 2.4 (04/05/2021)BugCPS-32 Le composant CPS ne se termine pas correctement\nCPS-31 [NoPinProvider] L'appel à cardInfo, renvoi un timeout si le code pin n'est pas passé\nCPS-30 [MacOS] L'autoconfiguration ne fonctionne pas\nStoryCPS-33 Dépendance Bouncycastle\nVersion 2.3 (04/03/2021)BugCPS-27 [Configuration] Eviter de cracher l'application su le yaml ne s'enregistre pas\nCPS-25 [CpsAutoConfiguration] NPE\nCPS-22 Incompatibilité avec le DMP\nVersion 2.2 (16/01/2021)BugCPS-24 [MacOS] Mauvais path par défaut pour rechercher la lib\nCPS-23 dll non trouvé, message d'erreur mais pas de popup autoconfig\nCPS-20 Faire un trim sur le nom des lecteurs pour éviter de couper le statut du lecteur\nCPS-19 [SelectActivity] problème lors de l'arrachage de carte avec carte multiactivités\nCPS-18 [CpsProviderFrame] trop d'itemListener\n","categories":"","description":"Note sur les différentes versions de la DevBox-Santé CPS\n","excerpt":"Note sur les différentes versions de la DevBox-Santé CPS\n","ref":"/5.x/cps/versions/","tags":"","title":"Versions"},{"body":"Versions - 5.1.x Version - 5.1.25 (27/01/2026) Bug DMP-425 [DMP_PARAMETER_ERROR] http status 400\nDMP-481 [Parametres] NPE dans les logs avec fichier paramètre `param-lps-20250131.xml`\nDMP-517 [TD02] Parse moonDate avec un jour à 0 en réponse de la TD02\nVersion - 5.1.24 (05/11/2024) Bug DMP-467 [Vaccination] contrainte sur la voie et la région d’administration plus obligatoire\nDMP-468 [TD33 update Confidentiality] Erreur du serveur DMP : [XDSRegistryMetadataError] Les données d’un auteur ne peuvent pas être modifiées\nStory DMP-469 [CDA] HistoriqueVaccination tolérance sur infos remontées.\nVersion - 5.1.23 (23/10/2024) Bug DMP-463 [CPS remplaçant] NPE sur structure non renseigné dans le contexte.\nDMP-464 [NPE] POCDMTDocumentationConverter extractServiceTime\nDMP-465 [TD31] legalAuthenticator patient : validation ID Adeli en erreur\nVersion - 5.1.22 (11/10/2024) Story DMP-460 [P12] maj configuration devcoop pour test\nDMP-461 [PDF] conversion PDF/A baisser la résolution pour baisser la taille des fichiers\nVersion - 5.1.21 (03/10/2024) Bug DMP-459 [P12InHeader] collision dans les connexions TLS et VIHF\nVersion - 5.1.20 (19/09/2024) Bug DMP-456 [VIHF] issuer oid inconnu dans subjectDN (partiellement)\nVersion - 5.1.19 (03/09/2024) Story DMP-453 [DMPCDocument] comparaison des auteurs avec des rpps avec et sans prefix “8”\nDMP-455 [Role Secretariat_Medical] rendre plus laxiste et configurable l’autorisation d’alimentation sur un rôle (responsabilité DMP).\nVersion - 5.1.18 (03/07/2024) Story DMP-448 [CDA-TOOLS] mise à jour des schematron + validation profils communs IHE , CI-SIS\nVersion - 5.1.17 (21/06/2024) Story DMP-435 [ESMS] intégration du rôle dans la prise en charge, fonction et genreActivite en authentification indirecte\nDMP-440 [DMP Error] pouvoir remonter la conversation soap à l’éditeur en réponse pour analyse\nDMP-441 [schematron] introduction warning policy\nDMP-442 [Spécialité] gestion spécialités infirmiers et chirurgiens-dentistes\nVersion - 5.1.16 (04/06/2024) Bug DMP-436 [CDA] check du templateId 1.3.6.1.4.1.19376.1.2.20 sur structuration Minimale\nStory DMP-426 [20240223 JDV] nouveau jeu de valeur PDT-INF-525 v2.5\nDMP-438 [Schematron ] mise à jour des tools testContenuCDA3.0\nVersion - 5.1.15 (13/05/2024) Bug DMP-431 [NoteVaccination] cas du vaccinateur non identifié\nVersion - 5.1.14 (25/04/2024) Bug DMP-422 [XDS] versionInfo non renseigné dans l’extrinsicObject de la transaction\nDMP-423 Update Confidentiality d’un document archivé\nDMP-425 [DMP_PARAMETER_ERROR] http status 400\nVersion - 5.1.13 (26/03/2024) Story DMP-420 [Tools] dmp/localtime/iso\nDMP-421 [HistoriqueRemboursement] permettre la recherche sans date de service\nVersion - 5.1.12 (19/03/2024) Bug DMP-417 [GetDocument] erreur 500 sur un DMP Fermé\nDMP-418 [TD02] Birthtime mois de l’année en 00\nDMP-419 Conflit DmpcControllerAdvice avec InsiControllerAdvice\nVersion - 5.1.11 (27/02/2024) Bug DMP-414 [NoteVaccination] NPE sur l’executant DMPCNoteVaccination\nDMP-415 [JDV] (FORMATCODE). La valeur correcte est : ‘Default Signature Style’.\nStory DMP-395 [JeuxDeValeurs] Mise à jour du 19 décembre 2023\nDMP-416 [JDV] restore ZipFile by default for instance\nVersion - 5.1.10 (13/02/2024) Story DMP-396 [CPE non nominative] subjectid du vihf\nVersion - 5.1.9 (12/02/2024) Bug DMP-409 [TD33a] NPE sur structureSante (régression DMP-401)\nDMP-413 [TD31] $XDSDocumentEntryCreationTimeFrom;Le format du paramètre est incorrect: ‘0240206000000’\nStory DMP-410 [CPS agent] rendre configurable le time out de connexion\nDMP-411 [Historique Vaccinations] plus laxiste sur les consommables retournés par le DMP\nVersion - 5.1.8 (05/02/2024) Bug DMP-407 [TD32] versionNumber dans le CDAHeader\nStory DMP-408 [CPSAgent] CpsAgentClient permettre l’authentication user null\nVersion - 5.1.7 (02/02/2024) Story DMP-406 [CpsAgent] CpsAgentClient en request scope\nVersion - 5.1.6 (30/01/2024) Tâche DMP-397 [CPE] Check auteur dans le registry package mais pas dans le CDA\nDMP-404 [HistoriqueVaccination] check classCode\nBug DMP-398 [processingCode environnement dev] régression changement url\nDMP-400 [NPE] findDocumentsAndContents\nDMP-401 [UpdateConfidientiality] tentative de modification du legalAuthenticator\nDMP-402 [UpdateConfidentiality] Tentative de modification du champ sourcePatientId\nStory DMP-403 [CPF] authorSpecialité médecin en formation.\nVersion - 5.1.5 (24/01/2024) Story DMP-362 [CPE non nominative] prise en compte fiche information PDT-INF-617\nDMP-382 [LicenceMananger] intégration de logEvent dans le DMPCClient\nDMP-384 [XDS] repositoryUniqueId ne pas renseigner slot si vide\nDMP-385 [DMPCDocument] more laxist with eventCodes\nVersion - 5.1.4 (13/11/2023) Bug DMP-374 [JDV] IMMUNIZATION_APPROACH_SITE problème encodage\nDMP-378 [mode EJ/EG] PsIdNatFormatter incorrect sur un internalId en mode EJ/EG\nStory DMP-371 [Schematron] introduction la propriété jdvLaxistPolicy (true par défaut)\nDMP-375 [X04Mapper] classCodeCode également renseigné avant conversion\nDMP-376 [stellair] problème chargement CpsContextHolder\nDMP-377 [validation] restaurer la validation des documents pour le profil OnSubmit\nDMP-379 [CXF] rendre le cxf.requestTimeout configurable facilement\nDMP-380 [CPE] une secretariat medical ne peut pas être auteur du document.\nDMP-381 [CpsAgentClient] mise en place connexions SSL\nVersion - 5.1.3 (24/10/2023) Story DMP-370 [Schematron] mise jour JDV-66 typecode\nDMP-373 [NOS] JeuxValeursManager basé sur les urls du NOS.\nVersion - 5.1.2 (11/10/2023) Bug DMP-369 [Vaccination] inversion vaccinateur / auteur dans le commentaire généré.\nVersion - 5.1.1 (10/10/2023) Bug DMP-368 [CDA] assignedAuthor.code nullFlavor NASK plus permis\nVersion - 5.1.0 (04/10/2023) Version compatible SEL-MP-037 DMPi v2.9.0\nTâche DMP-335 [2.7] Historique Remboursements check EX_3.1-1015\nDMP-350 [2.9] passage de l’homologation\nDMP-367 [CDA] Document recipients ne doit contenir que des PS\nBug DMP-360 [TD31bGetDocumentEntry] erreur du registre non attrapé correctement.\nDMP-365 [CoreMessage] CPx error mal encodé\nStory DMP-325 [CNAM-HR] prise en charge DMPCHistoriqueRemboursements\nDMP-338 [2.8] Prise en charge Certificat EJ/EG\nDMP-348 [2.9] Gestion des notes vaccinations en version 2023.1\nDMP-349 [2.9] td0.4 gestion du psOwnerId pour CPE\nDMP-353 [CXF] log des messages en DEBUG uniquement\nDMP-355 [Technical] finir migration vers junit 5 (jupiter)\nDMP-356 [DMP JDV et CDA_TOOLS] fusion des JDV du DMP d’avec les CDA_TOOLS.\nDMP-357 [TD0.2] ajout d’information non formatée en cas de DMPCWSClientException.Message.DMP_FERME\nDMP-359 [CDA Wrapped] guess class code from typecode\nDMP-363 [TD0.9] Accès au dossier patient\nVersions 5.0 5.0.21 (23/01/2024) Story DMP-395 [JeuxDeValeurs] Mise à jour du 19 décembre 2023\n5.0.20 (15/01/2024) Story DMP-371 [Schematron] introduction la propriété jdvLaxistPolicy (true par défaut)\n5.0.19 (03/11/2023) Story DMP-376 [stellair] problème chargement CpsContextHolder\n5.0.18 (24/10/2023) Bug DMP-360 [TD31bGetDocumentEntry] erreur du registre non attrapé correctement.\nStory DMP-370 [Schematron] mise jour JDV-66 typecode\nVersion 5.0.17 (25/07/2023) Bug DMP-352 [RetrieveContent] le mimeType retourné est text/xml\nVersion 5.0.16 (24/04/2023) Story DMP-351 [TD32Retrieve] HtmlContent application des css\nVersion 5.0.15 (04/07/2023) Story DMP-347 [CPS-security] CpsContextHolder ne doit plus implémenter CpsOperationProviderSpi\nVersion 5.0.14 (26/06/2023) Bug DMP-229 [Proxy]TD32retrieveContent , htmlContent contient des ????\nDMP-341 [XDS] si prenomUsuel nul utiliser premierPrenom dans PID-5|^^^^^D\nDMP-345 [CDA Autoprésentable] la feuille inclue dans le cda n’est pas appliquée.\nStory DMP-346 [CXF] pouvoir définir le logLevel des traces SOAP\nVersion 5.0.13 (20/06/2023) Story DMP-339 [XDS] unicité des auteurs dans la liste des auteurs (ajout de code défensif)\nVersion 5.0.12 (13/06/2023) Bug DMP-332 [Proxy] ADJUST_DATES_TO_CONTEXT_TIME_ZONE impose à tort la timezone.\nDMP-333 [CPF] user role “médecin en formation”\nVersion 5.0.11 (12/06/2023) Bug DMP-330 [Swagger] /tools/pdf/isA1 bouton execute ne fonctionne pas dans swagger\nDMP-331 [TRE_R81-Civilite] Code en uppercase\nDMP-328 [CDA] Volet structuré, prendre en compte la gestion des versions de spécification\nDMP-329 [Proxy] LpsInfo paramètre par défaut nom, version\nVersion 5.0.10 (31/05/2023) Bug DMP-327 [CDA Wrapped] désérialisation prénom patient du CDA non conforme\nStory DMP-324 [CDA Wrapped] Déduire le format code XDS depuis le mimeType CDA.\nAPCV-2 [Spring] Éviter conflit entre les beans ApCV, INSi, DMP\nVersion 5.0.9 (10/05/2023) Story DMP-317 [DMPCPatient] gestion du lieu de Naissance en PID-11 rim xds.\nVersion 5.0.8 (28/04/2023) Tâche DMP-265 [CDATools] ajout code manquant dans nomenclature TRE04_Loinc\nBug DMP-322 [NoteVaccination] NPE lors de la conversion\nStory DMP-318 [DMPCPersonnelSante] meilleur gestion des identifiants rpps, adeli, internal dans le mode authentification P12\nVersion 5.0.7 (06/04/2023) Bug DMP-314 [TD32Retrieve] problème lors d’un chargement INSC\nStory DMP-316 [VIHF] ajout du service dans le subjectid\nVersion 5.0.6 (31/03/2023) Story DMP-313 [CR-BIO] préciser l’extension “2021-01” du templateId XDS_LAB\nDMP-315 Intégration dbx-igcsante 1.2.0\nVersion 5.0.5 (28/03/2023) Bug DMP-304 [NoteVaccination] la soumission de la note ne retourne pas l’identifiant de la vaccination\nDMP-305 [Proxy] conflit registration du LpsInfoFilter INSi et DMP\nDMP-306 [retreiveContent] problème encodage dans le CDA retourné\nDMP-310 [NoteVaccination] libelle approachSiteCode erronné\nStory DMP-303 [CDAExtractor] message plus explicite pour identifiant invalide du patient\nDMP-307 [findBYsoumission] parse date exception\nVersion 5.0.4 Tâche DMP-288 [creationTime] Check régression dans décalage horaire sur format déprécié\nBug DMP-292 [XDM tools] xdm problème encodage dans environnement docker\nStory DMP-274 [Structure IdNational] permettre l’idNational juridique en lieu et place de celui de la CPS\nDMP-283 [CdaConversion] no_typeId_validation policy (laxiste)\nDMP-286 [TD32] rendre la vérification des identifiants de structure et de PS plus laxiste\nDMP-293 [DMPCDocument] distinguer le performer parmi les auteurs.\nDMP-302 [OpenAPI] migration springfox -\u003e springdoc\nVersion - 5.0.3 (06/02/2023) Bug DMP-290 [CDAWrapped] les confidentialities ne sont pas préservés du DMPCDocument\nStory DMP-289 [DMPCPersonnelSante] priorité au RPPS.\nDMP-294 [P12 in header] prise en compte de ce mode d’authentification\nDMP-295 [ExceptionControllerAdvice] meilleure interception des DMPCException\nVersion - 5.0.2 (20/12/2022) Bug DMP-280 [DMP tools] XDS to DMP manque replacement info et destinataires\nDMP-281 [UpdateConfidentiality] NPE sur StructureSanteToXONConverter\nStory DMP-255 [NoteVaccination] Intégrer DV_ImmunizationApproachSiteCode-CISIS et JDV_HL7_ImmunizationRouteCodes-CISIS\nDMP-259 [NoteVaccination] controle code sur JDV_HL7_ActSubstanceAdministrationImmunizationCode-CISIS\nDMP-271 [NoteVaccination] génération à la volée de l’identifiant de la vaccination\nVersion - 5.0.1 (15/12/2022) Bug DMP-268 [Vaccination] NPE sur valeur observation\nDMP-269 [CDA] gestion du split sur replacementOf également\nStory DMP-276 [CDA] Valider le CDA wrapped avant unmarshall document\nDMP-277 [Proxy REST] endpoint dmp/to/xdm en base64\nDMP-278 [CDAWrapped FLUDT] SAXParseException\nDMP-279 [Tools] donner un point d’entrée à la génération de UniqueId.\nVersion 5.0.0 (18/11/2022) Version compatible SEL-MP-037 DMPi v2.6.0\nStory DMP-128 [API] DMPCDocument récupérer les codingSchemes des codes\nDMP-183 [DMP2.6] Support de la note et historique de vaccination\nDMP-184 Suppression définitive de la TD0.0\nDMP-200 [DMP 2.6.1] prendre en compte évolutions packages\nDMP-222 [DTM] utilisation des ZonedDateTime en interne\nDMP-227 [Security P12] Gestion multicertificats\nDMP-228 [DMPToCDA] informationRecipient dans le cas d’un envoi vers la messagerie Patient.\nDMP-230 [OID] gestion des OID Intégration du projet dbx-oid\nDMP-231 [CDA-Wrapped] validation schematron EAI\nDMP-235 [CDA Tools] intégration testContenuCDA 2.41\nDMP-237 [Validation] supprimer singleton ByAnnotationValidator par le spring LocalValidatorFactoryBean\nDMP-239 [Validation] ajout des groupes javax.validation sur les documents\nDMP-240 [TD0.4] recherche liste patients\nDMP-241 [TD1.5] suppression de la transaction\nDMP-242 [Convergence INSi] utilisation du matriculeINS complet dans les requêtes de l’API\nDMP-243 [Homologation] passage de l’homologation v2.6.1\nDMP-244 Contrôle des différents formats des identifiants de Structure (FINESS, SIRET…) et PS (RPPS, ADELI …)\nDMP-245 [EX_3.1-1015] support de l’exigence historique de remboursement\nDMP-246 [Security] ajout de la gestion des CRL des truststore\nDMP-248 [TD02] prendre en charge le rattachement ENS\nDMP-250 [TD3.2] Gérer la transformation html des CDA autoprésentable\nDMP-254 [Actuator] ajout de lpsInfoContributor pour le DMP\nDMP-257 [CDA-TOOL] Permettre la gestion de l’email de la Structure Sante (BAL organisationnelle)\nDMP-258 [CDA] split de l’ID non géré par DMP contrairement au CI-SIS\nDMP-263 [JDV] intégrer 20220729-JDV_DMP_API_V2_XML.zip\nSous-tâche DMP-197 [DMP 2.6] Ajout note de vaccination\nDMP-199 [DMP 2.6] validation note de vaccination\nDMP-225 DMP_0.3c Supprimer la modification du statut “médecin traitant”\nDMP-226 Gestion des cartes CPF : affectation de la structure en charge de l’éditeur (p.167)\nBug DMP-220 [Erreur VIHF] problème de synchro\nDMP-221 [Proxy-rest] TD21 Soumission uniqueId manquant sur le retour\nDMP-234 [TD32RetrieveContent] NPE dans CDAHeaderExtractor\nDMP-247 [NPE] dans HistoriqueRemboursementRequestValidator\nDMP-251 [NTPServer] changement server NTP\nDMP-256 [CDAHeaderExtractor] NPE on extractSpecialty\nVersions 4 Version - 4.7.19 (12/04/2024) Bug DMP-417 [GetDocument] erreur 500 sur un DMP Fermé\nDMP-418 [TD02] Birthtime mois de l’année en 00\nVersion - 4.7.18 (20/12/2022) Bug DMP-275 [Type Document] manque “Projet personnalisé d’accompagnement”\nDMP-281 [UpdateConfidentiality] NPE sur StructureSanteToXONConverter\nStory DMP-263 [JDV] intégrer 20220729-JDV_DMP_API_V2_XML.zip\nVersion 4.7.17 (22/11/2022) Bug DMP-269 [CDA] gestion du split sur replacementOf également\nVersion 4.7.16 (18/11/2022) Story DMP-228 [DMPToCDA] informationRecipient dans le cas d’un envoi vers la messagerie Patient.\nDMP-257 [CDA-TOOL] Permettre la gestion de l’email de la Structure Sante (BAL organisationnelle)\nDMP-258 [CDA] split de l’ID non géré par DMP contrairement au CI-SIS\nVersion 4.7.15 (26/09/2022) Bug DMP-253 Document.recipients sans info structuresante.\nDMP-252 [DMPCtoCDA] représentation telecom manquante dans certain cas\nVersion 4.7.14 (23/09/2022) Bug DMP-251 [NTPServer] changement server NTP\nVersion 4.7.13 (27/07/2022) Bug DMP-232 [XONConverter] NPE si structure manquante\nStory DMP-233 [Stellair] externaliser configuration\n4.7.12 (08/07/2022) Story DMP-223 Homologation DMP-UI 1.0\nDMP-121 Supprimer singleton TimeManager ==\u003e en faire un composant injectable.\nVersion 4.7.11 (04/07/2022) Bug DMP-219 [CDAWrapped] remplacement non effectif avec metadonnées json.\nStory DMP-224 [DMPCtoCDA] versionNumber pour tous les documents\nDMP-218 [CDAWrapped] Qualifier SP semble obligatoire pour générer un XDS valide DMP\nVersion 4.7.10 (13/06/2022) Bug DMP-217 [Docker] Problème lecture contenu CDA\nVersion 4.7.9 (12/06/2022) Bug DMP-216 [Proxy] manque les content-* dans le header /dmp/to/xdm\nDMP-215 [CDA] NPE sur guessType du PersonnelConverter\nDMP-214 [CDA] MoyenTelConverter no value present\nVersion 4.7.8 (08/06/2022) Story DMP-211 [XDM to DMPC] Extraire une enveloppe XDM en DMPCSoumission\nTâche DMP-195 [IHE-XDM-MSS] validation génération XDM via gazelle\nVersion 4.7.7 (20/05/2022)StoryDMP-207 [INS] Reprendre les différentes implication de l’annexe INS du CI-SIS\nVersion 4.7.6 (13/05/2022)BugDMP-202 [XDS Find Documents] Problème lors de la recherche par auteur\nDMP-201 [PDF/A] problème de conformité via le site https://avepdf.com/fr/pdfa-validation\nStoryDMP-209 [XDS / OID] sourcePatientId doit avoir un OID différent.\nDMP-208 [Id.root] distinguer les OID des différents id (id et queryId de la td02)\nDMP-206 [CDA] testContenuCDA sous Github\nDMP-205 [CDA TOOLS] transformation xslt sans nonXmlBody\nDMP-204 [CDA] RNIV : patientRole qualifier \"SP\" déprécié pour \"CL\"\nDMP-203 [XDS] sourcePatientInfo PID-5 conforme au nouveau RNIV\nVersion 4.7.5 (04/05/2022)BugDMP-196 [TOOLS PDF/A1] Npe sur conversion\nVersion 4.7.4 (21/04/2022)StoryDMP-194 [Tools] PDF to PDF/A (Ségur)\nVersion 4.7.3 (12/04/2022)BugDMP-192 [Proxy] path lpsInfo incorect\nDMP-191 [Proxy] path des endpoints de time incorrects\nVersion 4.7.2 (11/04/2022)BugDMP-190 [PSIdNatFormatter] NumberFormatException , améliorer lecture de l’IdNational d\nStoryDMP-189 [XDM] générer les uniqueId et UUID à la volée si ils sont nuls\nDMP-188 CDA : information destinataire moins contraignante\nVersion 4.7.1 (01/04/2022)BugDMP-187 [DMPCClientImp] validation intempestive du document lors du retrieve.\nStoryDMP-185 [DMPCDocument] introduire la notion de destinataire (informationRecipient)\nDMP-182 [XDM] Permettre la génération d'une enveloppe XDM\nVersion 4.7.0 (02/03/2022)StoryDMP-181 Gestion de la surcharge du creationTime d'un DMPCDocument\nDMP-176 [Alimentation] CDAWrapped Document\nDMP-174 [DMPC-API] permettre le positionnement de l'autorite INS dans le patient.\nDMP-173 [CDAResource] Fournir un premier endpoint DMPCDocunet to CDA et vice versa\nDMP-142 [Stellair] fournir ce mode d'authentification pour le DMP.\nDMP-136 [SECURITY] ajout de l'authentification Directe avec le CpsAgent\nVersion 4.6.6 (09/02/2022)BugDMP-178 [Schematron] validation du CDA en remplacement pose problème sur l'identifiant root\nDMP-175 TD02 : ins ne remonte pas cas corse\nDMP-171 Document des secrets mal formattés en cas de nom patronymique null.\nStoryDMP-179 [TD09] prendre en compte les nouvelles baseUrl et format ins / autorite\nDMP-177 [ConfidentialityCode] le code INVISIBLE_ ne doit pas être seul, améliorer le message d'erreur\nDMP-172 [Soummission] ajout de code de validation lors de la soumission de documents.\nVersion 4.6.5 (03/01/2022)BugDMP-169 [RetrieveContent] NPE lors d'une récupération de contenu\nStoryDMP-170 [CDA Validation] remonter le message d'erreur du schematron\nVersion 4.6.4 (15/12/2021)BugDMP-168 Incompatibilité avec INSI 2.5 pour injection CpsFacade\nVersion 4.6.3 (14/12/2021)BugDMP-165 [ITI18] _findDocumentsAndContentsWithAssociations problème lors d'une recherche vide\nStoryDMP-166 [SECURITY] migration log4J 2.15\nVersion 4.6.2 (01/12/2021)BugDMP-162 [ITI18] parameterName=$XDSDocumentEntryUniqueId;Le format du paramètre est incorrect\nDMP-161 serviceStopTime est requis si connu.\nVersion 4.6.1 (02/11/2021)StoryDMP-155 Créer identifiant d'installation à la volée si non renseigné (lpsInfo.id et source.idExtension)\nVersion 4.6 (21/10/2021)StoryDMP-158 [Proxy] remonter les LPSInfos par le proxy\nDMP-157 [Proxy] donner la possibilité d'accéder à l'heure encoder en ISO\nDMP-156 Ajout d'une méthode utilitaire permettant d'indexer les typeCodes des documents par leur classCodes\nDMP-145 [Proxy] permettre la surcharge des LpsInfo dans le header.\nDMP-144 [CPS] Meilleur gestion de l'activité\nDMP - Version 4.5 (07/10/2021) Version compatible `SEL-MP-037 DMPi v2.5.0` validé sur `Package GIE SV 02.05.00` StoryDMP-152 [CDA] valider document structuration minimale sur la version 2.34\nDMP-150 Migration DMP LPS Schemas v2.01.02\nDMP-149 [EX-3.2-1030] Manque la récupération du CDAHeader dans le proxy\nDMP-148 [TD11] dépreciée/suppression de la transaction de création DMP (version 2.4 spec)\nDMP-147 [TD00] dépréciée la méthode (spec 2.4)\nDMP-106 [WSDL_SCHEMA] mettre à jour les schémas et WSDL vers la version courant du DMP\nDMP-104 [Validation] prendre en charge la dernière version du contenu CDA\nDMP-100 [DMPCWsClientException] Gestion des logs\nTâcheDMP-153 Homologation v2.5\nDMP-90 [nomenclature] mise à jour des jeux de valeurs\nVersion 4.0.2 (07/07/2021)BugDMP-146 [TD31Find] erreur lors d'un retour vide : [XDSStoredQueryMissingParam] parameterName=$uuid\nVersion 4.0.1 (21/06/2021)BugDMP-141 [Proxy] Probleme conversion de la réponse TD33\nDMP-138 [TD31] DMPCClient find converter ne remonte pas le typeCode\nStoryDMP-140 [TD31] findDocumentsBySubmissionTime\nVersion 4.0 (03/05/2021) Version compatible `SEL-MP-037 DMPi v2.3.0` validé sur `PDV_HOM_20210129_v2.3.0` BugDMP-135 Problème version bouncycastle\nDMP-132 L'autorite du personneldesante dans le cas CPS est celui de la structure\nDMP-127 [Consultation] permettre la remontée de document avec des entryUuids qui n'en sont pas\nDMP-124 [TLS] session TLS reste ouvert sur carte CPS\nDMP-116 [REST] remonter les exceptions correctement au client\nDMP-108 [REST] td32 retrieveContent\nDMP-105 [CPS] chargement de la carte CPS au démarrage du proxy.\nDMP-102 [HL7V25] typeCode SP inconnu\nStoryDMP-143 [SHA1] deprecated\nDMP-133 [TD32] le find ne renvoit pas d'erreur si non retrouvé\nDMP-131 [Indirect] Le P12AuthenticationContextHandler ne doit s'intéresser à des identifiants internes\nDMP-130 [TD09] prendre en compte l'ex_0.9-1030\nDMP-129 [OpenSaml] migrer vers la version 3.4\nDMP-126 [Nomenclature] mettre à jour jdV\nDMP-125 [UniqueIdGenerator] le num séquence de fin sur un modulo\nDMP-123 [FindDocuments] changer la cardinalité dans les filtres des codes\nDMP-120 TimeManager : policy of retry\nDMP-119 DmpParameterManager : innutile de le charger au démarrage\nDMP-118 [Configuration] dmpc -\u003e devbox-sante.dmp\nDMP-117 [Maven enforcer ] incohérence de certaines dépendances\nDMP-115 [URL web] intégration PDT-INF-547\nDMP-114 VIHF expiré\nDMP-113 TD3.3d : archiver / désarchiver un document\nDMP-112 TD3.3b : rendre un document visible au patient ou à ses representants légaux\nDMP-111 TD3.3a : masquer / démasquer un document aux PS\nDMP-110 [TD0.9] permettre l'obtention des infos de redirect\nDMP-109 [TD31 listener] ajout d'un listener de recherche\nDMP-107 [CXF.version] mise à jour de la version Cxf avec celle du bom\nDMP-103 [Validation] DMPCContexte sans auteur Id en authentification indirecte\nDMP-101 [DMPC-API] ajout des annotations json swagger\nDMP-98 Mise en place de Lombok\nDMP-97 [Consultation] DMP_3.2 : consulter des documents dans le DMP d’un patient (via TD3.2)\nDMP-96 Renomage des modules es packages en fr.devboxsante.dmp\nDMP-91 JDK11 migration\nDMP-79 [Technique] Migration spring boot 2 , utilisation du bom devbox-sante\nDMP-75 [TD31] support de la recherche de documents\nDMP-45 Charger le cda.validator.toolPath depuis le classpath\nTâcheDMP-122 [Homologation] passage homologation DEVCOOP consultation\nDMP-80 [test] migration vers springboot test abandon testng\nVersions 3.2 Version 3.2.3 (15/06/2022) Bug DMP-212 [eventCodes] peut être vide\nVersion 3.2.2 (10/02/2022) Story DMP-180 [3.2]_backport Génération d’un CDA à partir d’un DMPCDocument\nVersion 3.2.1 (21/01/2022)BugDMP-175 TD02 : ins ne remonte pas cas corse\nTâcheDMP-167 Baisser le niveau de log de DMPCWSClientException à info\nVersion 3.2.0 (06/10/2021)StoryDMP-154 Mettre à jour les jeux de valeurs du 24/09/2021\nTâcheDMP-86 Mise À jour testContenuCDA_20200609_V2.25.zip\nVersions 3.0 Version 3.0.5 (24/04/2024) Bug DMP-418 [TD02] Birthtime mois de l’année en 00\nVersion 3.0.4 (23/09/2020) fix #40 : ajout de la possibilité de configurer une basic auth sur le proxy ws.\n","categories":"","description":"Note sur les différentes versions de la DevBox-Santé DMP\n","excerpt":"Note sur les différentes versions de la DevBox-Santé DMP\n","ref":"/5.x/dmp/versions/","tags":"","title":"Versions"},{"body":"Versions 2.x Version - 2.8.0 (14/10/2024) Story INSI-88 [Logging]Rétention des conversations SOAP\nVersion - 2.7.8 (09/07/2024) Tâche INSI-86 [CertificatsTest] mettre à jour certificats DEVCOOP\nStory INSI-68 Vérifier prise en compte du nouveau Package_INSi_04.00.02.zip + CNDA Package_INSi_04.00.07\nINSI-83 [Datamatrix] Mettre à jour le datamatrix spec v2.2\nVersion - 2.7.7 (19/03/2024) Bug INSI-82 Conflit DmpcControllerAdvice avec InsiControllerAdvice\nStory INSI-79 [Technical] migration vers junit 5 (jupiter)\nINSI-80 [LicenceMananger] intégration de logEvent dans le INSiClient\nVersion 2.7.6 (23/08/2023) Story INSI-78 [IdentifiantFacturation] Intégrer le check laxiste\nVersion 2.7.5 (04/07/2023) Bug INSI-76 [Datamatrix] problème lorsque la date de naissance est au 1er janvier sur certaines années\nStory INSI-77 [identifiantFacturation] Finess mais aussi SIRET\nVersion 2.7.4 (11/05/2023) Story INSI-73 [Proxy] conflit registration du LpsInfoFilter INSi et DMP\nAPCV-2 [Spring] Éviter conflit entre les beans ApCV, INSi, DMP\nINSI-74 Restauration des lieuNaissance Corse dans la recherche\nINSI-75 [LpsInfo] lever l’ambiguité des LpsInfo insi et apcv\nVersion 2.7.3 (06/03/2023) Story INSI-72 [OpenAPI] migration springfox -\u003e springdoc\nVersion 2.7.2 (01/03/2023) Bug INSI-71 [P12InHeader] problème de chargement du p12Provider\nVersion 2.7.1 (23/02/2023) Story INSI-70 Authentification sans CPS fournir une vitale facade par défaut\nVersion 2.7.0 (23/02/2023) Story INSI-65 [CPS] un module security CPS dédié\nINSI-69 Intégration IGCSanteTrustStoreManager\nVersion 2.6.6 (04/07/2023) Bug INSI-76 [Datamatrix] problème lorsque la date de naissance est au 1er janvier sur certaines années\nVersion 2.6.5 (05/10/2022) Story INSI-66 [Repository] reorganisation de repo.dev.coop\nINSI-63 [Actuator] ajout d’un InsiLpsInfoContributor.\nINSI-61 [IGC-Santé] intégré IGCSanteTrustStoreManager\nVersion 2.6.4 (27/07/2022) Story INSI-60 [Stellair] externaliser configuration\nINSI-62 [INSi-CPS] Sélection intempestive de la structure de santé via la CPS à chaque Appel REST\nVersion 2.6.3 (29/06/2022) Bug INSI-58 [Datamatrix] encodage C40\nStory INSI-59 [CNDA Controller] permettre l’injection de n’importe quel retour.\nINSI-56 [Datamatrix] retourner le datamatrix en base64\nINSI-55 [Spring] qualify l’authenticationKeyManager\nVersion 2.6.2 (15/03/2022)StoryINSI-53 Ajout log dans lpsInfo configuration au démarrage\nVersion 2.6.1 (09/03/2022)StoryINSI-52 [INSI-REST-CLIENT_proxy] amélioration de la gestion des erreurs\nVersion 2.6 (11/02/2022)StoryINSI-50 [Security / p12s] ajout de certificat dynamiquement.\nINSI-49 [Proxy] ajout mode de securité p12InHeader\nINSI-46 [Mock] ajout résultat environnement mocké.\nINSI-44 [DataMatrix] composant gestion datamatrix\nVersion 2.5.3 (17/01/2022)BugINSI-45 [Front Démo] prendre en compte idFacturation obligatoire\nVersion 2.5.2 (06/01/2022)BugINSI-41 [P12/Issuer] Correction complémentaire note 09/2021\nINSI-13 [CI-TLS-AMO] format du Message Id\nStoryINSI-42 [IdentifiantFacturation] force la longueur à 9 caractères\nVersion 2.5.1 (16/12/2021)BugINSI-39 [P12]La balise \u003cemetteur\u003e est manquante dans vos contextes BAM et LPS\nTâcheINSI-40 [Security] check version log4j\nVersion 2.5 (08/12/2021)StoryINSI-31 [Security] support de l'authentification Stellair\nVersion 2.4 (01/12/2021)BugINSI-36 Proxy-V1 NPE conversion fichier injection REP_CR01.xml\nINSI-35 Session ouverte à chaque lecture de carte vitale .\nVersion 2.3 (15/11/2021)StoryINSI-34 [Proxy] fournir API Rest compatible 1.X\nVersion 2.2 (21/10/2021)StoryINSI-33 [LpsInfo] surcharge des lpsInfos au niveau session\nVersion 2.1 (07/10/2021)StoryINSI-27 Mise à jour du front de Démo avec la nouvelle version du modèle.\nINSI-22 [P12 Multiple] gestion de p12 multiple\nVersion 2.0 (24/09/2021) Version compatible à `SEL-MP-043_04-00-00_INSi ` validé sur `SEL-GCONFORM_INSi_V01.06` BugINSI-24 NPE lors d'un contexte non renseigné\nStoryINSI-26 intégration DevBox-santé CPS 3.0\nINSI-19 [WSDL] mettre à jour CONTRAT_IDIR_EXP_1.0.1\nINSI-18 [WSDL] mettre à jour CONTRAT_ICIR_EXP_1.5.0\nINSI-17 [SEL-MP-043-4] prise en compte des certificats serveurs\nINSI-16 [Proxy] version mocké de l'ensemble des téleservices\nINSI-10 [SEL-MP-043_03-00-02] prise en compte Batch (vérification de masse)\nVersion 1.4StoryINSI-15 [Activité] en cas d'une multiactivités, pouvoir passer l'activité dans le contexte\nVersion 1.3.1BugINSI-14 [Validation] code insee corse ne passe pas la validation\nVersion 1.3TâcheINSI-12 Mise à jour des api vitale et cps\nVersion 1.2StoryINSI-9 Chargement du contexte LPS depuis le header HTTP.\nINSI-7 [application.yml] Générer à la volée le numéro d'instance de l'installation à la volée\nVersion 1.0.1StoryINSI-3 Retourner une INSiValidationException =\u003e HTTP BadRequest pour tous les cas où ça se justifie\nVersion 1.0Version initiale compatible à `SEL-MP-043_02-00_INSi` validé sur `SEL-GCONFORM_INSi_V01.04`","categories":"","description":"Note sur les différentes versions de la DevBox-Santé INSi\n","excerpt":"Note sur les différentes versions de la DevBox-Santé INSi\n","ref":"/5.x/insi/versions/","tags":"","title":"Versions"},{"body":"Versions - 2.x Version - 2.1.9 (18/11/2024) Story MSS-77 Pouvoir envoyer un accusé de lecture\nVersion - 2.1.8 (07/11/2024) Tâche MSS-75 [Configuration Operator] chargement dynamique basé sur GIt\nVersion - 2.1.7 (11/10/2024) Bug MSS-74 [Wraptor] erreur configuration\nVersion - 2.1.6 (09/10/2024) Bug MSS-69 GET messages/{id} ne fonctionne pas avec MOTCO2\nMSS-70 Une tentative de connexion SSL plante à chaque début de transaction\nStory MSS-73 ajout configurations : SISRA , Wraptor production\nVersion - 2.1.5 (12/07/2024) Bug MSS-65 La liste des adresses (from, to, …) ne contiennent pas le name\nStory MSS-68 [Recherche] Merger les 2 recherches (normal et fullText)\nVersion - 2.1.4 (10/07/2024) Bug MSS-65 La liste des adresses (from, to, …) ne contiennent pas le name\nStory MSS-63 Gérer l’autoconfiguration\nVersion - 2.1.3 (14/06/2024) Correction configuration opérateurs de dev\nVersion - 2.1.2 (13/06/2024) Correction configuration opérateurs de dev\nVersion - 2.1.1 (14/05/2024) Story MSS-62 Ajout module de configuration operateur d’exemples\nVersion - 2.1.0 (25/04/2024) Sous-tâche MSS-49 [RefTLC_MSS12] Autoconfiguration\nMSS-50 [RefTLC_MSS17] fin refresh token déconnexion\nMSS-52 [RefTLC_MSS16] utiliser SASL-IR accessToken\nStory MSS-23 [Security] module externaliser l’accès à la CPS (mss-cps-security) MSS-31 [MSSanté#2] PSC access token ECO.1.2.1\nMSS-46 [MSSANTE#2] test opérateur Wraptor\nMSS-54 [MSANTE#2] Ajouter le flag SEEN aux brouillons et messages supprimés\nMSS-56 [MSSANTE#2] Gestions multi-opérateurs\nVersion - 2.0.1 (20/03/2024) Story MSS-58 [Mailiz] retrocompatibilte des converter\nVersion - 2.0.0 (29/02/2024) Story MSS-24 [IGCSante] choix des cyphers [MSS1]\nMSS-25 [MSS-Ref2] SMTP et imap candidat accrochage API LPS\nMSS-29 [MSSanté#2] interfaçage environnement de test MEDIMAIL\nMSS-30 [MSSanté#2] intégrer outil test référentiel MOTCO2\nMSS-34 [Annuaire] Pouvoir remplacer l’annuaire LDAP par celui de la devbox\nMSS-37 [Security] authentification P12InHeader\nMSS-42 [Message] Ajout service GET message par son id\nBug MSS-44 [Status] Set status UNDELETED double les mails\nVersion - 1.2.5 (04/07/2023) Story MSS-28 [Stellair] injecter un CpsOperationProviderSpi au lieu d’une CpsFacade\nVersion 1.2.4 (20/06/2023) Bug MSS-27 [LDAP] connexion impossible ldap, crash la DevBoxSanté au démarrage.\nVersion 1.2.3 (06/03/2023) Story MSS-26 [OpenAPI] migration springfox -\u003e springdoc\nVersion 1.2.2 (05/10/2022) Story MSS-21 [Repository] reorganisation de repo.dev.coop\nVersion 1.2.1 (27/09/2022) Bug MSS-20 [Mailiz] problème encodage à réception\nVersion 1.2.0 (15/09/2022) Bug MSS-12 Permettre le switch d’une connexion / deconnexion CPS et login_password dans les deux sens\nStory MSS-18 [TLS] Reprendre les exigences de vérification CRL\nTâche MSS-19 [Accusé réception] gestion de isAccuse\nVersion 1.1.2 (07/06/2022) Bug MSS-16 [formation.mssante.fr] nouveau certificat\nVersion 1.1.1 (14/12/2021)TâcheMSS-14 [Security] log4j montée de version BOM\nVersion 1.1 (17/10/2021)BugMSS-12 Permettre le switch d'une connexion / deconnexion CPS et login_password dans les deux sens\nMSS-7 [Proxy] CPS connexion et problème de refresh\nStoryMSS-10 [Mailiz] uploadAttachment non opérationnel\nMSS-9 Remonter les bons messages d'erreur (SoapFault) depuis le proxy\nVersion 1.0 (07/07/2021) ","categories":"","description":"Les différentes versions de la DevBox-Santé MS-Santé\n","excerpt":"Les différentes versions de la DevBox-Santé MS-Santé\n","ref":"/5.x/ms-sante/versions/","tags":"","title":"Versions"},{"body":"Versions - 1.x Version 1.8.3 (06/03/2023) Story VITALE-27 [OpenAPI] migration springfox -\u003e springdoc\nVersion 1.8.2 (04/10/2022) Story VITALE-24 [Repository] reorganisation de repo.dev.coop\nVersion 1.8.1 (27/07/2022) Story VITALE-23 [Stellair] externalisation de la configuration\nVersion 1.8.0 (31/05/2022) Story VITALE-21 [stellair] proxy dans son propre module\nVersion 1.7.2 (02/03/2022)BugVITALE-20 Lecture avec CPS : ERR_PINCODE_INACTIF\nVersion 1.7.1 (14/12/2021)StoryVITALE-19 [SECURITY] migration log4J 2.16\nVersion 1.7 (09/12/2021)StoryVITALE-18 [Security] support de l'authentification Stellair\nVersion 1.6 (01/12/2021)BugVITALE-17 CarteVitalFactory conditionnal on missing bean\nVersion 1.5BugVITALE-15 [MacOS] Proxy problème d'encodage\n","categories":"","description":"Note sur les différentes versions de la DevBox-Santé Carte Vitale\n","excerpt":"Note sur les différentes versions de la DevBox-Santé Carte Vitale\n","ref":"/5.x/vitale/versions/","tags":"","title":"Versions"},{"body":"Version 4.x Version - 4.2.0 (19/12/2025) Story CPS-99 [Signature] ajout d’un cartouche de signature contenant info médecins\nVersion - 4.1.2 (17/11/2025) Bug CPS-97 [Cancel] après un cancel les erreurs ne s’affichent plus dans la frame\nStory CPS-98 Supprimer deprecated CPSFacadeImpl\nVersion - 4.1.1 (17/11/2025) Bug CPS-95 Pas de relecture après code pin erronné\nCPS-96 [PinProvider1234] utilisé pour les tests prend NPE si non sélection du reader\nVersion - 4.1.0 (10/06/2025) Tâche CPS-93 [IAIK] restore IAIK sur branche master\nVersion - 4.0.2 (28/03/2025) Bug CPS-89 [CPS] signature invalid openssl 3\nStory CPS-90 [BouncyCastle] migration nouvelle version \u003e 1.70\nCPS-91 [BouncyCastle] suppression cps-shaded -\u003e bcutil-jdk18on\nCPS-92 [Front Demo] refonte angular 19\nVersion - 4.0.1 (20/02/2025) Story CPS-87 [CpsSecurityProvider] multi-threaded\nVersion - 4.0.0 (26/09/2024) Story CPS-42 CPS Proxy Native\nCPS-72 [REST][pinProvider] meilleur retour sur un CANCEL\nCPS-79 [XIPKI] abandon IAIK –\u003e Xipki\nCPS-80 [JDK 21] migration java21 spring-boot 3\nVersions antérieures /5.x/cps/versions\n","categories":"","description":"Note sur les différentes versions de la DevBox-Santé CPS\n","excerpt":"Note sur les différentes versions de la DevBox-Santé CPS\n","ref":"/6.x/composants/cps/versions/","tags":"","title":"Versions"},{"body":"Versions - 2.x : Java 21 , Spring-boot 3 Version - 2.0.4 (28/03/2025) Story VITALE-37 [Front-Demo] migration angular 19\nVersion - 2.0.3 (22/01/2025) Bug VITALE-33 [FLIP-FLOP] Lorsqu’un seul lecteur est détecté, le mode ne passe pas en flip-flop\nVersion - 2.0.2 (19/12/2024) Hot-fix [VITALE-36] Version - 2.0.1 (12/12/2024) Story VITALE-36 VitaleFactory n’est plus un bean\nVersion - 2.0.0 (25/09/2024) Bug VITALE-33 [FLIP-FLOP] Lorsqu’un seul lecteur est détecté, le mode ne passe pas en flip-flop\nStory VITALE-28 fr.devcoop -\u003e fr.devboxsante\nVITALE-35 Migration Java21 Spring-boot 3\nVersions antérieures /5.x/vitale/versions\n","categories":"","description":"Note sur les différentes versions de la DevBox-Santé Carte Vitale\n","excerpt":"Note sur les différentes versions de la DevBox-Santé Carte Vitale\n","ref":"/6.x/composants/vitale/versions/","tags":"","title":"Versions"},{"body":"Version - 2.0.2 (03/04/2025) Amélioration BOM-1 Version 16\nVersion - 2.0.1 (28/03/2025) Amélioration APCV-9 [Front-DEMO] migration Angular 19\nVersion - 2.0.0 (26/09/2024) Amélioration APCV-8 [JDK21] Migration java 21 spring-boot 3\nVersions antérieures /5.x/apcv/versions\n","categories":"","description":"Note sur les différentes versions de la DevBox-Santé Mobilité ApCV\n","excerpt":"Note sur les différentes versions de la DevBox-Santé Mobilité ApCV\n","ref":"/6.x/connecteurs/apcv/versions/","tags":"","title":"Versions"},{"body":"Version 6.x Version compatible SEL-MP-037 DMPi v2.9.1\nVersion - 6.0.16 (19/12/2025) Story DMP-543 [Segur DPI CDA/DD15.02] récupérer l’état supprimé/remplacé d’une liste de document. (corrections)\nDMP-545 [ITI18] plus de tolérance dans le format des uuids dans les requêtes\nVersion - 6.0.15 (08/12/2025) Story DMP-543 [Segur DPI CDA/DD15.02] Experimental récupérer l’état supprimé/remplacé d’une liste de documents.\nVersion - 6.0.14 (20/11/2025) Tâche DMP-527 Vaccination nécessite le nom de la structure sante\nDMP-539 [CrossValidation] problème lorsque event du document non renseigné\nBug DMP-532 [Tools] /xdm/to/dmp document#setId null et documentVersionNumber à 1\nDMP-535 [dmp/to/cda] problème validation patient .nomUsuel not null\nDMP-537 [AuthenticationContext] /dmp/authenticationContext avec requête vide\nStory DMP-520 [CDA-TOOLs] rendre les tools resilients à la suppression de fichier temporaire\nDMP-530 [tools] exposer /cda/to/html et déprecier TD32Response#htmlContent\nDMP-533 [Validation/Vaccination] prévalidation des identifiants Nationaux des auteurs et de leurs structures\nDMP-540 [CDA] conversion code null -\u003e UNK au lieu de NASK par défaut\nVersion - 6.0.13 (19/09/2025) Tâche DMP-523 Valider environnement de2 next\nDMP-524 Update JDV du 25 juillet 2025\nBug DMP-525 Permettre entryUUID non uuid dans DMPCDocumentPopulator\nStory DMP-522 [XDM] INDEX.HTM et README.TXT à la racine du Zip\nDMP-526 [TimeManager] failure non bloquante (scheduled)\nVersion 6.0.12 (05/08/2025) Bug DMP-521 [Directe] CPE vihf wrong issuer\nVersion - 6.0.11 (30/07/2025) Story DMP-508 [CDA Document Wrapper] Guess Format à partit des correspondances ASS_A11_CorresModeleCDA_XdsFormatCode_CISIS\nDMP-512 [Alimentation] éviter la double validation CDA pour les CDA DocumentWrapped\nDMP-514 [“Spécification Projet DRIMbox pour les DPI/PFI”] intégrer les eventCodes depuis un CDA d’Imagerie\nDMP-515 [“Spécification Projet DRIMbox pour les DPI/PFI”] intégrer les referenceIdList depuis un CDA d’Imagerie\nDMP-519 [PFI] ajustements composant dmp\nVersion - 6.0.10 (20/06/2025) Bug DMP-517 [TD02] Parse moonDate avec un jour à 0 en réponse de la TD02\nStory DMP-437 [DMPCDocument] ajout d’un validateur serviceStopDateTime \u003e serviceStartDateTime\nDMP-513 [PFI] Suppression code PFI client du projet\nDMP-518 [AIR] rendre compatible le mode AIR dmp avec le mode AuthInHeader dbx\nVersion - 6.0.9 (10/06/2025) Tâche DMP-505 [Homologation] Devbox-santé PFI\nBug DMP-504 [CXF] log des multparts suppressed\nStory DMP-507 [Alimentation] respect de l’exigence EX_2.1-1010 sur les documents patients et réservés\nVersion - 6.0.8 (10/04/2025) Bug DMP-501 [XDM tool] xdm/to/dmp , suppression de la contrainte de noms dans l’archive\nStory DMP-502 [CDA] Extraire le contenu de FR-Document-attache d’un CDA-R2 N3\nVersion - 6.0.7 (08/04/2025) Bug DMP-498 [CDA Tools] revert conversion do not automatically put content\nStory DMP-499 [CDA] meilleur gestion des nullFlavors\nDMP-500 [CDA] Meilleure gestion des qualifiers des noms\nVersion - 6.0.6 (03/04/2025) Tâche DMP-488 [PFI] ajustements pour prise en charge dans un contexte PFI\nDMP-491 [DE1] Tests de non régression sur le nouvel environnement DE1 d’Atos\nBug DMP-485 [Tools] xdm invalide aves submissionStartTime null\nDMP-489 [TD32Find] DateHeureParseException lors d’une recherche ,\nDMP-496 [Tools XDM] problème Validation avant génération de l’archive pour CDAWrapped\nStory BOM-1 Version 16\nDMP-490 [DMP Server Exception] remonté les codes des erreurs XDS du serveur DMP\nDMP-492 [NTP] ajout de la configuration de la fréquence de maj : dmp.time.ntp.delayBetweenTwoSynchInMinutes\nDMP-494 [CDATools] cdaToPdf non strict : permettre la génération au mieux\nDMP-495 [Pfi] xdm action remplacement / suppression dans le Document (privé)\nVersion - 6.0.5 (21/02/2025) Bug HotFix DMP-487 [AuthInHeader] p12 inaccessible dans le header\nVersion - 6.0.4 (20/02/2025) Story DMP-486 [DBX-AG] Compatibilité agent beta2\nVersion - 6.0.3 (06/02/2025) Bug DMP-480 [VAC] erreur génération note vaccination executant non renseigné\nDMP-481 [Parametres] NPE dans les logs avec fichier paramètre `param-lps-20250131.xml`\nStory DMP-482 [TestContenuCDA-3.0] mise à jour sur le dernier tag verified 20241202\nDMP-483 [TestContenuCDA-3.0] faciliter le passage au latest tools\nVersion - 6.0.2 (16/12/2024) Story DMP-477 Mise à jour dependances : CVE-2015-6420\nDMP-478 [Technical] déclaration explicite des dépendances\nVersion - 6.0.1 (05/12/2024) Tâche DMP-443 [2.9.1] Homologation CNDA\nBug DMP-459 [P12InHeader] collision dans les connexions TLS et VIHF\nDMP-462 [PDF] PdfA conversion non valide sur la version 6.0.0\nDMP-463 [CPS remplaçant] NPE sur structure non renseigné dans le contexte.\nDMP-464 [NPE] POCDMTDocumentationConverter extractServiceTime\nDMP-465 [TD31] legalAuthenticator patient : validation ID Adeli en erreur\nDMP-467 [Vaccination] contrainte sur la voie et la région d’administration plus obligatoire\nDMP-468 [TD33 update Confidentiality] Erreur du serveur DMP : [XDSRegistryMetadataError] Les données d’un auteur ne peuvent pas être modifiées\nStory DMP-309 [NoteVaccination] vaccinateur auteur par défaut\nDMP-412 [DMPCDocument] patientLegalAuthenticator prendre en charge la practiceSetting EXP_PATIEN\nDMP-427 [AIR] prise en charge de la TD0.10\nDMP-457 [02.09.01] prise en compte évolutions package 02.09.01\nDMP-461 [PDF] conversion PDF/A baisser la résolution pour baisser la taille des fichiers\nDMP-469 [CDA] HistoriqueVaccination tolérance sur infos remontées.\nDMP-470 [VeraPDF] proposer l’implémentation verapdf pour validation PDF A1\nDMP-471 [contenuCDATools] mise à jour\nDMP-472 [CDATools] génération PDF\nDMP-473 [CDA] Identifiant invariable pour toutes les versions du document ClinicalDocument.setId –\u003e DMPCDocument.invariableId\nDMP-474 [TD33ab] updateConfidentiality sans modification accidentelle de l’auteur\nDMP-476 [DMPC admin] Retenir les x derniers échanges et retourner l’exchangeId en cas de XDS er WS Exception\nVersion - 6.0 (26/09/2024) Story DMP-428 [AIR] modification de l’API pour DMPCContext et traçabilité des réponses\nDMP-432 [INS Nir Autorite] suppression code déprécié.\nDMP-435 [ESMS] intégration du rôle dans la prise en charge en authentification indirecte\nDMP-439 [AuthInHeader] permettre de passer le mode d’authentification (cps + p12InHeader)\nDMP-458 [JDK21] migration java 21 spring-boot 3\nVersions antérieures /5.x/dmp/versions\n","categories":"","description":"Note sur les différentes versions de la DevBox-Santé DMP\n","excerpt":"Note sur les différentes versions de la DevBox-Santé DMP\n","ref":"/6.x/connecteurs/dmp/versions/","tags":"","title":"Versions"},{"body":"Versions 3.x Version - 3.0.10 (19/11/2025) Story INSI-98 [CNDA] renouveler les IDs des contextes BAM et LPS\nVersion - 3.0.9 (19/09/2025) Story INSI-97 [CNDA TOOLS] permettre de définir le nombre d’injection\nVersion - 3.0.8 (04/09/2025) Story INSI-96 [Datamatrix] Permettre personnalisation du marquage « INS à scanner »\nVersion - 3.0.7 (28/05/2025) Bug INSI-94 [Datamatrix] cartouche inversé\nINSI-95 [CNDA] Rep_CR02 failed marshall\nVersion - 3.0.6 (03/04/2025) Amélioration BOM-1 Version 16\nVersion - 3.0.5 (28/03/2025) Story INSI-93 [Front-Demo] migration angular 19\nVersion - 3.0.4 (21/02/2025) Bug HotFix INSI-92 [AuthInHeader] p12 inaccessible dans le header\nVersion - 3.0.3 (20/02/2025) Story INSI-88 [Logging]Rétention des conversations SOAP\nVersion - 3.0.2 (12/12/2024) Story INSI-90 [Datamatrix] activation on property without profile\nVersion - 3.0.1 (06/12/2024) Story INSI-88 [Logging]Rétention des conversations SOAP\nINSI-89 [Logging] add json logging input and output on debug\nVersion 3.0 (26/09/2024) Story INSI-67 [TLSi modification] déprecier / supprimer prenomUtilise\nINSI-84 [Security] AuthInHeader : permettre de passer le mode d’authentification (cps + p12InHeader)\nINSI-87 [JDK21] migration java 21 spring-boot 3\nVersions antérieures /5.x/insi/versions\n","categories":"","description":"Note sur les différentes versions de la DevBox-Santé INSi\n","excerpt":"Note sur les différentes versions de la DevBox-Santé INSi\n","ref":"/6.x/connecteurs/insi/versions/","tags":"","title":"Versions"},{"body":"Versions - 3.x Version - 3.1.6 (03/11/2025) Bug MSS-95 [Mailiz] Erreur ORCPT lors de l’envoi / accusé de réception\nMSS-96 [Medimail] Erreur sur la lecture des dossiers\nStory MSS-97 [Authentication] p12 in b64\nVersion - 3.1.5 (30/07/2025) Bug MSS-92 [Changement Status] message non trouvé\nStory MSS-91 [MSSEvent] introduire la notion d’event écoutable\nVersion - 3.1.4 (12/05/2025) Story MSS-89 Optimiser la recherche de message\nMSS-90 Augmenter le nombre de résultat max par page 25 -\u003e 100\nVersion - 3.1.3 (15/04/2025) Story MSS-88 Pouvoir supprimer un message directement sans passer par la corbeille\nVersion - 3.1.2 (03/04/2025) Amélioration BOM-1 Version 16\nVersion - 3.1.1 (25/03/2025) Story MSS-87 [Envoi Message] Pouvoir copier en asynchrone le message envoyé dans le répertoire “sent”\nVersion - 3.1.0 (24/03/2025) Bug MSS-83 [front] Au refresh de la page, le path de l’url est dupliqué\nStory MSS-82 [front] Pouvoir afficher une pj\nMSS-84 [PFI] Ajustement pour inclusion dans la PFI: Le message doit contenir une version (part) au format texte du message\nMSS-85 Renvoyer le MessageID lors de l’envoi du message\nMSS-86 [PFI] Message d’accusé de traitement\nVersion - 3.0.4 (06/02/2025) Story MSS-81 Documentation Swagger et front\nVersion - 3.0.3 (07/01/2025) Story MSS-80 [Annuaire] Propriété pour choix implémentation annuaire (fix)\nVersion 3.0.2 (18/12/2024) Story MSS-80 [Annuaire] Propriété pour choix implémentation annuaire\nVersion - 3.0.1 (06/12/2024) Tâche MSS-75 [Configuration Operator] chargement dynamique basé sur GIt\nBug MSS-79 [Mailiz-Formation ] SMTP auth failed sur mss-demo\nStory MSS-77 Pouvoir envoyer un accusé de lecture\nVersion - 3.0 (26/09/2024) Story MSS-71 [JDK21] migration java 21 spring-boot 3\nVersions antérieures /5.x/ms-sante/versions\n","categories":"","description":"Les différentes versions de la DevBox-Santé MS-Santé\n","excerpt":"Les différentes versions de la DevBox-Santé MS-Santé\n","ref":"/6.x/connecteurs/ms-sante/versions/","tags":"","title":"Versions"},{"body":" Version 6.1.17 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.17/pom.xml\ndbx-agent 1.0.6 dbx-lm 2.0.5 Version 6.1.16 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.16/pom.xml\ndmp 6.0.16 dbx-common 1.1.0 Version 6.1.15 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.15/pom.xml\ndmp 6.0.15 Version 6.1.14 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.14/pom.xml\ndmp 6.0.14 Version 6.1.13 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.13/pom.xml\ninsi 3.0.10 Version 6.1.12 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.12/pom.xml\ncps 4.1.2 pfi 1.0-beta dbx-agent 1.0.4 Version 6.1.11 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.11/pom.xml\ndmp 6.0.13 insi 3.0.9 Version 6.1.10 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.10/pom.xml\ninsi 3.0.8 igc-sante 2.0.4 Version 6.1.9 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.9/pom.xml\ndmp 6.0.12 ms-sante 3.1.5 pfi 1.0-alpha Version 6.1.8 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.8/pom.xml\ndmp 6.0.10 Version 6.1.7 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.7/pom.xml\ninsi 3.0.7 cps 4.1.0 dbx-agent 1.0.3 dmp 6.0.9 Version 6.1.6 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.6/pom.xml\nbom 17 dbx-agent 1.0.2 ms-sante 3.1.4 Version 6.1.5 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.5/pom.xml\nms-sante 3.1.3 Version 6.1.4 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.4/pom.xml\ndmp 6.0.7 Version 6.1.3 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.3/pom.xml\ndmp 6.0.6 insi 3.0.6 ms-sante 3.1.2 apcv 2.0.2 bom 16 Version 6.1.2 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.2/pom.xml\ncps 4.0.2 (fix accés dev1 DMP) vitale 2.0.4 insi 3.0.5 apcv 2.0.1 Version 6.1.1 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.1/pom.xml Modules impactés :\ndbx-agent 1.0.0 Version 6.1.0 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.1.0/pom.xml Modules impactés :\nms-sante 3.1.1 ms-sante-api 3.1.1 Version 6.0.6 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.0.6/pom.xml Modules impactés :\ndmp 6.0.5 insi 3.0.4 Version 6.0.5 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.0.5/pom.xml Modules impactés :\ndmp-api 6.0.2 dmp 6.0.4 cps-api 4.0.1 cps 4.0.1 insi 3.0.3 dbx-agent 1.0-beta2 Version 6.0.4 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.0.4/pom.xml\n6.0.4-b6 : prise en charge cryptolib 5.2 Version 6.0.3 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.0.3/pom.xml\nVersion 6.0.2 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.0.2/pom.xml\nVersion 6.0.1 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.0.1/pom.xml\nVersion 6.0.0 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/src/6.0.0/pom.xml\n","categories":"","description":"","excerpt":" Version 6.1.17 : …","ref":"/6.x/versions/","tags":"","title":"Versions"},{"body":"Lorsque l’utilisateur a besoin de consulter le DMP d’un patient en cas d’urgence, sans avoir la possibilité de lui demander son autorisation, au lieu de se déclarer autorisé à accéder au dossier par le patient, il dispose de la possibilité d’accéder au dossier en mode « bris de glace ».\nDans l’api cela se traduit par une modification du Contexte :\nEn Java :\nDMPCContext context = ... DMPCModeAcces modeAcces = new DMPCModeAcces(); modeAcces.setAcces(DMPCModeAcces.ModeAcces.BRIS_DE_GLACE); modeAcces.setRaison(\"Accès en urgence\"); context.setModeAcces(modeAcces); En REST :\n{ \"context\": { \"author\": { ... }, \"modeAcces\": { \"acces\": \"BRIS_DE_GLACE\", \"raison\": \"Accès en urgence\" } }, \"request\": { ... } } ","categories":"","description":"Dans le cas où le patient n’est pas en capacité de donner son accord, un accès en mode « bris de glace » est possible pour la consultation du DMP.\n","excerpt":"Dans le cas où le patient n’est pas en capacité de donner son accord, …","ref":"/5.x/dmp/howtos/transactions/bris_de_glace/","tags":"","title":"Gestion du Bris de Glace"},{"body":"Lorsque l’utilisateur a besoin de consulter le DMP d’un patient en cas d’urgence, sans avoir la possibilité de lui demander son autorisation, au lieu de se déclarer autorisé à accéder au dossier par le patient, il dispose de la possibilité d’accéder au dossier en mode « bris de glace ».\nDans l’api cela se traduit par une modification du Contexte :\nEn Java :\nDMPCContext context = ... DMPCModeAcces modeAcces = new DMPCModeAcces(); modeAcces.setAcces(DMPCModeAcces.ModeAcces.BRIS_DE_GLACE); modeAcces.setRaison(\"Accès en urgence\"); context.setModeAcces(modeAcces); En REST :\n{ \"context\": { \"author\": { ... }, \"modeAcces\": { \"acces\": \"BRIS_DE_GLACE\", \"raison\": \"Accès en urgence\" } }, \"request\": { ... } } ","categories":"","description":"Dans le cas où le patient n’est pas en capacité de donner son accord, un accès en mode « bris de glace » est possible pour la consultation du DMP.\n","excerpt":"Dans le cas où le patient n’est pas en capacité de donner son accord, …","ref":"/6.x/connecteurs/dmp/howtos/transactions/bris_de_glace/","tags":"","title":"Gestion du Bris de Glace"},{"body":"L’exigence EX_0.1-1100 :\nLe LPS doit permettre à l’utilisateur de mettre en oeuvre une connexion secrète pour les mineurs, en concertation avec son patient. Cf. donnée confidentiality-code dans le VIHF. Les modalités de mise en oeuvre : détermination de l’âge (cf. exigence EX_GEN-1550 au § 3.1.3) et proposition systématique, choix utilisateur,… devront être précisées par l’éditeur lors de son passage en homologation.\nLa décision de la mise en place de la connexion secrète est laissée à l’intégrateur. Dans le càs où, l’application veut déclarer la connexion secrète, il suffit d’ajouter le code de confidentialité INVISIBLE_REPRESENTANTS_LEGAUX dans le contexte :\nEN java :\nDMPCContext context = ... DMPCCode code = client.getCodesFor((DMPCCode.JeuxValeursDMP.RESTRICTION_AUDIENCE_VIHF) .stream() .filter(dmpcCode -\u003e dmpcCode.getCode().equals(\"INVISIBLE_REPRESENTANTS_LEGAUX\")) .findFirst().get(); context.setConfidentialityCode(code); En REST :\n{ \"context\": { \"author\": { ... }, \"confidentialityCode\": { \"valeur\": \"INVISIBLE_REPRESENTANTS_LEGAUX\", \"identifiantNomenclature\": \"1.2.250.1.213.1.1.4.13\", \"libelle\": \"Non visible par les représentants légaux du patient\" } }, \"request\": { ... } } ATTENTION : Ne pas confondre la connexion secrète et la soumission de documents à visibilité réduite comme INVISIBLE_REPRESENTANTS_LEGAUX, INVISIBLE_PATIENT, ou encore MASQUE_PS. Il s’agit dans ce cas de spécifier un code de confidentialité spécifique au document. Ces codes sont disponibles dans la nomenclature DMPCCode.JeuxValeursDMP.CONFIDENTIALITY_CODE\n","categories":"","description":"Mise en oeuvre d'une connexion secrète pour les mineurs, en concertation avec son patient\n","excerpt":"Mise en oeuvre d'une connexion secrète pour les mineurs, en …","ref":"/5.x/dmp/howtos/transactions/connexion_secrete/","tags":"","title":"Gestion de la Connexion Secrète"},{"body":"L’exigence EX_0.1-1100 :\nLe LPS doit permettre à l’utilisateur de mettre en oeuvre une connexion secrète pour les mineurs, en concertation avec son patient. Cf. donnée confidentiality-code dans le VIHF. Les modalités de mise en oeuvre : détermination de l’âge (cf. exigence EX_GEN-1550 au § 3.1.3) et proposition systématique, choix utilisateur,… devront être précisées par l’éditeur lors de son passage en homologation.\nLa décision de la mise en place de la connexion secrète est laissée à l’intégrateur. Dans le càs où, l’application veut déclarer la connexion secrète, il suffit d’ajouter le code de confidentialité INVISIBLE_REPRESENTANTS_LEGAUX dans le contexte :\nEN java :\nDMPCContext context = ... DMPCCode code = client.getCodesFor((DMPCCode.JeuxValeursDMP.RESTRICTION_AUDIENCE_VIHF) .stream() .filter(dmpcCode -\u003e dmpcCode.getCode().equals(\"INVISIBLE_REPRESENTANTS_LEGAUX\")) .findFirst().get(); context.setConfidentialityCode(code); En REST :\n{ \"context\": { \"author\": { ... }, \"confidentialityCode\": { \"valeur\": \"INVISIBLE_REPRESENTANTS_LEGAUX\", \"identifiantNomenclature\": \"1.2.250.1.213.1.1.4.13\", \"libelle\": \"Non visible par les représentants légaux du patient\" } }, \"request\": { ... } } ATTENTION : Ne pas confondre la connexion secrète et la soumission de documents à visibilité réduite comme INVISIBLE_REPRESENTANTS_LEGAUX, INVISIBLE_PATIENT, ou encore MASQUE_PS. Il s’agit dans ce cas de spécifier un code de confidentialité spécifique au document. Ces codes sont disponibles dans la nomenclature DMPCCode.JeuxValeursDMP.CONFIDENTIALITY_CODE\n","categories":"","description":"Mise en oeuvre d'une connexion secrète pour les mineurs, en concertation avec son patient\n","excerpt":"Mise en oeuvre d'une connexion secrète pour les mineurs, en …","ref":"/6.x/connecteurs/dmp/howtos/transactions/connexion_secrete/","tags":"","title":"Gestion de la Connexion Secrète"},{"body":"Intégrer en marque blanche l’IHM DevBox-Santé DMP UI Nous avons fait l’exercice : intégré et homologué la DevBox-santé DMP en mode REST, et sommes en mesure de vous la faire partager à vos clients.\nQuelques impressions sur nos tests d’homologation ","categories":"","description":"Une interface utilisateur pour le DMP \n","excerpt":"Une interface utilisateur pour le DMP \n","ref":"/5.x/dmp/ui/","tags":"","title":"DMP UI"},{"body":"Intégrer en marque blanche l’IHM DevBox-Santé DMP UI Nous avons fait l’exercice : intégré et homologué la DevBox-santé DMP en mode REST, et sommes en mesure de vous la faire partager à vos clients.\nQuelques impressions sur nos tests d’homologation ","categories":"","description":"Une interface utilisateur pour le DMP \n","excerpt":"Une interface utilisateur pour le DMP \n","ref":"/6.x/connecteurs/dmp/ui/","tags":"","title":"DMP UI"},{"body":"Dans la DevBox-Santé, beaucoup de contenus doivent être encodé en base64 avant d’être envoyé par une requête HTTP.\nL’encodage en base64 d’un byte[] json se fait de manière transparente mais dans les header HTTP, voici quelques méthodes pour encoder en base64 vos contenus :\nWindows Powershell: $cert = get-content 'certificate.p12' -Encoding Byte $base64 = [System.Convert]::ToBase64String($cert) echo $base64 Linux: base64 -w0 certificate.p12 \u003e outputfile -w0 pour mettre sur une seule ligne\nMac OS: base64 -i certificate.p12 -o outputfile ","categories":"","description":"Petit guide utile pour encoder en base64 des contenus \n","excerpt":"Petit guide utile pour encoder en base64 des contenus \n","ref":"/5.x/ms-sante/howtos/base64/","tags":"","title":"Encoder en base64"},{"body":"Dans la DevBox-Santé, beaucoup de contenus doivent être encodé en base64 avant d’être envoyé par une requête HTTP.\nL’encodage en base64 d’un byte[] json se fait de manière transparente mais dans les header HTTP, voici quelques méthodes pour encoder en base64 vos contenus :\nWindows Powershell: $cert = get-content 'certificate.p12' -Encoding Byte $base64 = [System.Convert]::ToBase64String($cert) echo $base64 Linux: base64 -w0 certificate.p12 \u003e outputfile -w0 pour mettre sur une seule ligne\nMac OS: base64 -i certificate.p12 -o outputfile ","categories":"","description":"Petit guide utile pour encoder en base64 des contenus \n","excerpt":"Petit guide utile pour encoder en base64 des contenus \n","ref":"/6.x/connecteurs/transverses/howtos/base64/","tags":"","title":"Encoder en base64"},{"body":"Quelle valeur doit prendre le code Spécialité du ApCVRequestContext ? le codeSpecialiteAMO fait référence à la table des spécialité AM : https://mos.esante.gouv.fr/NOS/TRE_G100-Specialite-AM/TRE_G100-Specialite-AM.pdf .\n/** * EF_ApCVsi01 _E21.2 La spécialité est nécessaire pour connaitre la validité du contexte ApCV. Elle vient du SI-PS. * * ELle peut être récupérée de la carte CPS. */ @NosCodeValid(nomenclature = NosNomenclature.TRE_G100_Specialite_AM) private String specialite; ","categories":"","description":"Compilation des questions au sujet de l'intégration du téléservice ApCV \n","excerpt":"Compilation des questions au sujet de l'intégration du téléservice …","ref":"/5.x/apcv/howtos/faq/","tags":"","title":"Foire aux questions Application Carte Vitale"},{"body":"Authentifications [Indirecte] Erreur d’authentification de la personne morale Cette erreur arrive quand l’identifiant de structure utilisée dans le contexte d’appel est incohérent avec celui du certificat :\nPour connaître l’identifiant du certificat P12 utilisé, vous pouvez utiliser l’endpoint /dmp/authenticationContext avec un body vide :\nÀ l’aide de ces deux impressions écrans on voit bien que les deux identifiants structures sont différents. Comme ces deux identifiants sont deux identifiants Finess, la DevBox-sante ne peut pas ignorer l’identifiant passé dans le contexte au profit de celui du certificat p12 car cela perment de prendre en charge le mode EJ/EG\nLes logs de la devbox-santé peuvent aider à diagnostiquer votre problème :\nP12AuthenticationContextHandler : La structure (1.2.250.1.71.4.2.2.10B0156832) du contexte de Type FINESS est un possible FINESS_EG P12AuthenticationContextHandler : Extraction du certificat les infos de structure sante pour id 10B0130811 de type FINESS P12AuthenticationContextHandler : Extraction du certificat le nom de la structure : CENTRE DE SANTE RPPS13081 P12AuthenticationContextHandler : Structure du contexte (1.2.250.1.71.4.2.2.10B0156832) est diff?rente de la structure du certificat (1.2.250.1.71.4.2.2.10B0130811) P12AuthenticationContextHandler : mode EJ/EG (10B0130811/10B0156832) P12AuthenticationContextHandler : La structure (1.2.250.1.71.4.2.2.10B0130811) du certificat de type (FINESS) est un possible FINESS_EJ, mise ? jour des type et ajout de la structure du certificat dans la liste. Aucun AuthorInstitution ne correspond à l’utilisateur du VIHF [Authentification Indirecte] En authentification indirecte, La DevBox-Santé DMP récupère les informations de la structure dans le certificat P12 et surcharge avec ces informations la structure du contexte DMP de la requête.\nCette surcharge permet de respecter l’exigence de respecter le format du champ /Assertion/Issuer du VIHF défini dans “Volet Transport Synchrone pour Client Lourd” du CI-SIS de l’ANS, mais aussi, de respecter le champ Identifiant_Structure du VIHF défini dans le guide d’intégration du DMP (SEL-MP-037).\nLa structure du LegalAuthenticator du document doit correspondre à la structure du contexte qui est déduite du certificat P12. Il est donc conseillé de ne pas renseigner le legalAuthenticator pour un document afin de le récupérer automatiquement du contexte.\n“La carte utilisée est une carte de professionnel en formation (CPF), une erreur a été détectée \" Les professionnels en formation ne possède pas d’informations sur leur carte CPF concernant leur situation d’exercice. Il faut donc surcharger des informations dans le contexte:\nauthor.structureSante.idNational (ex. “10B0156832”) author.specialite (ex. “G15_10/SM26”) author.secteurActivity (ex. “SA05”) CPE de test retourne une structure introuvable Problème connu, il faut demander au centre de service de rajouter la structure dans leur environnement.\nCPE de test retourne un message d’erreur PS NON_ELLIGIBLE (carte commandé en 2023) Effectivement c’est un problème connu du CNDA. Le sujet est en cours côté ANS. Il est pour le moment inutile de recommander des CPE qui auront le même problème (une date de fin d’activité caduque en base de données).\nIdentifiant Patient Le champ Resource_id est incorrect : Cas de la taille du matricule : 2770763220829^^^\u00261.2.250.1.213.1.4.10\u0026ISO^NH Vérifier la taille de l’INS, il manque généralement la clé. La bonne valeur de cet INS pour les transactions DMP est : 277076322082910\nCas de l’identifiantNomenclature : 277076322082910^^^\u00261.2.250.1.213.1.4.8\u0026ISO^NH Ici c’est l’OID de production (1.2.250.1.213.1.4.8) qui est utilisé pour un INS de test (Nessi Ruth). En effet, le téléservice INSi retourne à tort un OID de production pour les patients de l’environnement de qualification.\nLa bonne pratique est de conserver l’identifiantNomenclature retourner par le téleservice INS, exception faite de ceux retournés par l’environnement de qualification.\nRem : Cas particuler de Nathalie Desmaux qui a un OID de démonstration : ‘1.2.250.1.213.1.4.11’\nQuel statut d’INS pour l’alimentation DMP ? Une INS qualifiée sera nécessaire pour l’alimentation du DMP. A défaut, le DMP ne pourra pas être alimenté.\nSource : INS_Guide implementation_V2_0.pdf\nAlimentation Le code ‘DOCPAT03’ ne fait pas partie du domaine d’affinité Ces types de documents sont réservés aux patients, et ne doivent pas être utilisés par un LPS\nComme le dit l’exigence EX_2.1-1010 :\nLes documents d’expression personnelle du patient ne peuvent pas être créés via l’interface LPS :\nclassCode = 90, et les typeCode associés, et/ou les typeCode commençant par « DOCPAT ». Le document “Données de remboursement” ne peut être alimenté que par l’assurance maladie. Il ne peut donc pas être créé via l’interface LPS (classCode = 60, et typeCode = REMB). Le document « historique de vaccinations » est unique par DMP. Il est créé automatiquement par le SI DMP lors de l’ajout d’une première vaccination (soit via WebPS, soit lors de l’alimentation d’une première note de vaccination en LPS, soit par le patient lui-même via « Mon espace santé » ou Web Patient ou application mobile pour les DMP non associés à « Mon espace santé »). Il ne peut pas être créé via l’interface LPS (classCode = 52, et typeCode = 11369-6). Un fonctionnement spécifique est défini dans le chapitre 6.1. Remplacement note de vaccination : « La date et le code CIS de cette vaccination sont deja presents dans le CVA complet” errorCode=“DMPFragmentCVAError” », Le DMP n’accepte pas 2 vaccins identiques à la même date (code CIS + date doivent être unique dans le carnet de vaccination).\nLorsque vous souhaitez remplacer une note de vaccination, le vaccin doit avoir le même identifiant pour qu’il puisse être mis à jour dans le carnet de vaccination.\nPour changer le numéro de lot ou la date de vaccination : la vaccination (pas la note de vaccination) doit avoir le même identifiant unique, ceci est indiqué dans l’exigence EX_2.1-2030.\nEX_2.1-2030\nLes identifiants des vaccinations (i.e. identifiant des entry/substanceAdministration) dans les notes de vaccination doivent être générés de manière « mondialement unique », via un UUID (voir https://fr.wikipedia.org/wiki/Universally_unique_identifier) dans l’attribut id/@root seulement.\nCet identifiant sert ensuite à retrouver la vaccination dans l’historique de vaccinations lors de sa mise à jour par le SI DMP. Il ne doit donc jamais rentrer en conflit avec l’identifiant d’une autre vaccination.\nQuel est le lien entre numéro de version XDS et CDA ? Réponse du SI-DMP (via le centre-de-service@sesam-vitale.fr)\nLa version des métadonnées XDS (fiche) n’est pas liée à la version d’un document (CDA). Un document peut avoir plusieurs version de métadonnée (fiche).\nLe SI DMP positionne la première version de métadonnées à 1, puis les incrémente lors de changement de confidentialité (TD3.3)\nLe remplacement d’un document par un autre (versionning) ne changera pas la version des métadonnées XDS de la nouvelle version du document (la nouvelle version des métadonnées du document remplaçant prendra donc la versionInfo/versionName=1 puisque soumis comme un nouveau document en remplacement d’un autre ; la version dans le CDA devrait par contre évoluer s’il s’agit bien du versionning d’un même document)\nNote Vaccination : ApproachSiteCode ne fait pas partie du jeu de valeurs Réponse MOA DMP :\nCe sujet est bien en visibilité du DMP, mais nous n’avons pas encore de date de résolution.\nAu vu du contexte particulier dans lequel nous sommes actuellement, cela ne pourra en tout cas pas être corrigé avant le second trimestre 2025 au plus tôt.\nEn attendant, nous vous invitons à n’utiliser que les régions connues aujourd’hui du DMP : Fesse, Deltoïde gauche, Deltoïde droit, Cuisse gauche, Cuisse droite.\nSi vous voulez renseigner une autre région présente dans le JDV_ImmunizationApproachSiteCode_CISIS, celle-ci sera refusée par le DMP aujourd’hui. Nous vous invitons alors à ne pas alimenter la région dans ce cas jusqu’à résolution côté DMP.\n","categories":"","description":"Foire aux questions intégrations DMP\n","excerpt":"Foire aux questions intégrations DMP\n","ref":"/5.x/dmp/howtos/faq/","tags":"","title":"FAQ"},{"body":"“(desir_620, Le certificat de la carte PS est erroné. )” Vérifier que vous êtes sur le bon environnement (deux environnements distincts entre les cps et p12 ainsi que pour les environnements de qualification et de production)\nDes erreurs insi_101 et insi_102 apparaissent sur les environnement de qualification Les environnements de qualification ne gèrent pas correctement les recherches sans résultat. Plus d’information : /5.x/insi/howtos/testCNDA\nÀ quoi correspond l’identifiant de facturation, obligatoire dans le contexte des requêtes ? Il s’agit du numero FINESS géographique de la structure ou son SIRET, information que l’on ne peut déduire de la carte CPS\nL’identifiant de facturation est donc pour les établissements le numéro FINESS géographique si connu sinon numéro SIRET. Pour les autres cet identifiant est le numéro AM (Assurance Maladie) de facturation. Ainsi un médecin employé dans un hôpital se référencera le numéro de son établissement.\nQuels sont les différents statuts d’identité ? Source : INS_Guide implementation_V2_0.pdf\nDifférencier un INS_NIR d’un INS_NIA Pour distinguer un INS NIA des autres, il suffit de s’intéresser à l’identifiant système du MatriculeINS remonté par le Téléservice INS :\nCet identifiantSysteme peut prendre toutes ces valeurs :https://bitbucket.org/devbox-sante/devbox-sante-apis/src/master/insi-api/src/main/java/fr/devboxsante/insi/model/INSAutorite.java\nPour des explications fonctionnelles de l’ANS :\nhttps://esante.gouv.fr/sites/default/files/media_entity/documents/asip_referentiel_identifiant_national_sante-liste-des-oid-des-autorites-d-affectation-des-ins_v0.1.pdf ou encore https://mos.esante.gouv.fr/8.html#_e59c299a-907b-448a-873b-4ac4e23ef24c Webinaire Authentification par certificat logiciel du 16 novembre 2021 Reprises des questions réponses du webinaire “Développer l’authentification TLS mutuelle par certificat logiciel pour INSi” - mardi 16 novembre 2021 - 14h30 :\nPourriez-vous préciser les cas d’usage des certificats INSI-MANU et INSI-AUTO ? Le certificat INSi-MANU permet aux personnes physiques ne disposant pas forcément de CPx nominatives et utilisant des applications de leur structure d’accéder au téléservice INS en mode manuel. Le certificat INSi-AUTO permet aux processus automatiques mis en œuvre par une structure d’accéder au téléservice INSi en mode automatique.\nDans le cadre d’une application en mode SAAS partagée par plusieurs établissements, peut-on utiliser un même certificat en tant que logiciel ? Ou doit-on avoir un certificat pour chaque organisation ? : Vous devez avoir un certificat pour chaque établissement (si le FINESS géographique est différent entre les établissements).\nDans le cadre d’un Organisme Gestionnaire, doit-on utiliser le FINESS de l’établissement ou celui du siège ? Pour un Organisme Gestionnaire ou toute autre structure gérant plusieurs établissements, c’est le FINESS géographique de l’établissement réalisant l’appel au téléservice qui doit être véhiculé dans le flux INSi.\nPeut-on télécharger le certificat P12 depuis le site du CNDA avec une carte CPx ? Le certificat P12 est à télécharger sur le site web de l’ANS. Vous trouverez plus d’informations sur la procédure de commande des certificats dans la PDT-INF-736 du package V4 de INSi, disponible sur l’Espace Industriels (rubrique Téléservice INSi).\nA qui adresser les questions techniques lors de blocages dans l’utilisation des certificats ? Contactez directement le centre de services du GIE SESAM-Vitale (centre-deservice@sesam-vitale.fr ou 02.43.57.42.88).\nQuelle est la procédure de délégation de commande de certificat auprès de l’éditeur ? La procédure de délégation de commande de certificat est décrite dans le document suivant : https://esante.gouv.fr/sites/default/files/media_entity/documents/ans_procedure_commande_cl_tls_insi_structures_liberales_vf.pdf Etape 2\nLe formulaire de déclaration des administrateurs techniques autorisés à commander des certificats logiciels - F413 est disponible à cette adresse : https://esante.gouv.fr/documents/413\n","categories":"","description":"Compilation des questions au sujet de l'intégration INSi \n","excerpt":"Compilation des questions au sujet de l'intégration INSi \n","ref":"/5.x/insi/howtos/faq/","tags":"","title":"Foire aux questions INSi"},{"body":"Quelle valeur doit prendre le code Spécialité du ApCVRequestContext ? le codeSpecialiteAMO fait référence à la table des spécialité AM : https://mos.esante.gouv.fr/NOS/TRE_G100-Specialite-AM/TRE_G100-Specialite-AM.pdf .\n/** * EF_ApCVsi01 _E21.2 La spécialité est nécessaire pour connaitre la validité du contexte ApCV. Elle vient du SI-PS. * * ELle peut être récupérée de la carte CPS. */ @NosCodeValid(nomenclature = NosNomenclature.TRE_G100_Specialite_AM) private String specialite; ","categories":"","description":"Compilation des questions au sujet de l'intégration du téléservice ApCV \n","excerpt":"Compilation des questions au sujet de l'intégration du téléservice …","ref":"/6.x/connecteurs/apcv/howtos/faq/","tags":"","title":"Foire aux questions Application Carte Vitale"},{"body":"Authentifications PKIX path building failed Si dans les traces voux voyez :\nsun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target C’est que vous avez un problème de TrustStore. Il faut configurer la gamme de confiance dans la DevBox-Santé DMP en accord avec le certificat serveur présenté par l’environnement DMP.\n[Indirecte] Erreur d’authentification de la personne morale Cette erreur arrive quand l’identifiant de structure utilisée dans le contexte d’appel est incohérent avec celui du certificat :\nPour connaître l’identifiant du certificat P12 utilisé, vous pouvez utiliser l’endpoint /dmp/authenticationContext avec un body vide :\nÀ l’aide de ces deux impressions écrans on voit bien que les deux identifiants structures sont différents. Comme ces deux identifiants sont deux identifiants Finess, la DevBox-sante ne peut pas ignorer l’identifiant passé dans le contexte au profit de celui du certificat p12 car cela perment de prendre en charge le mode EJ/EG\nLes logs de la devbox-santé peuvent aider à diagnostiquer votre problème :\nP12AuthenticationContextHandler : La structure (1.2.250.1.71.4.2.2.10B0156832) du contexte de Type FINESS est un possible FINESS_EG P12AuthenticationContextHandler : Extraction du certificat les infos de structure sante pour id 10B0130811 de type FINESS P12AuthenticationContextHandler : Extraction du certificat le nom de la structure : CENTRE DE SANTE RPPS13081 P12AuthenticationContextHandler : Structure du contexte (1.2.250.1.71.4.2.2.10B0156832) est diff?rente de la structure du certificat (1.2.250.1.71.4.2.2.10B0130811) P12AuthenticationContextHandler : mode EJ/EG (10B0130811/10B0156832) P12AuthenticationContextHandler : La structure (1.2.250.1.71.4.2.2.10B0130811) du certificat de type (FINESS) est un possible FINESS_EJ, mise ? jour des type et ajout de la structure du certificat dans la liste. Aucun AuthorInstitution ne correspond à l’utilisateur du VIHF [Authentification Indirecte] En authentification indirecte, La DevBox-Santé DMP récupère les informations de la structure dans le certificat P12 et surcharge avec ces informations la structure du contexte DMP de la requête.\nCette surcharge permet de respecter l’exigence de respecter le format du champ /Assertion/Issuer du VIHF défini dans “Volet Transport Synchrone pour Client Lourd” du CI-SIS de l’ANS, mais aussi, de respecter le champ Identifiant_Structure du VIHF défini dans le guide d’intégration du DMP (SEL-MP-037).\nLa structure du LegalAuthenticator du document doit correspondre à la structure du contexte qui est déduite du certificat P12. Il est donc conseillé de ne pas renseigner le legalAuthenticator pour un document afin de le récupérer automatiquement du contexte.\nComment distinguer les FINESS EJ des EG en test ? En test, les numéros Finess des EJ (Établissements Juridiques) commencent généralement par “11B” tandis que les EG (Établissements Géographiques) par “10B” (par exemple votre FINESS 10B0309019).\n“La carte utilisée est une carte de professionnel en formation (CPF), une erreur a été détectée \" Les professionnels en formation ne possède pas d’informations sur leur carte CPF concernant leur situation d’exercice. Il faut donc surcharger des informations dans le contexte:\nauthor.structureSante.idNational (ex. “10B0156832”) author.specialite (ex. “G15_10/SM26”) author.secteurActivity (ex. “SA05”) CPE de test retourne une structure introuvable Problème connu, il faut demander au centre de service de rajouter la structure dans leur environnement.\nCPE de test retourne un message d’erreur PS NON_ELLIGIBLE (carte commandé en 2023) Effectivement c’est un problème connu du CNDA. Le sujet est en cours côté ANS. Il est pour le moment inutile de recommander des CPE qui auront le même problème (une date de fin d’activité caduque en base de données).\nIdentifiant Patient Le champ Resource_id est incorrect : Cas de la taille du matricule : 2770763220829^^^\u00261.2.250.1.213.1.4.10\u0026ISO^NH Vérifier la taille de l’INS, il manque généralement la clé. La bonne valeur de cet INS pour les transactions DMP est : 277076322082910\nCas de l’identifiantNomenclature : 277076322082910^^^\u00261.2.250.1.213.1.4.8\u0026ISO^NH Ici c’est l’OID de production (1.2.250.1.213.1.4.8) qui est utilisé pour un INS de test (Nessi Ruth). En effet, le téléservice INSi retourne à tort un OID de production pour les patients de l’environnement de qualification.\nLa bonne pratique est de conserver l’identifiantNomenclature retourner par le téleservice INS, exception faite de ceux retournés par l’environnement de qualification.\nRem : Cas particuler de Nathalie Desmaux qui a un OID de démonstration : ‘1.2.250.1.213.1.4.11’\nQuel statut d’INS pour l’alimentation DMP ? Une INS qualifiée sera nécessaire pour l’alimentation du DMP. A défaut, le DMP ne pourra pas être alimenté.\nSource : INS_Guide implementation_V2_0.pdf\nAlimentation Le code ‘DOCPAT03’ ne fait pas partie du domaine d’affinité Ces types de documents sont réservés aux patients, et ne doivent pas être utilisés par un LPS\nComme le dit l’exigence EX_2.1-1010 :\nLes documents d’expression personnelle du patient ne peuvent pas être créés via l’interface LPS :\nclassCode = 90, et les typeCode associés, et/ou les typeCode commençant par « DOCPAT ». Le document “Données de remboursement” ne peut être alimenté que par l’assurance maladie. Il ne peut donc pas être créé via l’interface LPS (classCode = 60, et typeCode = REMB). Le document « historique de vaccinations » est unique par DMP. Il est créé automatiquement par le SI DMP lors de l’ajout d’une première vaccination (soit via WebPS, soit lors de l’alimentation d’une première note de vaccination en LPS, soit par le patient lui-même via « Mon espace santé » ou Web Patient ou application mobile pour les DMP non associés à « Mon espace santé »). Il ne peut pas être créé via l’interface LPS (classCode = 52, et typeCode = 11369-6). Un fonctionnement spécifique est défini dans le chapitre 6.1. Quelles actions sont possibles en cas d’opposition à l’alimentation ? En cas d’opposition à l’alimentation du DMP d’un patient le LPS doit permettre de supprimer un document que le PS à précédemment alimenté.\nPour résumer, en cas d’opposition à l’alimentation, votre LPS :\nDoit empêcher de nouveaux envois, Doit empêcher les modifications de documents précédemment déposés (remplacement, td33a,b,d), Doit permettre de supprimer un document précédemment déposé (td33c) Remplacement note de vaccination : « La date et le code CIS de cette vaccination sont deja presents dans le CVA complet” errorCode=“DMPFragmentCVAError” », Le DMP n’accepte pas 2 vaccins identiques à la même date (code CIS + date doivent être unique dans le carnet de vaccination).\nLorsque vous souhaitez remplacer une note de vaccination, le vaccin doit avoir le même identifiant pour qu’il puisse être mis à jour dans le carnet de vaccination.\nPour changer le numéro de lot ou la date de vaccination : la vaccination (pas la note de vaccination) doit avoir le même identifiant unique, ceci est indiqué dans l’exigence EX_2.1-2030.\nEX_2.1-2030\nLes identifiants des vaccinations (i.e. identifiant des entry/substanceAdministration) dans les notes de vaccination doivent être générés de manière « mondialement unique », via un UUID (voir https://fr.wikipedia.org/wiki/Universally_unique_identifier) dans l’attribut id/@root seulement.\nCet identifiant sert ensuite à retrouver la vaccination dans l’historique de vaccinations lors de sa mise à jour par le SI DMP. Il ne doit donc jamais rentrer en conflit avec l’identifiant d’une autre vaccination.\nQuel est le lien entre numéro de version XDS et CDA ? Réponse du SI-DMP (via le centre-de-service@sesam-vitale.fr)\nLa version des métadonnées XDS (fiche) n’est pas liée à la version d’un document (CDA). Un document peut avoir plusieurs version de métadonnée (fiche).\nLe SI DMP positionne la première version de métadonnées à 1, puis les incrémente lors de changement de confidentialité (TD3.3)\nLe remplacement d’un document par un autre (versionning) ne changera pas la version des métadonnées XDS de la nouvelle version du document (la nouvelle version des métadonnées du document remplaçant prendra donc la versionInfo/versionName=1 puisque soumis comme un nouveau document en remplacement d’un autre ; la version dans le CDA devrait par contre évoluer s’il s’agit bien du versionning d’un même document)\nNote Vaccination : ApproachSiteCode ne fait pas partie du jeu de valeurs Réponse MOA DMP :\nCe sujet est bien en visibilité du DMP, mais nous n’avons pas encore de date de résolution.\nAu vu du contexte particulier dans lequel nous sommes actuellement, cela ne pourra en tout cas pas être corrigé avant le second trimestre 2025 au plus tôt.\nEn attendant, nous vous invitons à n’utiliser que les régions connues aujourd’hui du DMP : Fesse, Deltoïde gauche, Deltoïde droit, Cuisse gauche, Cuisse droite.\nSi vous voulez renseigner une autre région présente dans le JDV_ImmunizationApproachSiteCode_CISIS, celle-ci sera refusée par le DMP aujourd’hui. Nous vous invitons alors à ne pas alimenter la région dans ce cas jusqu’à résolution côté DMP.\nversionNumber et remplacement Les recherches (TD31) remontent un versionNumber erronné en effet, la MOA du SI DMP :\nLa version des métadonnées XDS (fiche) n’est pas liée à la version d’un document (CDA). Un document peut avoir plusieurs version de métadonnée (fiche).\nLe SI DMP positionne la première version de métadonnées à 1, puis les incrémente lors de changement de confidentialité (TD3.3)\nLe remplacement d’un document par un autre (versionning) ne changera pas la version des métadonnées XDS de la nouvelle version du document (la nouvelle version des métadonnées du document remplaçant prendra donc la versionInfo/versionName=1 puisque soumis comme un nouveau document en remplacement d’un autre ; la version dans le CDA devrait par contre évoluer s’il s’agit bien du versionning d’un même document)\nLe numero de version du document qui fait foi est celui contenu dans le CDA et pas dans les metadonnées XDS remontées par le DMP.\nRecherche Du bon usage des critères de recherche sur serviceStartDateTime serviceStopDateTime le serviceStartDateTime d’un document c’est le début de l’acte qui peut durer plusieurs heures, minutes, jours … C’est pourquoi, il y a un deuxième champ pour un document, serviceStopDateTime qui correspond à la fin de l’acte. Ce sont deux informations que vous donnez lors de la création du document, sachant que la première est obligatoire, et la deuxième doit être supérieure à la première si elle existe.\nVous pouvez faire des recherches en vous intéresssant à l’une ou/et l’autre de ces deux informations et celà de deux manières différentes du(from , \u003e) au (to, \u003c) comme dans l’exemple de cette interface .\nPour qu’un document soit retrouvé avec les critères de recherche données, par exemple :\nserviceStartDateTimeFrom = 20251001000000 serviceStartDateTimeTo = 20251002000000\nIl faut que le document dont le début de l’acte (serviceStartDateTime) soit après le premier critère et avant le deuxième critère, c’est à dire être daté du 01/10/2025 à n’importe quelle heure en UTC\nPour plus d’info sur la logique de recherche dans XDS utlilisée dans le DMP : https://profiles.ihe.net/ITI/TF/Volume2/ITI-18.html#3.18.4.1 https://profiles.ihe.net/ITI/TF/Volume2/ITI-18.html#3.18.4.1.2.3.7.1\n","categories":"","description":"Foire aux questions intégrations DMP\n","excerpt":"Foire aux questions intégrations DMP\n","ref":"/6.x/connecteurs/dmp/howtos/faq/","tags":"","title":"FAQ"},{"body":"Quel est le workflow à mettre en place : Quels sont les différents statuts d’identité ? Source : INS_Guide implementation_V2_0.pdf\n“(desir_620, Le certificat de la carte PS est erroné. )” Vérifier que vous êtes sur le bon environnement (deux environnements distincts entre les cps et p12 ainsi que pour les environnements de qualification et de production)\nDes erreurs insi_101 et insi_102 apparaissent sur les environnement de qualification Les environnements de qualification ne gèrent pas correctement les recherches sans résultat. Plus d’information : /6.x/connecteurs/insi/howtos/testCNDA\nÀ quoi correspond l’identifiant de facturation, obligatoire dans le contexte des requêtes ? Il s’agit du numero FINESS géographique de la structure ou son SIRET, information que l’on ne peut déduire de la carte CPS\nL’identifiant de facturation est donc pour les établissements le numéro FINESS géographique si connu sinon numéro SIRET. Pour les autres cet identifiant est le numéro AM (Assurance Maladie) de facturation. Ainsi un médecin employé dans un hôpital se référencera le numéro de son établissement.\n\" La structure d’activité n’est pas spécifiée dans le contexte.\" il faut renseigner l’identifiantNational de la structureSanté dans le contexte. Ce message peut apparaître dans le cas ou la carte CPS contient plusieurs structure d’activité. Il faut donc aller chercher sur la carte l’`activitesPs.structIdNat’ qui correspond à la situation lors de l’appel INSi.\nRecherche de date de naissance dans la carte vitale : dateEnCarte ou date Lors de la lecture carte vitale, certaines données d’identités ne contiennent que la dateEnCarte. Or dans le “Manuel fonctionnel v.1.6 - API de Lecture Vitale 6.3x” en page 11 on peut lire :\nLe format et la taille de la date sont différents. Mais quoi qu’il en soit, pour l’appel INSi il faut récupérer la date non nulle en l’état.\nQuand c’est la DevBox-Santé INSi qui formate la INS1Requete, elle va chercher en première intention la dateEnCarte puis la date.\nDifférencier un INS_NIR d’un INS_NIA Pour distinguer un INS NIA des autres, il suffit de s’intéresser à l’identifiant système du MatriculeINS remonté par le Téléservice INS :\nCet identifiantSysteme peut prendre toutes ces valeurs :https://bitbucket.org/devbox-sante/devbox-sante-apis/src/master/insi-api/src/main/java/fr/devboxsante/insi/model/INSAutorite.java\nPour des explications fonctionnelles de l’ANS :\nhttps://esante.gouv.fr/sites/default/files/media_entity/documents/asip_referentiel_identifiant_national_sante-liste-des-oid-des-autorites-d-affectation-des-ins_v0.1.pdf ou encore https://mos.esante.gouv.fr/8.html#_e59c299a-907b-448a-873b-4ac4e23ef24c Qualification optimisée de l’INS en médecine de ville –\n","categories":"","description":"Compilation des questions au sujet de l'intégration INSi \n","excerpt":"Compilation des questions au sujet de l'intégration INSi \n","ref":"/6.x/connecteurs/insi/howtos/faq/","tags":"","title":"Foire aux questions INSi"},{"body":"Quels sont les différents types de BAL (Boîtes Aux Lettres) ? source : https://esante.gouv.fr/sites/default/files/media_entity/documents/fiche-pratique---tout-savoir-sur-les-boites-aux-lettres-mss.pdf\n","categories":"","description":"Toutes les questions sur la MS-Santé que l'on se pose ...\n","excerpt":"Toutes les questions sur la MS-Santé que l'on se pose ...\n","ref":"/5.x/ms-sante/howtos/faq/","tags":"","title":"Foire Aux Questions"},{"body":"Quels sont les différents types de BAL (Boîtes Aux Lettres) ? source : https://esante.gouv.fr/sites/default/files/media_entity/documents/fiche-pratique---tout-savoir-sur-les-boites-aux-lettres-mss.pdf\nComment se raccorder à ProSanté-Connect ? Voici le lien vers le dernier webinaire de l’ANS : https://industriels.esante.gouv.fr/webinaires/comment-raccorder-pro-sante-connect\n","categories":"","description":"Toutes les questions sur la MS-Santé que l'on se pose ...\n","excerpt":"Toutes les questions sur la MS-Santé que l'on se pose ...\n","ref":"/6.x/connecteurs/ms-sante/howtos/faq/","tags":"","title":"Foire Aux Questions"},{"body":"Comment déterminer la fin de validité d’une carte CPS ? Pour déterminer la fin de validité de la carte CPS appuyez-vous sur la dateFinVal remontée des informations de la carte CPS.\n","categories":"","description":"Foire aux question CPS\n","excerpt":"Foire aux question CPS\n","ref":"/5.x/cps/howtos/faq/","tags":"","title":"FAQ"},{"body":"Comment valider mon installation pour un usage web de ma carte CPS ? https://diagcps.eservices.esante.gouv.fr/diagcps/lecteur.html\nComment déterminer la fin de validité d’une carte CPS ? Pour déterminer la fin de validité de la carte CPS appuyez-vous sur la dateFinVal remontée des informations de la carte CPS.\n","categories":"","description":"Foire aux question CPS\n","excerpt":"Foire aux question CPS\n","ref":"/6.x/composants/cps/howtos/faq/","tags":"","title":"FAQ"},{"body":" DevBox-santé® Toute la documentation technique des connecteurs !\nDMP INSi MS-Santé ... Des Plateformes !\nPFI Proxy eSanté Installation des différents composants de la DevBox-santé® !\nInstaller ","categories":"","description":"","excerpt":" DevBox-santé® Toute la documentation technique des connecteurs !\nDMP …","ref":"/","tags":"","title":"Devbox-santé"},{"body":"","categories":"","description":"Version 6 de la devbox-santé\n","excerpt":"Version 6 de la devbox-santé\n","ref":"/6.x/","tags":"","title":"DevBox-santé 6.x"},{"body":" Bientôt disponible La DevBox-santé ePresc permet de simplifier l’intégration des téléservices d’ordonnance numérique: https://industriels.sesam-vitale.fr/group/e-prescription\nTout d’abord, en s’appuyant sur les différents mode d’authentification sécurisée de la DevBox-Santé\ncomme la CPS avec le composant DevBox-Santé CPS comme la eCPS et ProSanté-Connect avec la plateforme DevBox-Santé eProxy Mais aussi en présentant les différents téléservices sous la forme d’une API cliente simplifiée et accessible en java ou en REST dont le modèle (en cours de finalisation) est disponible sur le projet open-source : https://bitbucket.org/devbox-sante/devbox-sante-apis/src/master/e-presc-api/\nEn java :\n/** * EprescClient est le client des différents WebServices de l'ordonnance * numérique. * */ public interface EPrescriptionClient { /** * SEL-SFG-023 : EF_EP02.02, EF_EP403.02 */ String generateIdentifiantUnique(); /** * SEL_MP_040 : Enregistrer une e-prescription */ Ep4Response creerEPrescription(Ep4Request requete); /** * SEL_MP_032 : Consulter une e-prescription */ Ep3Response consulterEPrescription(Ep3Request requete); /** * SEL_MP_031 : rechercher les e-prescriptions */ Ep2Response rechercherEPrescriptions(Ep2Request requete); /** * SEL_MP_029 : ligne Transmettre les données d'exécution des e-prescriptions */ Ep1Response transmettreExecutionEPrescription(Ep1Request requete); /** * SEL_MP_029 : ligne Transmettre les données d'exécution des e-prescriptions */ Ep6Response facturerEPrescription(Ep6Request requete); byte[] generateCode2D(EpCode2D codeInfo); } En REST :\nPrésentation du modèle Elle prend en charge la validation des différents champs requis du modèle, en utilisant intensément le framework de validation de Jakarta et cela en fonction du contexte des différents appels :\nComme par exemple :\npublic class EpPatient { /** * EF_EP04.01 (EF_INS25_01) * * */ @NotEmpty(groups = { RequiredFor.WS_EP4_CreerEPrescription.Request.class, RequiredFor.EP05_Code2D.class, ... }) @Size(max = 100) private String nomFamille; Elle vous simplifie la gestion des différentes lignes de prescription en utilisant un modéle d’héritage approprié :\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, include = JsonTypeInfo.As.PROPERTY, property = \"eprescType\", defaultImpl = Medicament.class) @JsonSubTypes({ @JsonSubTypes.Type(value = Medicament.class, name = \"medicament\"), @JsonSubTypes.Type(value = DispositifMedical.class, name = \"dispositifMedical\"), @JsonSubTypes.Type(value = ActeKinesitherapie.class, name = \"acteKinesitherapie\"), @JsonSubTypes.Type(value = ActeBiologieMedicale.class, name = \"acteBiologieMedicale\"), @JsonSubTypes.Type(value = ActeInfirmier.class, name = \"acteInfirmier\"), @JsonSubTypes.Type(value = ActePedicurie.class, name = \"actePedicurie\"), @JsonSubTypes.Type(value = ActeOrthophonie.class, name = \"acteOrthophonie\"), @JsonSubTypes.Type(value = ActeOrthoptie.class, name = \"acteOrthoptie\"),}) public abstract class EpLigne { ... La terminologie du modéle utilise autant que se peut le MOS (Modéle des Objets de Santé) et celle utilisée dans les différents guide d’intégrations. Même les règles sont reprises lors de la validation du modèle :\n@AssertTrue(message = RequiredFor.WS_EP3_ConsulterEPrescription.Request.EF_EP3_E303_03.REGLE) private boolean EF_EP3_E303_03_checked() { return context.getIdentifiantFacturation() != null || (professionnel.getStructure() != null \u0026\u0026 IdNatChecker.FOR_STRUCTURE_FINESS.check(professionnel.getStructure().getFiness())); } ... interface EF_EP3_E303_03 { String LIBELLE = \"Numéro du PS\"; String REGLE = LIBELLE + \"\"\" Numéro AM ou FINESS du Professionnel de Santé émetteur du message de consultation de la e-prescription. Un des deux numéros (AM ou FINESS) doit être renseigné : \"\"\"; } Code 2D Vous pouvez également générer à partir du modèle le code2D de la prescription.\npublic interface EPrescriptionClient { byte[] generateCode2D(EpCode2D codeInfo); public class EpCode2D { @NotNull private String identifiant; @NotNull @Valid private EpPatient patient; @Valid private Professionnel prescripteur; private String rppsRemplacant; } Impression prescription Travaux prévus À terme la possibilité de générer les prescriptions PDF pourra se faire directement depuis les APIs. Et générer à partir du modèle de Eprescription une prescription imprimable au format définit dans les SEL-SFG-023 : Ce document de prescription peut être envoyé dans le DMP grace au composant DevBox-Santé DMP.\n","categories":"","description":"![](image.png) Mise en œuvre de l'Ordonnance numérique\n","excerpt":"![](image.png) Mise en œuvre de l'Ordonnance numérique\n","ref":"/6.x/connecteurs/epresc/","tags":"","title":"ePrescription"},{"body":"Ceci est la section blog de la DevBox-Santé. Elle contient des articles sur la DevBox-Santé ainsi que des informations sur les différentes livraisons des composants/connecteurs de la DevBox-santé.\n","categories":"","description":"","excerpt":"Ceci est la section blog de la DevBox-Santé. Elle contient des …","ref":"/blog/","tags":"","title":"DevBox-Santé Blog"},{"body":"L’objectif de cet article est de démontrer une installation de la DevBox-Santé PFI et valider cette installation en utilisant un autre composant le client DevBox-Santé PFI-Connect.\nVoici le schéma final de ce qui sera installé :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define PFI_COLOR #2f78cc !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 left to right direction component \"Logiciel Intégrateur DPI\" as dpi card \"DevBox-Santé for DPI\" as devbox DEVBOX_COLOR { [DevBox-Santé PFI-connect] as dbx_pfic PFI_COLOR [DevBox-Santé DMP (consult)] as dbx_dmp DMP_COLOR [DevBox-Santé INS] as dbx_ins INS_COLOR } card \"Réseau Docker PFI\" as docker DEVBOX_COLOR{ component \"Container DevBox-Santé PFI\" as pfi PFI_COLOR { [DevBox-Santé DMP] as pfi_dmp DMP_COLOR [DevBox-Santé MSSanté] as pfi_mss MSS_COLOR } database \"MongoDB\" as pfi_db component \"Clamav (antivirus)\" as antivir component \"Back-Office Web\" as bo PFI_COLOR } cloud \"**DMP**\" as DMP cloud \"**BAL MSSanté**\" as OperateurMSS pfi --\u003e antivir bo -\u003e pfi_db pfi --\u003e pfi_db dpi --\u003e dbx_pfic : Http REST dbx_pfic \u003c--\u003e pfi : hl7 MDM/ORU dbx_dmp \u003c--\u003e DMP : http consult pfi_dmp \u003c--\u003e DMP : Http SOAP pfi_mss \u003c--\u003e OperateurMSS : Envoi/Réception MSSanté (SMTP/IMAP en mTLS) DevBox-Santé PFI On va tout d’abord s’intéresser au grand carré bleu, la PFI qui contient 4 composants :\nUne base de données Mongo Un antivirus clamav Le serveur devbox-sante-pfi qui contient l’orchestration des messages HL7 reçus et émis et qui permet l’accès au DMP ainsi qu’aux différents opérateurs MS-Santé L’application web de Back-Office permettant le suivi du serveur pfi. Installation avec Docker-Compose Il suffit donc de composer 4 images docker sur un même réseau privé pfi_network :\nname: devboxsante-pfi-file-default networks: - pfi_network services: clamav: image: clamav/clamav:1.5.1 container_name: pfi-clamav networks: - pfi_network mongodb: image: mongo:8 container_name: pfi-mongodb networks: - pfi_network volumes: - C:/dbx/pfi/mongodb:/data/db # contient les fichiers de la base pour sauvegarde pfi: image: devboxsante/devboxsante-pfi-server:dev container_name: pfi-server networks: - pfi_network volumes: - C:/dbx/pfi/server/config:/config # contient la config springframework (application.yml) - C:/dbx/pfi/shared:/shared # volume partagé avec pfi-connect de la devbox-sante environment: JAVA_OPTS: \"-Xms1024M -Xmx1536M\" MONGO_DB_URI: \"mongodb://mongodb:27017/pfi\" DEVBOX_LM_CLIENT: ${DEVBOX_LM_CLIENT} DEVBOX_LM_TOKEN: ${DEVBOX_LM_TOKEN} ... back-office: image: devboxsante/devboxsante-pfi-backoffice:dev container_name: pfi-backoffice depends_on: - mongodb ports: - \"8282:8282\" networks: - pfi_network environment: MONGO_DB_URI: \"mongodb://mongodb:27017/pfi\" Pour les deux premiers containers, c’est relativement standard.\nUn container clamav sur une version récente et un container mongodb pour lequel on spécifie un volume pour faciliter les sauvegardes. Arrêtons nous sur le quatrième container le back-office:\nback-office: ... container_name: pfi-backoffice ports: - \"8282:8282\" networks: - pfi_network environment: MONGO_DB_URI: \"mongodb://mongodb:27017/pfi\" Ici, nous exposons le port 8282 pour que les administrateurs puissent y accéder, et une variable d’environnement pour l’accès à la base de données mongo sur le réseau interne docker.\nEt finalement le plus important le troisième pfi-server :\npfi: container_name: pfi-server ... volumes: - C:/dbx/pfi/server/config:/config # contient la config springframework (application.yml) - C:/dbx/pfi/shared:/shared # volume partagé avec pfi-connect de la devbox-sante Outre les variables d’environnements, nous spécifions deux volumes.\nLe premier /config pour pouvoir externaliser la configuration de la pfi. Le deuxième /shared qui va nous permettre plus tard de partager les fichiers hl7 dans le cas où on utilise le protocol file dans une intermediation avec le client de la PFI. Ce qui sera le cas dans notre démonstration. Configuration de pfi-server Dans le volume /config préalablement défini, nous allons déposer le fichier application.yml de configuration Spring-boot (c’est à dire en local C:\\dbx\\pfi\\server\\config) :\nVoici le contenu du fichier application.yml :\n# permet de définir le niveau de trace des différents composants de la pfi logging: level: fr.devboxsante: info org.apache.cxf.services: debug org.apache.hc.client5.http: info # Les profils nécessaires pour le bon fonctionnement de la PFI spring.profiles: active: - pfi - lm - dmp - mss - antivirus - vague1 # le profil suivant va permettre de configurer l'intermédiation à mettre en place - intermediation-file devbox-sante: pfi: tasks: # surcharge du cron afin de ne pas le déclencher trop fréquemment pour nos tests cron: ${DEVBOX_PFI_TASKS_CRON:0 0 */1 * * *} # désactivation des validator pour accélérer les tests, à remettre en production. dmp: cda.validator.enable: false core.validator.enable: false core.idNational.check: false Une fois la PFI configurée, il faut rajouter une intermédiation. Pour cette démonstration, nous allons nous intéresser à un partage de fichier hl7 entre la pfi et un client (pfi-connect).\nNous rajoutons un fichier application-intermediation-file.yml dans le volume de /config (remarque : intermediation-file correspond au dernier profil dans le fichier application.yml).\ndevbox-sante: pfi: intermediations: file-default: systemeSource: nom: DevBox-Sante PFI version: 1 structureSanteSource: idNational: DEVBOX_PFI_STRUCTURE_SANTE_SOURCE_ID_NATIONAL nom: DEVBOX_PFI_STRUCTURE_SANTE_SOURCE_NOM systemeDestinataire: nom: DEVBOX_PFI_SYSTEME_DESTINATAIRE_NOM structureSanteDestinataire: idNational: DEVBOX_PFI_STRUCTURE_SANTE_DESTINAIRE_ID_NATIONAL nom: DEVBOX_PFI_STRUCTURE_SANTE_DESTINAIRE_NOM connector: protocol: file rootPath: ${DEVBOX_PFI_FILE_ROOT_PATH:/shared/files} # dans le volume /shared un répertoire /files out: dmp: active: true authP12InBase64: MIIcmwIBAzCC... TOFILL ...CSqGSIb3DQEHn== authP12Password: TOFILL signP12InBase64: MIIcmwIBAzCC... TOFILL ...CSqGSIb3DQEHn== signP12Password: TOFILL soumissionContentType: \"04\" # Exemple Hospitalisation de jour mss: operatorName: MOTCO2 # exemple d'opérateur , liste complète : https://mss-demo.devbox-sante.fr/mssante/v2/operators userName: TOFILL p12InBase64: MIIcZgIBAzCCH... TOFILL ...CwGCSqGSIb3DQEHAaCC== p12Password: TOFILL Ce qui donne au final le montage \\config entre le système hôte et le container suivant :\net pour \\shared :\nExécution Il reste maintenant plus qu’à lancer le fichier compose.yml ci dessus, avec la ligne de commande :\ndocker compose up -d Et on obtient :\nEt si on ouvre Docker Desktop on retrouve regroupés au sein d’un nouveau groupe (“stack”) nos 4 containers qui tournent :\nEt on peut accéder à l’interface du Back-office sur le port 8282 (compte admin/admin à la première connexion):\nFinalement, la pfi est prête et écoute tout événement fichier sur /shared/files :\n2026-02-10T15:07:30.377Z INFO 7 --- [ main] f.d.pfi.launcher.PfiLauncherServerMain : Started PfiLauncherServerMain in 17.553 seconds (process running for 19.005) 2026-02-10T15:07:30.387Z INFO 7 --- [ main] f.d.pfi.launcher.PfiLauncherServerMain : launch Intermediations 2026-02-10T15:07:30.389Z INFO 7 --- [ main] f.d.p.server.PfiIntermediationProvider : createConnectorFor(file-default) 2026-02-10T15:07:30.392Z INFO 7 --- [ main] f.d.pfi.protocols.file.PfiFileConnector : [FILE]start() 2026-02-10T15:07:30.398Z INFO 7 --- [ main] f.d.pfi.protocols.file.PfiFileConnector : [FILE] Schedule du polling (toutes les 2 secondes) sur le chemin /shared/files 2026-02-10T15:07:30.399Z INFO 7 --- [ main] f.d.pfi.protocols.file.PfiFileConnector : [FILE] Schedule de l'archivage (cron : 0 0 0 * * *) sur le chemin /shared/files 2026-02-10T15:07:30.402Z INFO 7 --- [ main] f.d.pfi.protocols.file.PfiFileConnector : [FILE] register(fr.devboxsante.pfi.server.service.in.PfiHl7TracerWrapperReceiver) 2026-02-10T15:07:30.402Z INFO 7 --- [ main] f.d.pfi.protocols.file.PfiFileConnector : [FILE] register(fr.devboxsante.pfi.server.service.in.PfiHl7TracerWrapperReceiver) DevBox-Santé PFI-Connect La DevBox-Santé propose une PFI, mais également un connecteur REST permettant d’envoyer et de recevoir des messages provenant d’une PFI : DevBox-Santé PFI-Connect\nPour la mettre en œuvre, nous allons nous intéresser au petit carré bleu du diagramme de départ :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define PFI_COLOR #2f78cc !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 left to right direction component \"Logiciel Intégrateur DPI\" as dpi card \"DevBox-Santé for DPI\" as devbox DEVBOX_COLOR { [DevBox-Santé PFI-connect] as dbx_pfic PFI_COLOR [DevBox-Santé DMP (consult)] as dbx_dmp DMP_COLOR [DevBox-Santé INS] as dbx_ins INS_COLOR } dpi --\u003e dbx_pfic : Http REST La DevBox-Santé PFI-Connect étant disponible dans la distribution all de la DevBox-Santé, il suffit de récupérer cette image docker.\nRemarque : Vous pouvez consulter la documentation sur ces distribs par ici\nInstallation avec Docker-Compose Il nous suffit donc de définir un nouveau fichier compose.yml en exposant les composants REST de la DevBox-santé sur le port 8080 (dans notre exemple).\nname: devboxsante-pfi-connect-example services: devbox-sante: image: devboxsante/devboxsante-all:dev container_name: pfi-devboxsante-all ports: - \"8080:8080\" environment: DEVBOX_LM_ENV: DEV DEVBOX_LM_CLIENT: ${DEVBOX_LM_CLIENT} DEVBOX_LM_TOKEN: ${DEVBOX_LM_TOKEN} volumes: - C:/dbx/pfi/shared:/shared # volume partagé avec la pfi ... Il s’agit ici de la DevBox-Santé distribution all pour laquelle on va utiliser principalement la configuration par défaut, car on ne s’intéresse qu’au module pfi-connect.\nLa seule particularité ici est donc le montage du volume /shared\nEn effet, la configuration par défaut de la Devbox-Santé pfi-connect contient un connecteur default-file pointant sur le répertoire /shared/file dans le volume /shared et qui correspond à la configuration de l’intermediation définie dans la pfi-server :\ndevbox-sante: pfi: client: connectors: ... default-file: protocol: file rootPath: ${DEVBOX_PFI_CONNECT_FILE_ROOT_PATH:/shared/files} Le connecteur est donc bien configuré par défaut.\nExécution Il reste maintenant plus qu’à lancer le fichier compose.yml ci dessus, avec la ligne de commande :\ndocker compose up -d Et on obtient une nouvelle “stack” docker devboxsante-pfi-connect-example :\nRemarque : Il aurait été tout à fait possible d’utiliser un seul fichier compose.yml pour lancer tous les containers dans une seule “stack” Docker.\nTester Il ne reste plus qu’à tester avec les exemples Bruno à notre disposition : https://bitbucket.org/devbox-sante/dbx-examples-bruno/src/master/dbx/pfi-connect/\nl’envoiDemande par exemple :\ndont on retrouve la trace d’exécution dans le répertoire partagée :\nou encore dans la console d’administration :\nUne nouvelle requête dans Bruno permet de récupérer l’Accusé Métier (ZAM) via PFIConnect : /pfi-connect/receptionAccuseMetiers\nÀ la lecture de l’accusé Métier, nous apprenons que le document contenu dans le message existe déjà dans le DMP. Il ne peut pas être accepté.\n","categories":"","description":"Installer la DevBox-Santé PFI et un client PFI-Connect \n","excerpt":"Installer la DevBox-Santé PFI et un client PFI-Connect \n","ref":"/blog/articles/20260204_installer_pfi_server_client/","tags":"","title":"Installer la DevBox-Santé PFI"},{"body":"","categories":"","description":"Version 5.x et antérieure \n","excerpt":"Version 5.x et antérieure \n","ref":"/5.x/","tags":"","title":"DevBox-santé 5.x"},{"body":"\nPas de régression connue\n","categories":"","description":"Test non régression version 35-37 du SI-DMP \n","excerpt":"Test non régression version 35-37 du SI-DMP \n","ref":"/communication/20251212_version35_37_si_dmp/","tags":"","title":"Version 35-37 SI-DMP"},{"body":" Page en construction CDA Volets Structurés IPS : Volet Médical de synthèse Externalisation du Modèle CDA Lien avec les nouvelles entités du MOS\nTD3.1 Limitation dans la recherche Le guide d’intégration dit :\nGetDocumentsAndAssociations : le nombre de valeurs pour le paramètre $XDSDocumentEntryUniqueId est de 20 valeurs maximum, le nombre de valeurs pour le paramètre $XDSDocumentEntryEntryUUID est 88 valeurs maximum. GetAssociations et GetSubmissionSets : le nombre de valeurs pour le paramètre $uuid est de 1000 valeurs maximum. En cas de dépassement, une erreur XDSRegistryError est retournée. Pour gérer ces valeurs une configuration par défaut a été mis en place dans la DevBox-Santé DMP.\nUne modification a été apporté à la TD31Response afin de retourner un message d’erreur en cas de dépassement d’un de ces seuils et que le résultat de la requête est incomplète, afin de pouvoir affiner la recherche. La DevBox-Santé DMP évite ainsi la XDSRegistryError tout en notifiant l’intégrateur d’affiner sa recherche. thu La configuration de chaque paramètre peut se faire en surchargeant les propriétés suivantes :\ndevbox-sante.dmp.client.td31.thresholds.GetDocumentsAndAssociations.docEntryUniqueId: 20 devbox-sante.dmp.client.td31.thresholds.GetDocumentsAndAssociations.docEntryUuid: 88 devbox-sante.dmp.client.td31.thresholds.GetAssociations.uuid: 1000 devbox-sante.dmp.client.td31.thresholds.GetSubmissionSets.uuid: 1000 ","categories":"","description":"Intégration guide d'intégration 2.10 et ajout du Volet Médical IPS\n","excerpt":"Intégration guide d'intégration 2.10 et ajout du Volet Médical IPS\n","ref":"/6.x/connecteurs/dmp/howtos/migrations/6.0_6.1/","tags":"","title":"6.0 vers 6.1"},{"body":"\n","categories":"","description":"","excerpt":"\n","ref":"/6.x/plateformes/pfi/howtos/attestation_referencement/","tags":"","title":"Attestation référencement"},{"body":" Référencé SÉGUR Vague 2 La DevBox-Santé PFI a obtenu son référencement SÉGUR Vague 2 !!!\nToutes les informations sur ce référencement : https://industriels.esante.gouv.fr/segur-numerique-sante/vague-2/dispositif-pfi-couloir-hopital\nLa DevBox-Santé PFI implément le rôle PFI GESTIONNAIRE dans les spécifications suivantes :\nhttps://esante.gouv.fr/volet-de-transmission-dun-document-cda-r2-en-hl7v2 https://esante.gouv.fr/transmission-au-lps-de-documents-cda-provenant-dun-courriel-mssante Les composants intégrés La DevBox-Santé PFI intègre les composants de la DevBox-Santé suivants :\nDMP MSS DMP La version intégrée implémente le profil DMP en authentification indirecte, avec les fonctionnalités suivantes :\nla transaction TD0.2 (test d’existence) la gestion de la connexion secrète l’alimentation de document de niveau 1 le remplacement de documents la suppression de documents le mode EJ/EG La version intégrée n’implémente pas les profils DMP en authentification directe ni l’authentification indirecte renforcee. Les fonctionnalités suivantes ne sont pas implémentées :\nles transactions TD0.3, TD0.4, TD0.5, TD0.9, TD0.10, TD2.2, TD3.1, TD3.2, TD3.3 la gestion du bris de glace Si vous souhaitez certaines de ces fonctionnalités non couvertes par une PFI, envisager l’intégration et l’homologation du connecteur DevBox-Santé DMP MSS La version intégrée met en œuvre l’authentification par certificat de l’IGC Santé pour accéder aux BALs (Boîtes aux lettres) applicatives des opérateurs configurées.\n","categories":"","description":"DevBox-Santé PFI : Une plateforme d'intermédiation Référencé SÉGUR Vague 2 simple pour vos partages de documents de santé\n","excerpt":"DevBox-Santé PFI : Une plateforme d'intermédiation Référencé SÉGUR …","ref":"/6.x/plateformes/pfi/","tags":"","title":"PFI"},{"body":"Pour les éditeurs déjà homologués, vous avez du recevoir cette notification du GIE Sesam-Vitale :\nNous avons pu valider ce nouvel environnement et mis à jour notre page environnements.\nSi vous voulez le valider de votre côté, vous allez devoir modifier la configuration application.yml de la devbox-santé DMP en rajoutant cette ligne :\ndevbox-sante.dmp.igcsante.gammes: ELEMENTAIRE_ORGANISATIONS_TEST En effet, contrairement à dev1, ce nouvel environnement serveur présente correctement un certificat serveur provenant de l’IGC santé ORGANISATIONS de TEST et pas de PROD (comme dev1 à tort).\nNous avons mis à jour les images Docker pour prendre cette configuration avec une variable d’environnement.\nCela implique un passage à la 6.1.10-b34 si vous souhaitez passer par ces variables d’environnement :\nil faudra également préciser la variable DEVBOX_DMP_URL :\ndocker run --name devbox-sante-de2 -p 8080:8080 -d -m1g -e 'DEVBOX_LM_TOKEN=...' -e 'DEVBOX_LM_CLIENT=...' -e 'DEVBOX_DMP_URL=https://lps.de2.dmp.gouv.fr/si-dmp-server/v2/services' -e 'JAVA_OPTS=-Xms728M -Xmx856M' devboxsante/devboxsante-all:6.1.10-b34 Pour les installers, nous apporterons au fil de l’eau la configuration de DEV par défaut.\n","categories":"","description":"Validation nouvel environnement de2 next\n","excerpt":"Validation nouvel environnement de2 next\n","ref":"/communication/20250904_envde2next/","tags":"","title":"Environnement de2 Next"},{"body":"Configuration La façon standard de configurer le container docker de la DevBox-Santé est de passer les paramètres dans des variables d’environnement prévues :\ndocker run --name devbox-sante -p 8080:8080 -d -m1g \\ -e 'DEVBOX_LM_TOKEN=ebac...78b5d4' \\ -e 'DEVBOX_LM_CLIENT=client' -e 'JAVA_OPTS=-Xms728M -Xmx856M' devboxsante/devboxsante-all:latest Paramétrage global La DevBox-santé déployée dans l’environnement de l’intégrateur est accessible en basic auth sur un port exposé par l’image Docker.\nL’authentification basique se fait avec vos informations clientes (clientId et token pour password)\nserver: port: ${DEVBOX_SERVER_PORT:8080} max-http-request-header-size: 500KB logging.level: fr.devboxsante: ${DEVBOX_LOG_LEVEL:debug} javax.net: ${DEVBOX_LOG_LEVEL:debug} org.springframework.security: ${DEVBOX_LOG_LEVEL:debug} org.springframework.web.client: ${DEVBOX_LOG_LEVEL:debug} org.apache.http.wire: ${DEVBOX_LOG_LEVEL:debug} spring: servlet.multipart: max-file-size: ${DEVBOX_MAX_UPLOAD:8192KB} max-request-size: ${DEVBOX_MAX_UPLOAD:8192KB} management: endpoints: web.exposure.include: \"*\" enabled-by-default: false endpoint: info.enabled: ${DEVBOX_MANAGEMENT_ENABLED:true} metrics.enabled: ${DEVBOX_MANAGEMENT_ENABLED:true} prometheus.enabled: ${DEVBOX_MANAGEMENT_ENABLED:true} devbox-sante: security: mode: ${DEVBOX_SECURITY_MODE:basic} lm: env: ${DEVBOX_ENV:DEV} token: ${DEVBOX_LM_TOKEN:null} client: ${DEVBOX_LM_CLIENT:null} version: docker6 Propriété du profil devbox-sante Variable d’environnement Commentaire server.port DEVBOX_SERVER_PORT Port du serveur HTTP exposé par l’image Docker. Valeur par défaut : 8080 logging.level DEVBOX_LOG_LEVEL Niveau de traces Valeur par défaut : debug spring.servlet.multipart.max...size DEVBOX_MAX_UPLOAD Taille max d’upload.\nValeur par défaut : 8192KB management.endpoints.enabled DEVBOX_MANAGEMENT_ENABLED Possibilité de monitorer des métriques comme Prometheus\nValeur par défaut : true devbox-sante.security.mode DEVBOX_SECURITY_MODE Authentification basic ou none Valeur par défaut : basic @since b15 devbox-sante.lm Paramétrage du Licence Manager pour validation de l’image devbox-sante.lm.env DEVBOX_ENV Licence développeur(DEV) ou production(PROD) Valeur par défaut : DEV devbox-sante.lm.client DEVBOX_LM_CLIENT identifiant de l’éditeur client devbox-sante.lm.token DEVBOX_LM_TOKEN Token secret de l’éditeur client INSi devbox-sante: insi: security.mode: authInHeader url: cps: ${DEVBOX_INSI_URL_CPS:https://qualiflps.services-ps.ameli.fr/lps} tls: ${DEVBOX_INSI_URL_TLS:https://qualiflps-services-ps-tlsm.ameli.fr/lps} lpsInfo: nom: ${DEVBOX_INSI_LPS_INFO_NOM} numeroAutorisation: ${DEVBOX_INSI_LPS_INFO_NUM_AUTORISATION} version: ${DEVBOX_INSI_LPS_INFO_VERSION} instance: ${DEVBOX_INSI_LPS_INFO_INSTANCE} datamatrix: ${DEVBOX_INSI_DATAMATRIX:true} lot.maxSize: ${DEVBOX_INSI_LOT_MAX_SIZE:100} Propriété du profil insi Variable d’environnement Commentaire devbox-sante.insi.security.mode Mode d’authentification : authInHeader devbox-sante.insi.url.cps DEVBOX_INSI_URL_CPS URL du téléservice INSi en authentification CPS devbox-sante.insi.url.tls DEVBOX_INSI_URL_TLS URL du téléservice INSi en authentification par certificat devbox-sante.insi.lpsInfo Informations d’autorisation délivrées par le CNDA devbox-sante.insi.lpsInfo.nom DEVBOX_INSI_LPS_INFO_NOM Nom du LPS devbox-sante.insi.lpsInfo.numeroAutorisation DEVBOX_INSI_LPS_INFO_NUM_AUTORISATION NumeroAutorisation du LPS devbox-sante.insi.lpsInfo.version DEVBOX_INSI_LPS_INFO_VERSION Version du LPS devbox-sante.insi.lpsInfo.instance DEVBOX_INSI_LPS_INFO_INSTANCE Instance déployée du LPS devbox-sante.insi.datamatrix DEVBOX_INSI_DATAMATRIX Activation du profil DataMatrix devbox-sante.insi.lot.maxSize DEVBOX_INSI_LOT_MAX_SIZE Taille du lot max pour la recherche par lot @sinceb29 DMP devbox-sante: dmp: security.mode: authInHeader url.prefix: ${DEVBOX_DMP_URL:https://lps.dev1.dmp.gouv.fr/si-dmp-server/v2/services} url.web.prefix: ${DEVBOX_DMP_WEB_URL:https://wps-cps.dev1.dmp.gouv.fr/ps/acces-web} igcsante.gammes: ${DEVBOX_DMP_IGC_SANTE_GAMMES:ELEMENTAIRE_ORGANISATIONS, ELEMENTAIRE_ORGANISATIONS_TEST} lpsInfo: homologationId: ${DEVBOX_DMP_LPS_INFO_HOMOLOGATION_ID} version: ${DEVBOX_DMP_LPS_INFO_VERSION} nom: ${DEVBOX_DMP_LPS_INFO_NOM} id: ${DEVBOX_DMP_LPS_INFO_ID} source: # 1.2.250.1.287 est l'OID de Devcoop # 1.2.250.1.287.1 est l'OID correspondant au DMP pour Devcoop idRoot: ${DEVBOX_DMP_SOURCE_ID_ROOT} idExtension: ${DEVBOX_DMP_SOURCE_ID_EXTENSION} pdf.converter.resolution: ${DEVBOX_DMP_PDF_CONVERTER_RESOLUTION:ACCEPTABLE} cda.validator: warningLaxistPolicy: ${DEVBOX_DMP_CDA_VALIDATOR_LAXIST_POLICY:true} jdvLaxistPolicy: ${DEVBOX_DMP_CDA_VALIDATOR_LAXIST_POLICY:true} cda.tools.latest: ${DEVBOX_DMP_CDA_TOOLS_LATEST:false} Propriété du profil dmp Variable d’environnement Commentaire devbox-sante.dmp.security.mode Mode d’authentification : authInHeader devbox-sante.dmp.url.prefix DEVBOX_DMP_URL URL du serveur DMP Configuré par défaut sur l’environnement de dev devbox-sante.dmp.url.web.prefix DEVBOX_DMP_WEB_URL URL cps Web du serveur DMP\nConfiguré par défaut sur l’environnement de DEV devbox-sante.dmp.igcsante.gammes DEVBOX_DMP_IGC_SANTE_GAMMES @since b34 Gammes de certificats serveurs de confiance (http://igc-sante.esante.gouv.fr/PC/)\nConfiguré par défaut ELEMENTAIRE_ORGANISATIONS, ELEMENTAIRE_ORGANISATIONS_TEST Pour l’environnement de production il faut valoriser cette variable à ELEMENTAIRE_ORGANISATIONS seulement devbox-sante.dmp.lpsInfo Informations d’autorisation délivrées par le CNDA devbox-sante.dmp.lpsInfo.nom DEVBOX_DMP_LPS_INFO_NOM Nom du LPS devbox-sante.dmp.lpsInfo.homologationId DEVBOX_DMP_LPS_INFO_HOMOLOGATION_ID NumeroAutorisation du LPS devbox-sante.dmp.lpsInfo.version DEVBOX_DMP_LPS_INFO_VERSION Version du LPS devbox-sante.dmp.lpsInfo.id DEVBOX_DMP_LPS_INFO_ID Identifiant de l’instance déployée du LPS Format : 1.2.250.1.287.numClient.numInstance devbox-sante.dmp.source Veillez à vérifier la cohérence entre le lpsInfo.id et la source : /6.x/connecteurs/dmp/configuration/#les-informations-du-lps-homologu%C3%A9e devbox-sante.dmp.source.idRoot DEVBOX_DMP_SOURCE_ID_ROOT Identifiant du client\nFormat : 1.2.250.1.287.numClient devbox-sante.dmp.source.idExtenson DEVBOX_DMP_SOURCE_ID_EXTENSION Identifiant de l’instance déployé pour le client\nFormat : numInstance LpsInpfo.id et source Veillez à vérifier la cohérence entre le lpsInfo.id et la source : /6.x/connecteurs/dmp/configuration/#les-informations-du-lps-homologu%C3%A9e MS-Santé devbox-sante: ms-sante: security.mode: authInHeader git: branch: ${DEVBOX_MSS_ENV:test} annuaire: impl: ${DEVBOX_MSS_ANNUAIRE_IMPL:ldap} ldap: host: ${DEVBOX_MSS_ANNUAIRE_LDAP_HOST:ldap.annuaire.mssante.fr} port: ${DEVBOX_MSS_ANNUAIRE_LDAP_PORT:389} # impl: devbox devbox: url: ${DEVBOX_MSS_ANNUAIRE_DBX_URL:https://annuaire.devbox-sante.fr} username: ${DEVBOX_MSS_ANNUAIRE_DBX_USERNAME} password: ${DEVBOX_MSS_ANNUAIRE_DBX_PASSWORD} Propriété du profil ms-sante Variable d’environnement Commentaire devbox-sante.ms-sante.security.mode Mode d’authentification : authInHeader devbox-sante.ms-sante.git.branch DEVBOX_MSS_ENV Différents environnements opérateurs à charger devbox-sante.ms-sante.annuaire.impl DEVBOX_MSS_ANNUAIRE_IMPL choix de l’implémentation de l’annuaire santé : ldap ou devbox Valeur par défaut : ldap devbox-sante.ms-sante.annuaire.ldap.host DEVBOX_MSS_ANNUAIRE_LDAP_HOST hostname ldap de l’annuaire santé Valeur par défaut ldap.annuaire.mssante.fr devbox-sante.ms-sante.annuaire.ldap.port DEVBOX_MSS_ANNUAIRE_LDAP_PORT port ldap de l’annuaire santé devbox-sante.ms-sante.annuaire.devbox.url DEVBOX_MSS_ANNUAIRE_DBX_URL Url de l’annuaire Devbox-santc\nValeur par défaut : https://annuaire.devbox-sante.fr devbox-sante.ms-sante.annuaire.devbox.username DEVBOX_MSS_ANNUAIRE_DBX_USERNAME Nom d’utilisateur devbox-sante.ms-sante.annuaire.devbox.password DEVBOX_MSS_ANNUAIRE_DBX_PASSWORD Mot de passe PFI-Connect Version expérimental @since b34 La configuration dans docker du module PFI Connect permet de faciliter l’intégration avec une PFI.\nLe composant PFI-Connect nécessite le composant DMP.\ndevbox-sante: pfi: client: connectors: default-mllp: protocol: mllp hostname: ${DEVBOX_PFI_CONNECT_MLLP_HOSTNAME:62.240.227.103} port: ${DEVBOX_PFI_CONNECT_MLLP_PORT:5453} mllpLocalPort: ${DEVBOX_PFI_CONNECT_MLLP_LOCAL_PORT:10112} default-file: protocol: file rootPath: ${DEVBOX_PFI_CONNECT_FILE_ROOT_PATH:/shared/files} Propriété du profil pfi-connect Variable d’environnement Commentaire devbox-sante.pfi.client.connectors.default-mllp.hostname DEVBOX_PFI_CONNECT_MLLP_HOSTNAME Nom de domaine ou adresse IP du serveur MLLP de la PFI : Valeur par défaut 62.240.227.103 ip de l’ANS-HL7V2-SIMULATOR-Gestionnaire devbox-sante.pfi.client.connectors.default-mllp.port DEVBOX_PFI_CONNECT_MLLP_PORT Port du serveur MLLP de la PFI : Valeur par défaut 5453 port de l’ANS-HL7V2-SIMULATOR-Gestionnaire devbox-sante.pfi.client.connectors.default-mllp.mllpLocalPort DEVBOX_PFI_CONNECT_MLLP_LOCAL_PORT Port local du connecteur pour la connexion bidirectionnelle à configurer dans le simulateur ou la PFI devbox-sante.pfi.client.connectors.default-file.rootPath DEVBOX_PFI_CONNECT_FILE_ROOT_PATH Path racine du connecteur file pour la connexion bidirectionnelle avec la PFI Configuration avancée Si vous voulez configurer plus finement le container docker de la DevBox-Santé, vous pouvez utiliser votre propre application.yml en partant par exemple de celui de l’image utilisée. Il suffit de le lier à un volume docker et de préciser son chemin au lancement en utilisant la variable d’environnement DEVBOX_CONFIG_FILE (@since b19)\nPar exemple :\ndocker run --name devbox-sante-dbx-config -p 8080:8080 -d -m1g \\ -e 'DEVBOX_LM_TOKEN=eb...8b5d4' \\ -e 'DEVBOX_LM_CLIENT=devcoop' \\ -e 'JAVA_OPTS=-Xms728M -Xmx856M' \\ -v /user/home/dbx-config:/dbx-config \\ -e 'DEVBOX_CONFIG_FILE=file:/dbx-config/application.yml' \\ devboxsante/devboxsante-all:dev Attention utiliser son propre DEVBOX_CONFIG_FILE nécessite une bonne connaissance du paramètrage de la DevBox-Santé et est conseillé si et seulement si le paramétrage souhaité n’est pas couvert par les différentes variables d’environnement.\nExemple de fichier de configuration activant tous les profils de l’image devboxsante-all:\nspring: profiles: active: - SWAGGER - devbox-sante - insi - CNDA_WEB - INS_ADMIN - dmp - ms-sante - pfi-connect devbox-sante: dmp: security.mode: authInHeader insi: security.mode: authInHeader ms-sante: security.mode: authInHeader ","categories":"","description":"Configurer les images Docker\n","excerpt":"Configurer les images Docker\n","ref":"/6.x/installation/docker/configuration/","tags":"","title":"Configuration"},{"body":" Impacts de la bascule du DMP et des interruptions temporaires des services Des Opérations de bascule du DMP sont prévues à partir du vendredi 6 juin 2025 à partir de 21h. Ces travaux ont pour conséquences des interruptions de service de la MSS-C.\nMon espace santé, dont la MSS citoyenne, sera indisponible du samedi 7 juin 21h au lundi 9 juin 14h.\nLa consultation et l’alimentation de Mon espace santé sera indisponible pour tous les usagers. Un message d’information sera prochainement positionné sur monespacesante.fr.\nLes notifications liées à la réception d’un message ou d’un document dans Mon espace santé seront arrêtées ce vendredi 6 juin à 21h et reprendront à la réouverture de Mon espace santé le lundi 9 juin à 14h.\nLes messages électroniques adressés aux patients, pendant la période d’indisponibilité, ne seront pas mis en file d’attente. Le système expéditeur devra rejouer l’envoi jusqu’à livraison du message (à minima 5 jours conformément au protocole SMTP).\nPar ailleurs une communication de l’assurance maladie a été diffusée. En PJ les principaux messages de celle-ci.\nPour plus d’informations, merci de vous rapprocher de l’assurance maladie.\nimpacts_DMP_07062025\nLe GIE Sesam-Vitale va réaliser une bascule en production 18 mai 2025 :\nPlus d’information ici : https://industriels.sesam-vitale.fr/documents/d/global/synthese-des-communications-diffusees-sur-le-dispositif-de-transition-du-si-dmp\nImpacts DevBox-Santé Comme vu dans une communication précédente un problème a été détecté lors de la bascule sur l’environnement DEV1 : /communication/20250317_envdev1_atos/\nIl faut donc mettre à jour les versions de la DevBox-Santé en production chez vos clients avec pour version à minima :\n5.21.0 et supérieures 6.1.2 et supérieures Seules les transactions en authentification directe avec carte CPx sont concernées.\n","categories":"","description":"Considérations à prendre en compte pour cette bascule\n","excerpt":"Considérations à prendre en compte pour cette bascule\n","ref":"/communication/20250518_basculedmp/","tags":"","title":"Bascule hébergement DMP reporté au 8 juin 2025"},{"body":" Mise à jour du 28 mars 2025\nProblème résolu Nous avons résolu notre problème et pouvons accéder de nouveau à dev1 en authentification par carte CPS. La signature que nous générions n’était pas validée par openSSL3.\nLes versions corrigées sont :\nLes versions 5.21.0 et supérieures Les versions 6.1.2 et supérieures Pour le détail de la résolution : OpenSSL 1.x (utilisé dans les anciens environnements) était plus tolérant sur l’absence du parametre optionnel NULL dans l’encodage ASN.1 des AlgorithmIdentifier. Mais depuis OpenSSL 3.x, la validation est devenue plus stricte, respectant pleinement RFC 5280 et RFC 4055, qui imposent la présence explicite de NULL :\nAlgorithmIdentifier ::= SEQUENCE { algorithm OBJECT IDENTIFIER, parameters ANY OPTIONAL } L’absence de ce paramètre NULL générait un décalage de deux octets de la séquence à signer par la cryptolib. On peut regretter le message d’erreur d’openssl qui est loin d’être explicite : 342F0100:error:02000068:rsa routines:ossl_rsa_verify:bad signature:../openssl-3.2.1/crypto/rsa/rsa_sign.c:426: 342F0100:error:1C880004:Provider routines:rsa_verify:RSA lib:../openssl-3.2.1/providers/implementations/signature/rsa_sig.c:785: Notre correction :\nProblème rencontré le 17 mars 2025 Le nouvel environnement de dev d’ATOS, a été mis à disposition ce 17 mars 2025.\nCe nouvel environnement bloque toutes les connexions TLS de la devbox-santé avec les cartes CPS, Vous ne pouvez donc pas utiliser de cartes CPS sur cet environnement :\nJe vous invite vivement à faire des tests de votre côté et de remonter le problème au centre de services, car apparemment nous ne sommes pas écoutés\nPour information supplémentaire, nous avions eu un problème similaire avec l’opérateur mailiz qui avait fini par corriger le problème suite à la plainte d’un autre éditeur\n","categories":"","description":"Demande n° 25-069-012529 - [TNR ATOS] DEVCOOP - Erreur \"handshake_cps\" \"Received fatal alert: decrypt_error\" Expertise externe - Dossier Médical Partagé\n","excerpt":"Demande n° 25-069-012529 - [TNR ATOS] DEVCOOP - Erreur \"handshake_cps\" …","ref":"/communication/20250317_envdev1_atos/","tags":"","title":"[17/03/2025] Problème environnement Atos"},{"body":"Vous avez probablement vu passer des informations concernant la nouvelle CPS4 et de sa cryptolib, notamment ce message nous informant que dans moins de quatre mois la CPS v4 en production va demander la mise à jour de la cryprolib :\nLa DevBox-Santé doit être aussi à jour sur les postes clients Les versions minimales des “installers” sur poste client sont :\nVersion 5.20.5 Version 6.0.4-b6 Si vous utilisez en production des versions antérieures vous devez absolument vous mettre à jour pour prendre en charge ces nouvelles cartes.\nPour toutes versions antérieures à 5, veuillez nous consulter.\n","categories":"","description":"Déploiement de la Cryptolib CPS 5.2.x et de la CPS v4\n","excerpt":"Déploiement de la Cryptolib CPS 5.2.x et de la CPS v4\n","ref":"/communication/20250305_deploiementcps_v4/","tags":"","title":"Mise à jour pour la CPS v4"},{"body":"Comme il est écrit sur la page d’information de l’ANS, https://industriels.esante.gouv.fr/produits-et-services/pro-sante-connect :\n“Pro Santé Connect (PSC) est le Fournisseur d’Identité (FI) de la santé. C’est un service standard (protocole OpenID) et gratuit, développé et maintenu par l’ANS\nGrâce à Pro Santé Connect, vos utilisateurs professionnels du monde de la santé, recensés dans l’Annuaire Santé*, peuvent s’identifier de manière simple, sécurisée et unifiée. Ils se connectent aux services numériques en santé, en passant de l’un à l’autre de manière fluide.\nDepuis le 1er janvier 2023, l’implémentation de PSC est obligatoire pour tous les services numériques en santé dit “sensibles” (“sensible” au sens défini dans la PGSSI-S).\nEn déléguant les authentifications de votre service à l’ANS, vous bénéficiez de l’image de confiance et de sécurité associée à Pro Santé Connect tout en étant conforme aux exigences réglementaires.\nMettre en place ces standards au sein d’une application, dépend énormément des langages et des frameworks utilisés. Il faut donc utiliser l’implémentation adéquate à votre environnement : https://openid.net/developers/certified-openid-connect-implementations/\nPar exemple, pour nos besoins dans la DevBox-Santé, nous nous sommes appuyés sur Spring-Security pour réaliser l’authentification de ces deux démonstrateurs :\nhttps://auth-bac.devbox-sante.fr/ démonstrateur https://mss-demo.devbox-sante.fr/ mise en œuvre pour la ms-santé Si vous voulez mettre en place PSC dans vos applications suivez le processus de raccordement décrit sur https://industriels.esante.gouv.fr/produits-et-services/pro-sante-connect\nUne vidéo intéressante sur le sujet : https://youtu.be/sXf_eKw6Svw\n","categories":"","description":"Authentifier les utilisateurs avec ProSanté Connect\n","excerpt":"Authentifier les utilisateurs avec ProSanté Connect\n","ref":"/blog/2025/03/04/mise-en-place-de-prosant%C3%A9connect/","tags":"","title":"Mise en place de ProSantéConnect"},{"body":"\nhttps://industriels.sesam-vitale.fr/group/dmp-compatibilite/dmp-transition-de-l-environnement-editeur\n","categories":"","description":"","excerpt":"\nhttps://industriels.sesam-vitale.fr/group/dmp-compatibilite/dmp-trans …","ref":"/communication/20250124_fermetureenvironnementdev/","tags":"","title":"DMP : Fermeture de l'environnement d'homologation DMP du 27 janvier au 2 février 2025"},{"body":"\n","categories":"","description":"","excerpt":"\n","ref":"/communication/20250116_arretservice_dmp_dv1/","tags":"","title":"Arret des services de l'environnement dv1 du DMP du 27 Janvier au 2 Février 2025"},{"body":"Ça y est, la DevBox-Santé 6 est enfin de sortie.\nLes grandes nouveautés sont :\nUne documentation retouchée : https://doc.devbox-sante.fr/6.x/ Une migration technique de Java 11 vers Java 21 , Spring boot 2 vers Spring boot 3 Une nouvelle homologation DMP compatible dorénavant en 2.9.1 : https://doc.devbox-sante.fr/6.x/connecteurs/dmp/versions/#version---601-05122024 Le support du mode AIR : https://doc.devbox-sante.fr/6.x/connecteurs/dmp/authentifications/indirecte_renforce/ Un agent permettant le lancement instantané des composants de lecture de cartes CPS et vitales : https://doc.devbox-sante.fr/6.x/installation/agent/ Une image docker commune à l’ensemble de nos clients sûrement d’autres encore … Les modalités pour accéder aux nouvelles images Docker ont changé. Une communication spécifique à ce sujet va suivre.\n","categories":"","description":"","excerpt":"Ça y est, la DevBox-Santé 6 est enfin de sortie.\nLes grandes …","ref":"/communication/20241206_sortie_de_la_devboxsante6/","tags":"","title":"[06/12/2024]La DevBox-Santé 6 est sortie !"},{"body":"Afin de gérer dans des systèmes de plus en plus interopérables, dont les documents de santé transitent d’applications à applications. Le versionning de document dans le DMP et pour la MS-Santé est devenu importante. ssss\nIl faut donc pouvoir retrouver les différentes versions d’un même lot de documents.\nMOS Pour le modèle d’objets de santé on retrouve cette notion dans la Fiche (https://mos.esante.gouv.fr/19.html#_71e617d8-ae19-49b8-9346-924af8194a62) :\nDonc si on reprend les termes du MOS :\nIdentifiant invariable pour toutes les versions de la fiche d’un document, à la différence de l’attribut idFiche qui a une valeur différente pour chaque version de la fiche.\nMise en correspondance FHIR R4: DocumentReference.id Mise en correspondance XDS: DocumentEntry.logicalID On peut donc conclure que l’identifiant permettant de relier en un seul lot les différentes versions d’un même document est : idFicheInvariable\nCI-SIS Cett notion d’identifiant Invariable peut être mis en correspondance dans un CDA par : ClinicalDocument.setId\nEn effet, dans le Volet Structuration Minimale en version 1.16.1 on peut désormais lire :\nCet identifiant est dorénavant OBLIGATOIRE.\nIl fait d’ailleurs désormais l’objet d’une vérification dans les outils CDA : https://github.com/ansforge/TestContenuCDA-3-0/commit/f2728fd1b3f4219e6cf8cf6e53eaa95a9aef81c1#diff-d33b76b2f3da9c874248aa525f2c9a672f0ac8cfa41d39f687cc9f49744c5d73\nDevBox-Santé Dans la DevBox-Santé, nous nous devons de reprendre cette notion. Nous allons donc utiliser la terminologie définie dans le MOS : invariableId pour un DMPCDocument qui correspond à une Fiche dans le MOS.\nLa mise en œuvre se fera au fil de l’eau. Stay Tuned.\n","categories":"","description":"La version 1.16 du volet a structuration minimale rend obligatoire le SetId\n","excerpt":"La version 1.16 du volet a structuration minimale rend obligatoire le …","ref":"/blog/2024/11/06/invariableid-dans-le-volet-%C3%A0-structuration-minimale/","tags":"","title":"InvariableId dans le Volet à Structuration Minimale"},{"body":"\nLa fiche de renseignements : https://industriels.sesam-vitale.fr/documents/d/global/pdt-inf-873-alerte-et-menace-windows-11-24h2\n","categories":"","description":"","excerpt":"\nLa fiche de renseignements : …","ref":"/communication/20240918_galssonwindows11_24h2/","tags":"","title":"Incompatibilité Galss et Windows 11 24H2"},{"body":"Générer des documents HL7 - CDA (Clinical Document Architecture) conforme pour les différents schematrons des différents outils proposés par l’ANS ce n’est pas une mince affaire.\nEn effet, pour générer un document CDA conforme, il faut :\nune syntaxe correcte une sémantique correcte un vocabulaire correct. C’est simple, si vous remplissez ces trois critères vos documents sont bons.\nUne syntaxe correcte Ici, on commence tranquillement, le document généré doit être conforme au schéma cda.xsd fournit par HL7. Il y a une seule version de ce schéma et il est partagé par tous.\nQuelques tests de non régression sur ce schéma, et vous êtes tranquille dans tous vos développements.\nUne sémantique correcte Là, ça se corse un peu. En effet, pour vérifier la conformité il faut que le CDA soit conforme à un ou plusieurs schematrons. Et il faut en fonction du contexte que ce CDA soit validé par un outil différent.\nPour l’homologation DMP (ou pour tout envoi via un EAI dans le DMP), les schematrons qui font foi sont ceux disponibles sur : https://github.com/ansforge/TestContenuCDA-3-0 Pour une homologation SEGUR (du moins c’était comme cela pour la vague 1), les schematrons qui font foi sont ceux disponbles sur l’espace de tests de l’ANS: https://interop.esante.gouv.fr/evs/home.seam Si ces outils s’appuyaient sur les même schematrons et sur les mêmes versions, il n’y aurait pas de soucis. Mais c’est loin d’être le cas :\nPour le premier outil, il suffit de voir le nombre de modifications du projet (https://github.com/ansforge/TestContenuCDA-3-0/commits) pour s’apercevoir que le numéro de version 3.0 n’est que très théorique.\nPour le deuxième outil, même topo à la lecture de le release note (https://interop.esante.gouv.fr/releasenote/ ) on s’aperçoit que c’est la dernière modification dans l’outil qui fait foi.\nPar conséquent, il est facile de comprendre qu’il est difficile d’être en mesure de générer des documents CDA conformes à ces deux outils et à tous moments.\nUn vocabulaire correcte Par vocabulaire correcte, j’entends les codes et libellés des jeux de valeurs (JDV) utilisés dans le CDA. Mais, ici l’affaire se corse encore un peu car ces mêmes jeux de valeurs sont également utilisés dans les transactions XDS (standard de l’IHE) du DMP.\nIl faut donc que les documents CDA générés contiennent des codes/libellés conformes à des Jeux de Valeurs et que les transactions XDS (valides pour le DMP) aussi utilisent ces mêmes jeux de valeurs.\nCes Jeux de Valeurs ont deux sources différentes :\nLes jeux de valeurs officiels pour le GIE sesam-vitale disponibles dans l’espace industriel, au jour d’écriture de cet article, ceux du 23 février : https://industriels.sesam-vitale.fr/documents/823064/2268106/20240223-JDV_DMP_API_V2_XML.zip Les jeux de valeurs à jour et maintenus au fil de l’eau par l’ANS disponibles sur le site du NOS : https://mos.esante.gouv.fr/NOS/ Et ont deux cibles déployées différentes :\nLes jeux de valeurs utilisés par les outils schematrons : https://github.com/ansforge/TestContenuCDA-3-0/tree/main/jeuxDeValeurs Les jeux de valeurs déployées sur les différents environnements du DMP pour vérification des transactions XDS Par conséquent, il est également facile de comprendre que si nous prenons un code / libellé d’une source, il n’est potentiellement pas disponible sur une des cibles et donc générer une erreur.\nConclusion Nul doute qu’il faut faire évoluer les outils de vérifications et d’affiner ces derniers pour être le plus à jour possible. Mais, serait-il possible de définir des versions, ou même si ce n’est pas possible de figer ces outils/JDV à une date donnée (tous les x mois par exemple), le temps que tous les acteurs se synchronisent sur ces jeux de valeurs et versions de schematron. Définir une temporalité, des itérations.\n","categories":"","description":"Les différents JDV et schematrons de vérification des documents CDA. Un enfer ? Une partie de plaisir ?\n","excerpt":"Les différents JDV et schematrons de vérification des documents CDA. …","ref":"/blog/2024/07/29/jongler-avec-les-jeux-de-valeurs-et-schematrons-de-lans/","tags":"","title":"Jongler avec les Jeux De Valeurs et Schematrons de l'ANS"},{"body":"Suite à la mise en place des nouvelles suites cryptographiques par le GIE SesamVitale sur l’environnement DEV1 pour permettre aux éditeurs de tester, la DevBox-santé DMP ne peut pas se connecter sur cet environnement.\nMise en production planifiée le 19 novembre 2024 Nous y travaillons afin de retrouver un comportement normal. Les autres environnements ne sont pas impactés par ces nouveautés : dmp/howtos/environnements/\nCommunication originale ","categories":"","description":"Problèmes d'authentification pour la devbox-santé dans les différents modes d'authentification\n","excerpt":"Problèmes d'authentification pour la devbox-santé dans les différents …","ref":"/communication/20240701_suitecryptodmp_dev1/","tags":"","title":"[25/06/2024]DMP : Evolution des suites cryptographiques sur environnement dev1"},{"body":"Avec les équipes d’Airmes, logiciel médico-social, client de la première heure de la DevBox-Santé, nous travaillons afin de raccourcir le délais entre la correction et la mise en production de la solution Airmes et notamment leur intégration des services socles du SEGUR. Nous avons chacun de notre côté automatisé un maximum les tâches de build/intégration/déploiement de nos produits.\nVoici une description des différentes étapes, de la mise en place d’une correction/évolution vers un déploiement au sein de la solution Airmes.\nDu côté de la DevBox-Santé Développement Une description d’un besoin client matérialisé par une demande dans le gestionnaire de demande de la DevBox-santé, ici pour le DMP : Quelques développements/tests dans les différents modules de la DevBox-santé : Packaging Un commit dans le gestionnaire de source avec un nouveau numéro de version du composant DMP déclenche le build ici en version 5.1.17: Cette version est rendue visible dans la documentation : https://doc.devbox-sante.fr/dmp/versions/#version---5117-21062024\nUne mise à jour du fichier de release-bom permet de faire le lien entre le composant DMP 5.1.17 et la version de la DevBox-Santé ici 5.6.0 : https://bitbucket.org/devbox-sante/devbox-sante-releases-bom/commits/tag/5.6.0\nCette version de la DevBox-Santé est rendue visible dans la documentation : https://doc.devbox-sante.fr/installer/versions/5.6/\nLivraison Reste à livrer la version à Airmes\nUpdate du fichier de configuration d’airmes avec la bonne version : --- a/pom.xml +++ b/pom.xml @@ -10,10 +10,10 @@ \u003cgroupId\u003efr.devboxsante.clients.airmes\u003c/groupId\u003e \u003cartifactId\u003eairmes-devbox\u003c/artifactId\u003e \u003cname\u003eDevBoxSante :: clients : airmes - docker\u003c/name\u003e - \u003cversion\u003e5.4.1-20240618-38\u003c/version\u003e + \u003cversion\u003e5.6.0-20240621-39\u003c/version\u003e \u003cpackaging\u003ejar\u003c/packaging\u003e \u003cproperties\u003e - \u003cdevboxsante-releases.version\u003e5.4.1\u003c/devboxsante-releases.version\u003e + \u003cdevboxsante-releases.version\u003e5.6.0\u003c/devboxsante-releases.version\u003e \u003cdbx-client.name\u003eairmes\u003c/dbx-client.name\u003e git commit puis git push ==\u003e déclenchement d’un nouveau pipeline pour la construction de l’image et déploiement vers hub.docker.com : Côté Airmes Mise à jour du docker file d’Airmes avec la version livrée git tag de la version puis git push ==\u003e déclenchement du pipeline de reconstruction de l’image personnalisé et déploiement vers l’environnement souhaité : ","categories":"","description":"À la recherche du plus court chemin entre une expression de besoin et le déploiement de sa mise en œuvre chez le client\n","excerpt":"À la recherche du plus court chemin entre une expression de besoin et …","ref":"/blog/2024/06/25/vers-un-d%C3%A9ploiement-continue-de-la-devbox-sant%C3%A9-au-sein-dairmes/","tags":"","title":"Vers un déploiement continue de la DevBox-Santé au sein d'Airmes"},{"body":"Dorénavant depuis la prise en charge de la demande DMP-440 : pouvoir remonter la conversation soap à l’éditeur en réponse pour analyse, il est possible de récupérer l’échange SOAP grâce à deux nouveaux points d’entrée dans les APIs REST :\nLe premier permet de récupérer la liste des erreurs survenues et qui sont sauvegardés sur le disque de la DevBox-Santé :\nget { url: {{base_url}}/dmp/errors body: none auth: none } Retourne une Map de fichiers horodatés indexés par l’identifiant de l’échange SOAP (exchangeId), comme par exemple:\n{ \"4abaf23c-fb0b-4313-9cce-6bbfeb89c21a\": { \"time\": \"2024-06-21T11:43:26.763+02:00\", \"path\": \"file:///C:/Users/lfo/AppData/Local/Temp/dbx-dmp-logs16131058871974231716/20240621114326dbx-dmp-error4abaf23c-fb0b-4313-9cce-6bbfeb89c21a.log\" } } Le deuxième point d’entrèe permet de télécharger le fichier contenant cet échange SOAP pour analyse par le centre-de-service@sesam-vitale.fr .\nPour connaître l’exchangeId qui concerne l’erreur à diagnostiquer, deux manières de faire :\nSoit vous connaissez la date et l’heure de l’incident, et vous rechercher l’échange SOAP à cette date. Soit au moment de la récupération de l’erreur DMP par le proxy REST vous récupérez l’exchangeId retourné Exemple :\n{ \"message\": \"org.apache.cxf.binding.soap.SoapFault: Le champ Resource_id est incorrect : 27707632208291^^^\u00261.2.250.1.213.1.4.10\u0026ISO^NH\", \"errorType\": \"DmpCxfSoapFaultInException\", \"messageEnum\": \"DMP_SERVER_ERROR\", \"exchangeId\": \"4abaf23c-fb0b-4313-9cce-6bbfeb89c21a\", \"stackTrace\": [ \"fr.devboxsante.dmp.core.cxf.DmpCxfWsEndPointFactory$2.handleMessage(DmpCxfWsEndPointFactory.java:95)\", \"org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)\", ... ]} ","categories":"","description":"Comment récupérer les trames SOAP pour analyse par le centre de service du sesam-vitale ?\n","excerpt":"Comment récupérer les trames SOAP pour analyse par le centre de …","ref":"/blog/2024/06/21/r%C3%A9tention-des-messages-soap-en-cas-dincident-de-production-dmp/","tags":"","title":"Rétention des messages SOAP en cas d'incident de production DMP"},{"body":" Nous vous informons que le service DMP de l’Assurance Maladie est à nouveau disponible en production et en test depuis le 07/06/2024 vers 11H.\nPlus d’info : https://industriels.sesam-vitale.fr/group/maintenances-incidents\n","categories":"","description":"","excerpt":" Nous vous informons que le service DMP de l’Assurance Maladie est à …","ref":"/communication/20240607_perturbationsdmp/","tags":"","title":"DMP : Perturbations/Indisponibilités du service le 07/06/2024 vers 08H00"},{"body":"Dans le cadre de la maintenance de la DevBox-Santé DMP, nous mettons à jour les schematrons de validation (https://doc.devbox-sante.fr/dmp/howtos/schematron/#validation-automatique). Or, pour la futur version 5.1.16 de la DevBox-santé DMP , la mise à jour impose une modification d’information du patient du document CDA. Le lieuDeNaissance (COG) devient obligatoire car c’est une information connu du téléservice INS Vous devez donc renseigner le DMPCPatient#lieuNaissance avec le code géographique (COG):\nExemple json :\n\"patient\": { \"matriculeINS\": { \"valeur\": \"279035121518989\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" }, \"internalId\": \"67890\", \"prenom\": \"DOMINIQUE\", \"nomUsuel\": \"pat-trois\", \"dateDeNaissance\": \"19790328\", \"lieuNaissance\": \"63220\" } Si vous ne le renseignez pas vous obtiendrez cette erreur:\nfr.devboxsante.dmp.cda.tools.DMPCCdaValidator$InvalidException: Document non conforme au Schematron /schematrons/profils/structurationMinimale/ASIP-STRUCT-MIN-StrucMin.xsl : /ClinicalDocument : (SMDS_CDAClinicalDocument): Erreur de conformité CI-SIS : Dans le cadre de l'INS, les traits de l'INS (Nom de naissance, premier prénom de l'acte de naissance, prénoms de l’acte de naissance, date de naissance, lieu de naissance (COG) et sexe) sont obligatoires Cette information était non obligatoire jusqu’à présent.\n","categories":"","description":"","excerpt":"Dans le cadre de la maintenance de la DevBox-Santé DMP, nous mettons à …","ref":"/communication/20240604_dmp_patientlieunaissance/","tags":"","title":"[04/06/2024] DMP `patient#lieuNaissance` obligatoire"},{"body":"Parceque, nous avons eu le même constat que les développeurs de Bruno : https://www.usebruno.com/manifesto\nParceque, nous voulons partager simplement nos exemples d’utilisation de nos apis.\nEn effet, voici les choix qui nous étaient offerts jusqu’à présent :\nDonner des exemples curl dans la documentation, c’est fastidieux et difficile à maintenir.\nPartager des collections via Postman, choix convenable mais avec les contraintes suivantes :\nmodifications multiples fastidieuses nécessite un compte propriétaire risque de partage de login/mot de passe accidentel important non maitrise des modifications dans le temps gestion des forks obscurs. Les développeurs de Bruno l’explique mieux que moi : https://www.usebruno.com/compare/bruno-vs-postman En clair, en tant que git addict nous devenons Bruno addict.\nCe n’est que le début et nous apprenons encore, mais voici le résultat en cours : https://bitbucket.org/devbox-sante/dbx-examples-bruno\n","categories":"","description":"Ou pourquoi nous allons utiliser dorénavant [Bruno](https://www.usebruno.com/) ?\n","excerpt":"Ou pourquoi nous allons utiliser dorénavant …","ref":"/blog/2024/06/04/pourquoi-bruno-mais-cest-qui/","tags":"","title":"Pourquoi Bruno ? Mais c'est qui ?"},{"body":"L’adresse IP du service LDAP annuaire.sesam-vitale.fr va évoluer\nAncienne IP : 217.108.164.109 Nouvelle IP : 194.206.122.25 ==\u003e Impact possible dans la configuration des parfeux sur les flux sortants.\n","categories":"","description":"Changement adresse IP  Annuaire LDAP SESAM le 3 juin 2024 à 9h30\n","excerpt":"Changement adresse IP  Annuaire LDAP SESAM le 3 juin 2024 à 9h30\n","ref":"/communication/20240603_changementurlmsant%C3%A9/","tags":"","title":"[03/06/2024] annuaire.sesam-vitale.fr "},{"body":" Attention Ces urls concernent la transaction TD0.9. Si vous utilisez le end-point /dmp/td09TableauDeBordUrl des APIs REST ou la méthode DMPCClient#td09TableauDeBordUrl des APIs Java et que vous êtes en production, cette information vous concerne. Dans la fiche d’information PDT-INF-547 nous pouvons lire :\nPour configurer, la DevBox-Santé avec les nouvelles urls de Production, il faut modifier le paramètre du fichier application.yml :\ndevbox-sante.dmp.url.web.prefix: https://ledmp.dmp.gouv.fr La DevBox-Santé avait initialement prévu qu’une seule URL du web DMP, il faut donc faire un choix de l’url de redirection vers une authentification avec CPS :\ndevbox-sante.dmp.url.web.prefix: https://wps-cps.dmp.monespacesante.fr/ ou encore vers ProSantéConnect :\ndevbox-sante.dmp.url.web.prefix: https://wps-psc.dmp.monespacesante.fr/ Il existe dans certain environnement, une variable d’environnements, DEVBOX_DMP_WEB_URL vous pouvez donc l’utiliser pour changer la valeur de l’url.\n","categories":"","description":"Suite à l'information de Modification des URLs WebPS DMP pour le 29/05/2024\n","excerpt":"Suite à l'information de Modification des URLs WebPS DMP pour le …","ref":"/communication/20240529_changementurlwebdmp/","tags":"","title":"[29/05/2024] Changement URL webPS DMP"},{"body":"Des problèmes sont survenus lors du chargement du fichier de paramètres DMP cette fin de semaine dernière. En effet, le chargement de l’url https://www.dmp.fr/documents/d/dmp/param-lps retournait de manière aléatoire, et parfois très souvent : HTTP response code: 400 .\nCe problème de chargement a un impact, sur la DevBox-santé DMP, notamment sur le chargement des paramètres (/dmp/parametres) ainsi que sur les requêtes de recherche (/dmp/td31…) et cela sur tous les environnements.\nCe matin ce problème de chargement semble être résolu. Nous avons travaillé sur un contournement, nous le mettrons en place le cas échéant.\n","categories":"","description":"HTTP response code: 400 for URL: https://www.dmp.fr/documents/d/dmp/param-lps\n","excerpt":"HTTP response code: 400 for URL: …","ref":"/communication/20240421_getparametresdmp/","tags":"","title":"[21/04/2024]Problème accès à dmp/param-lps"},{"body":"Afin de transiter les documents entre le LPS intégrateur et la DMP_UI, on profite de la DevBox-Santé qui tourne pour ajouter des controllers.\nAuthentification passage de contexte Échange de contexte PS / Patient entre le LPS intégrateur appelant et la DevBox-Santé DMP-UI\nDiagramme de séquences Exemple Envoi vers le DMP via la DMP_UI Diagramme de séquences Exemple lors de l’envoi d’une soumission de document au travers de la websocket par le LPS intégrateur une notification apparait dans la DMP-UI :\nImport vers le LPS Diagramme de séquences Exemple Lors de l’action “Intégrer dans le LPS” le document est envoyé au LPS intégrateur par la websocket.\n","categories":"","description":"Intégration de la DevBox-santé DMP-UI dans une iframe et passage de contexte.\n","excerpt":"Intégration de la DevBox-santé DMP-UI dans une iframe et passage de …","ref":"/blog/2024/01/15/int%C3%A9grer-la-devbox-sant%C3%A9-dmp-ui/","tags":"","title":"Intégrer la DevBox-Santé DMP-UI"},{"body":"La DevBox-santé CPS permet la signature de document PDF en utilisant les clés fournies dans les cartes. Par contre, par défaut Acrobat Reader d’Adobe ne reconnaît pas l’IGC Santé comme étant une autorité de certification valide. De plus, l’installation de la cryptolib CPS, rajoute bien ces autorités dans les magasins systèmes telles que ceux de windows, ou Firefox, par exemple :\nMais rien dans les magasins d’Acrobat Reader. Il faut donc l’ajouter manuellement.\nPour cela, il suffit de suivre la documentation d’Adobe : https://helpx.adobe.com/fr/acrobat/using/trusted-identities.html\nEt installer, les certificats d’autorités de l’IGC Santé : http://igc-sante.esante.gouv.fr/PC/ et plus particulièrement ces certificats :\nhttp://igc-sante.esante.gouv.fr/AC/ACI-FO-PP.cer (pour les cartes de productions) http://igc-sante.esante.gouv.fr/AC%20TEST/ACI-FO-PP-TEST.cer (pour les cartes de test) Pour vous aider quelques impressions écrans vous décrivant le déroulement de l’import.\nImport certificat Approuver le certificat pour signature de document Signature approuvé ","categories":"","description":"Comment installer les différent autorités de certificats de l'IGC Santé de l'ANS\n","excerpt":"Comment installer les différent autorités de certificats de l'IGC …","ref":"/blog/2023/10/13/installer-ligc-sant%C3%A9-dans-acrobat-reader/","tags":"","title":"Installer l'IGC santé dans Acrobat reader"},{"body":"L’accès aux différents TLSi exige désormais la version TLSv1.3, et impose des nouvelles suites cryptographiques acceptées pour le TLSv1.3 :\nTLS13-AES128-GCM-SHA256 TLS13-AES256-GCM-SHA384 TLS13-CHACHA20-POLY1305-SHA256 La configuration de l’environnement java de la Devbox-santé va suivre ces nouvelles prérogatives dans les futures versions des tools IGC santé 1.3.0.\nNéanmoins, la DevBox-santé est configurée par défaut pour utiliser le protocole TLSv1.2 mais utilise une JRE (Java Runtime Environnement) supportant le TLSv1.3.\nDes tests forçant l’usage du protocole TLSv1.3 pour le composant INSi sur l’environnement de qualification ont été réalisés avec succès.\nNous pouvons donc être confiant pour la migration TLSv1.3.\n","categories":"","description":"Validation du protocole TLSv1.3 dans la DevBox-Santé INSi et ApCV\n","excerpt":"Validation du protocole TLSv1.3 dans la DevBox-Santé INSi et ApCV\n","ref":"/blog/2023/08/07/migration-tlsv1.3-dans-les-diff%C3%A9rents-t%C3%A9l%C3%A9services/","tags":"","title":"Migration TLSv1.3 dans les différents téléservices"},{"body":" La structure des différents Identifiants nationaux sont décrits dans le MOS.\nLe Cadre d’Intéropérabilité des Systèmes d’Information de Santé a dédié une documentation pour définir toutes les méta données des structures et personnel de santé : https://esante.gouv.fr/annexe-sources-des-donnees-personnes-et-structures\nConcernant l’IdNat_PS et l’IdNat_Struct, cette documentation fait dorénavant référence au MOS :\nIdNat_Struct : https://mos.esante.gouv.fr/4.html#_88711c28-b4b0-41d6-abd5-bf4e3e9b2e6d IdNat_PS : https://mos.esante.gouv.fr/2.html#_b1a86104-5f11-47d6-bd74-cab5b25a6e16 IdNat_Struct Dont voici l’impression écran à la rédaction de cet article :\nIdNat_PS Dont voici l’impression écran à la rédaction de cet article :\nDans la DevBox-santé Dans la DevBox-santé DMP, l’identifiantNational de structure doit contenir le type de son identifiant en préfixe.\nÀ contrario, l’identifiant national du PS étant déjà typé par le nom de l’identifiant (rpps, adeli), il n’est donc pas obligatoirement préfixé.\nCe qui donne pour ces identifiants le mapping suivant dans la DevBox-santé DMP dans le cas d’un internal Id du professionnel d’une structure :\nOu plus simplement l’usage du RPPS obtenu par la lecture de la carte CPS en authontification directe (en authentification indirecte, disponible depuis la DevBox-santé DMP 5.0.8) :\n","categories":"","description":"Une tentative d'explication des structures des différents identifiants IdNatPs et IdNatStruct et leur interprétation dans la DevBox-Santé DMP\n","excerpt":"Une tentative d'explication des structures des différents identifiants …","ref":"/blog/2023/05/09/les-identifiants-nationaux-expliqu%C3%A9s/","tags":"","title":"Les identifiants nationaux expliqués"},{"body":"Les datamatrix générées par nos outils, ne permettent pas d’accéder à l’environnement graphique et génère une erreur de chargement de FONT. En effet, un appel au ins datamatrix controller :\ncurl -X POST \"http://localhost:8080/insi/v2/datamatrix/jpg?sizeInPx=128\" -H \"accept: */*\" -H \"Content-Type: application/json\" \\ -d \"{ \\\"matriculeINS\\\": { \\\"valeur\\\": \\\"1010663220754\\\", \\\"cle\\\": \\\"60\\\", \\\"identifiantSysteme\\\": \\\"1.2.250.1.213.1.4.8\\\" }, \\\"traitsIdentite\\\": { \\\"nomFamille\\\": \\\"D'ARTAGNAN DE L'HERAULT\\\", \\\"prenomActeNaissance\\\": \\\"PIERRE-ALAIN GUNTHER\\\", \\\"sexeAdministratif\\\": \\\"M\\\", \\\"dateNaissance\\\": \\\"2001-06-17\\\", \\\"lieuNaissance\\\": \\\"63220\\\" }}\" Peut générer l’erreur décrite dans le stackoverflow : https://stackoverflow.com/questions/69814102/spring-boot-in-docker-build-by-buildpack-cannot-load-font\nDonc pour que les Datamatrix puissent être générés correctement dans ce cas d’erreur dans Docker, vous pouvez générer une nouvelle image en installant la fontconfig nécessaire.\nFROM devboxsante/devbox:version USER root RUN apt-get update \u0026\u0026 \\ apt-get install --assume-yes fontconfig \u0026\u0026 \\ rm -rf /var/lib/apt/lists/* /var/cache/debconf/* EXPOSE 8080 Nous allons trouver un moyen d’incorporer cette config dans notre image et régler cette issue https://devbox-sante.atlassian.net/browse/INSI-64 .\nStay tuned…\n","categories":"","description":"Une image permettant la génération des INS_DATAMATRIX\n","excerpt":"Une image permettant la génération des INS_DATAMATRIX\n","ref":"/blog/2023/03/01/insi-datamatrix-dans-docker/","tags":"","title":"INSi : Datamatrix dans Docker"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 3.1\nDevBox-Sante CPS : 3.1.10 DevBox-Sante Vitale : 1.8.2 DevBox-Sante DMP : 5.0.2 DevBox-Sante INSi : 2.6.5 DevBox-Sante MSS : 1.2.2 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 Installer : 2.21\nDevBox-Sante CPS : 3.1.7 DevBox-Sante Vitale : 1.7.2 DevBox-Sante DMP : 4.7.18 DevBox-Sante INSi : 2.6.3 DevBox-Sante MSS : 1.2.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20221220_versions_courantes/","tags":"","title":"[20/12/2022] 3.1 et 2.21"},{"body":"Lors de notre dernier passage d’homologation, nous avons été fiers de cocher toutes les cases.\nMais ce n’est pas fini, nous apportons désormais une API permettant de générer facilement :\nLes volets de CR-BIO Les volets de Note de vaccination ","categories":"","description":"Fier d'avoir coché toutes les cases\n","excerpt":"Fier d'avoir coché toutes les cases\n","ref":"/blog/2022/11/30/dmp-homologation-2.6.1/","tags":"","title":"DMP : Homologation 2.6.1"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 3.0\nDevBox-Sante CPS : 3.1.10 DevBox-Sante Vitale : 1.8.2 DevBox-Sante DMP : 5.0.0 DevBox-Sante INSi : 2.6.5 DevBox-Sante MSS : 1.2.2 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 Installer : 2.20\nDevBox-Sante CPS : 3.1.7 DevBox-Sante Vitale : 1.7.2 DevBox-Sante DMP : 4.7.17 DevBox-Sante INSi : 2.6.3 DevBox-Sante MSS : 1.2.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20221128_versions_courantes/","tags":"","title":"[28/11/2022] 3.0 et 2.20"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 3.0\nDevBox-Sante CPS : 3.1.10 DevBox-Sante Vitale : 1.8.2 DevBox-Sante DMP : 5.0.0 DevBox-Sante INSi : 2.6.5 DevBox-Sante MSS : 1.2.2 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20221121_versions_courantes/","tags":"","title":"[21/11/2022] 3.0"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.19\nDevBox-Sante CPS : 3.1.7 DevBox-Sante Vitale : 1.7.2 DevBox-Sante DMP : 4.7.12 DevBox-Sante INSi : 2.6.3 DevBox-Sante MSS : 1.2.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20220927_versions_courantes/","tags":"","title":"[27/09/2022] 2.19"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.18\nDevBox-Sante CPS : 3.1.7 DevBox-Sante Vitale : 1.7.2 DevBox-Sante DMP : 4.7.12 DevBox-Sante INSi : 2.6.3 DevBox-Sante MSS : 1.2.0 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20220916_versions_courantes/","tags":"","title":"[16/09/2022] 2.18"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.17\nDevBox-Sante CPS : 3.1.7 DevBox-Sante Vitale : 1.7.2 DevBox-Sante DMP : 4.7.12 DevBox-Sante INSi : 2.6.3 DevBox-Sante MSS : 1.1.2 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20220711_versions_courantes/","tags":"","title":"[11/07/2022] 2.17"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.16\nDevBox-Sante CPS : 3.1.7 DevBox-Sante Vitale : 1.7.2 DevBox-Sante DMP : 4.7.9 DevBox-Sante INSi : 2.6.3 DevBox-Sante MSS : 1.1.2 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20220629_versions_courantes/","tags":"","title":"[29/06/2022] 2.16"},{"body":"Outils XDM Scenario HOP-11 Dans le Référentiel d’exigences – Hôpital – DPI – Annexe 1 – Vague 1 (xlsx), on peut lire l’exigence HOP-11.\nLe système DOIT proposer une interface pour intégrer, a minima de façon manuelle, voire de façon automatique, les documents en CDAR2 N1 reçus via MSSanté au format IHE_XDM.zip.\nCette exigence demande de pouvoir récupérer un fichier attaché au format XDM.zip d’un document reçu de la Messagerie Sécurisé de Santé. Récupérer ce fichier et l’interpréter via la DevBox-Santé rien de plus simple, il suffit de réaliser un POST HTTP à la boite à outils XDM :\nou autrement dit en curl :\ncurl -X POST \"http://localhost:8080/xdm/to/dmp\" -H \"accept: application/json\" -H \"Content-Type: multipart/form-data\" -F \"file=@xdm.zip;type=application/x-zip-compressed\" La DevBox-santé va lire l’archive ZIP, l’interpréter, et vous obtenez la réponse json suivante :\n{ \"comments\": \"submissionComments\", \"contentType\": \"04\", \"documents\": [ { \"classCode\": \"10\", \"comments\": \"document comments\", \"confidentialities\": [ \"N\" ], \"content\": \"ZG9jdW1lbnQgY29udGVudA==\", \"creationTime\": \"20220608162831\", \"entryUuid\": \"76875ea0-e741-41ae-93e6-a5026bb0b0f8\", \"events\": [ { \"code\": \"H33\", \"codingScheme\": \"2.16.840.1.113883.6.3\", \"displayName\": \"DÃ©collement et dÃ©chirement de la rÃ©tine\" } ], \"format\": \"urn:ihe:iti:xds-sd:text:2008\", \"legalAuthenticator\": { \"internalId\": \"3750100125/123\", \"nom\": \"auteurNom\", \"prenom\": \"auteurPrenom\", \"specialite\": \"G15_10/SM30\", \"structureSante\": { \"idNational\": \"1750100125\", \"nom\": \"structureNom\" } }, \"patient\": { \"ins\": \"279035121518989\", \"insAutorite\": \"1.2.250.1.213.1.4.10\", \"nomUsuel\": \"PAT-TROIS\", \"prenomUsuel\": \"Dominique\", \"dateDeNaissance\": \"19530724\", \"ordreDeNaissance\": 0, \"sexe\": \"M\" }, \"practiceSetting\": \"AMBULATOIRE\", \"serviceStartTime\": \"20111025\", \"serviceStopTime\": \"20111125\", \"title\": \"document titre\", \"type\": \"11488-4\", \"uniqueId\": \"1.2.250.1.287.1.1234567.1.16547057180821\", \"repositoryUniqueId\": \"1.2.250.1.287.1.1234567\", \"confidentialitiesAsListOfEnum\": [ \"N\" ] } ], \"patient\": { \"ins\": \"279035121518989\", \"insAutorite\": \"1.2.250.1.213.1.4.10\", \"ordreDeNaissance\": 0 }, \"title\": \"submissionTitle\", \"uuid\": \"83bd0ae8-ccfb-4313-bd6b-4ee77f73a0f8\", \"uniqueId\": \"1.2.250.1.287.1.1234567.3.16547057180852\" } Si vous avez déjà intégré la DevBox-Santé DMP vous remarquerez que c’est exactement la même structure de données que pour une soumission de documents vers le DMP. Le contenu binaire du document et dans la balise content encodé en Base64.\nVous voulez réaliser l’opération inverse, générer une archive XDM.zip à partir d’une soumission :\nOutils CDA Comme pour l’archive XDM, il est possible de lire/écrire les documents CDA R2 N1 à structuration minimale et récupérer un DMPCDocument de la DevBox-santé DMP.\nExigence DOC2 En effet, l’exigence DOC 2 nous dit :\nLe système DOIT produire TYPE_DE_DOCUMENT au format CDA R2 N1 avec un PDF encapsulé en base 64 conformément au volet Structuration Minimale du CI-SIS [CISIS1].\nPour cela :\nOutils PDF et Datamatrix INS Exigenc DOC4 Mais encore, que répondre à l’exigence DOC4 :\nLe système DOIT produire les documents “Lettre de liaison en sortie” et “Compte rendu opératoire” avec l’apposition du datamatrix INS dans le PDF/A-1 conformément au référentiel datamatrix de l’INS [INS5].\nPour cela, la DevBox-Santé peut vous aider également pour la génération des PDF/A :\nMais aussi pour les datamatrix INS : /insi/howtos/datamatrix/\nOutils Annuaire L’annuaire de la devbox-santé peut également répondre aux exigences concernant l’annuaire, comme par exemple ANN1 :\nLe système DOIT être en capacité d’intégrer automatiquement l’extraction publique « PS_LibreAcces_Personne_activite » de l’annuaire santé.fr, conformément au Dossier des Spécifications Fonctionnelles et Techniques Fichiers d’extraction des données en libre accès [ANN1].\nUne présentation de l’annuaire est disponible ici.\n","categories":"","description":"Exemple de la prise en charge de XDM et CDA dans un DPI du couloir Hôpital\n","excerpt":"Exemple de la prise en charge de XDM et CDA dans un DPI du couloir …","ref":"/blog/2022/06/09/segur-la-devbox-sant%C3%A9-dans-le-r%C3%A9f%C3%A9rentiel-dexigences-hopital/","tags":"","title":"SEGUR : la DevBox-Santé dans le référentiel d’exigences Hopital"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.15\nDevBox-Sante CPS : 3.1.7 DevBox-Sante Vitale : 1.7.2 DevBox-Sante DMP : 4.7.7 DevBox-Sante INSi : 2.6 DevBox-Sante MSS : 1.1.2 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20220607_versions_courantes/","tags":"","title":"[07/06/2022] 2.15"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.14\nDevBox-Sante CPS : 3.1.7 DevBox-Sante Vitale : 1.7.2 DevBox-Sante DMP : 4.7.7 DevBox-Sante INSi : 2.6 DevBox-Sante MSS : 1.1.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20220520_versions_courantes/","tags":"","title":"[20/05/2022] 2.14"},{"body":"La prise en charge de l’identifiant national de santé (INS) dans les standards d’interopérabilité et les volets du CI-SIS défini dans l’annexe CISIS de l’ANS a impliqué quelques changements dans la DevBox-Santé DMP (version 4.7.7).\nVoici l’interprétation que nous avons faîtes de la gestion des noms et prénoms de l’annexe INS vers la génération CDA et XDS :\nSupposons les informations du patient suivantes :\nNom de Famille : nomNaissance (origine TS INSi) Prénoms de l’acte de naissance : Prenom1 Prenom2 (origine TS INSi) Premier Prénom de l’acte de naissance : Prenom1 (origine TS INSi) Nom Utilisé : nomUtilise (origine CarteVitale / LPS) Prénom Utilisé : PrenomUtilise (origine Carte Vitale / LPS) Alors, le clinical document CDA contiendra : \u003cpatient\u003e \u003cname\u003e \u003cgiven\u003ePrenom1 Prenom2\u003c/given\u003e \u003cfamily qualifier=\"BR\"\u003enomNaissance\u003c/family\u003e \u003cfamily qualifier=\"CL\"\u003enomUtilise\u003c/family\u003e \u003cgiven qualifier=\"BR\"\u003ePrenom1\u003c/given\u003e \u003cgiven qualifier=\"CL\"\u003ePrenomUtilise\u003c/given\u003e \u003c/name\u003e \u003c/patient\u003e la soumission XDS contiendra:\n\u003cSlot name=\"sourcePatientInfo\"\u003e \u003cValueList\u003e \u003cValue\u003ePID-5|nomNaissance^Prenom1^Prenom1 Prenom2^^^^L\u003c/Value\u003e \u003cValue\u003ePID-5|nomUtilise^PrenomUtilise^^^^^D\u003c/Value\u003e \u003c/ValueList\u003e \u003c/Slot\u003e Dans la DevBox-santé DMP en Java, il faudra le coder de la manière suivante :\nDMPCPatient patient = ... patient.setNomPatronymique(\"nomNaissance\"); patient.setNomUsuel(\"nomUtilise\") patient.setPrenom(\"Prenom1 Prenom2\") patient.prenomUsuel(\"PrenomUtilise\") En Json :\n\"patient\": { \"nomPatronymique\": \"nomNaissance\", \"nomUsuel\": \"nomUtilise\", \"prenom\": \"Prenom1 Prenom2\", \"prenomUsuel\": \"PrenomUtilise\", } Dans le cas de RUTH, de la carte vitale de test 01 INSi:\nNom de Famille : NESSI (origine TS INSi) Prénoms de l’acte de naissance : RUTH ISABELLE (origine TS INSi) Premier Prénom de l’acte de naissance : RUTH (origine TS INSi) Nom Utilisé : DE VINCI (origine CarteVitale / LPS) Prénom Utilisé : RUTH (origine Carte Vitale / LPS) Le CDA : \u003cpatient\u003e \u003cname\u003e \u003cgiven\u003eRUTH ISABELLE\u003c/given\u003e \u003cfamily qualifier=\"BR\"\u003eNESSI\u003c/family\u003e \u003cfamily qualifier=\"CL\"\u003eDE VINCI\u003c/family\u003e \u003cgiven qualifier=\"BR\"\u003eRUTH\u003c/given\u003e \u003cgiven qualifier=\"CL\"\u003eRUTH\u003c/given\u003e \u003c/name\u003e \u003c/patient\u003e La soumission XDS :\n\u003cSlot name=\"sourcePatientInfo\"\u003e \u003cValueList\u003e \u003cValue\u003ePID-5|NESSI^RUTH^RUTH ISABELLE^^^^L\u003c/Value\u003e \u003cValue\u003ePID-5|DE VINCI^RUTH^^^^^D\u003c/Value\u003e \u003c/ValueList\u003e \u003c/Slot\u003e Dans la DevBox-santé DMP en Java :\nDMPCPatient patient = ... patient.setNomPatronymique(\"NESSI\"); patient.setNomUsuel(\"DE VINCI\"); patient.setPrenom(\"RUTH ISABELLE\"); patient.prenomUsuel(\"RUTH\"); en Json :\n\"patient\": { \"nomPatronymique\": \"NESSI\", \"nomUsuel\": \"DE VINCI\", \"prenom\": \"RUTH ISABELLE\", \"prenomUsuel\": \"RUTH\", } ","categories":"","description":"La prise en charge de l’identifiant national de santé (INS) dans les standards d’interopérabilité et les volets du CI-SIS dans la DevBox-Santé DMP\n","excerpt":"La prise en charge de l’identifiant national de santé (INS) dans les …","ref":"/blog/2022/05/20/int%C3%A9gration-de-lannexe-ci-sis-ins-dans-la-devbox-sant%C3%A9-dmp/","tags":"","title":"Intégration de l’annexe CI-SIS INS dans la DevBox-santé DMP"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.13\nDevBox-Sante CPS : 3.1.7 DevBox-Sante Vitale : 1.7.2 DevBox-Sante DMP : 4.7.3 DevBox-Sante INSi : 2.6 DevBox-Sante MSS : 1.1.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20220509_versions_courantes/","tags":"","title":"[09/05/2022] 2.13"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.12\nDevBox-Sante CPS : 3.1.6 DevBox-Sante Vitale : 1.7.2 DevBox-Sante DMP : 4.7.3 DevBox-Sante INSi : 2.6 DevBox-Sante MSS : 1.1.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20220504_versions_courantes/","tags":"","title":"[04/05/2022] 2.12"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.11\nDevBox-Sante CPS : 3.1.5 DevBox-Sante Vitale : 1.7.2 DevBox-Sante DMP : 4.7.3 DevBox-Sante INSi : 2.6 DevBox-Sante MSS : 1.1.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20220420_versions_courantes/","tags":"","title":"[20/04/2022] 2.11"},{"body":"La CPSFacade et son proxy REST Devbox-Santé-CPS expose un endpoint permettant de signer tout document. Mais une fois signé le contenu, comment en vérifier sa signature ?\nSignature avec DevBox-Santé CPS Supposons le texte à signer suivant stocker dans le fichier message.json:\n{\"message\": \"hello DevBox-Santé\"} Pour le signer vous allez utiliser le proxy cps de la DevBox-santé sur le port 9999, en CURL ça donne : curl -X POST \"http://localhost:9999/cps/sign/for/SIGNATURE/with/SHA256WithRSA\" -H \"accept: */*\" -H \"Content-Type: application/json\" --data @message.json --output signature.txt C’est tout ce qu’il vous faut pour obtenir une signature et le fichier signature.txt contiendra la signature du message.json.\nVérification avec OpenSSL Pour cela vous devez obtenir le certificat publique de la carte CPS :\ncurl -X GET \"http://localhost:9999/cps/certificate/SIGNATURE\" -H \"accept: */*\" --output certificat.cer Le ficher certificat.cer contenant le certificat ressemble à cela :\nMIIIkjCCBnqgAwIBAgIQY9r/ ... S80hoFHQ= Pour qu’il plaise à OpenSSL, il faut lui dire ce que c’est en rajoutant les lignes dans le fichier :\n-----BEGIN CERTIFICATE----- MIIIkjCCBnqgAwIBAgIQY9r/ ... S80hoFHQ= -----END CERTIFICATE----- Dans le certificat nous pouvons extraire la clé publique : openssl x509 -in certificat.cer -pubkey -noout \u003e pubkey.pem et on obtient un fichier pubkey.pem :\n-----BEGIN PUBLIC KEY----- MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAsjipTM5ec9lNhfI280/S YdDIHE0DNPS+ofB24EN4QX669BkAdefzZtAwEPfR29V+zLwRj0tgjGADXVAp/1rT F30YPumCLwO2YYXgtx3tkQTQxadb02MIJ447VJPBPr5pqsTc4dcCnLcn/QAgVvdk bIU2vRwa7Xkve/npoHhMnSboCCfuHcoP1WNagIZuy7v8EcNiqAXf88bt9qLjMXSE Ff7lV5OhroRlSdQ06BHJokXWtEjbrV+TLDT0HuA0XaAfGlHFL2vJnifrhZXklTmr ZSUceRSCleTxR0PR8pITpa7yTXz84dB33q0XrCti12YLG7oruJZ064YEzDCr+SJ7 iQIDAQAB -----END PUBLIC KEY----- Donc maintenant nous avons le texte, une signature, et une clé publique, il ne reste plus qu’à vérifier que la signature soit conforme :\n$ openssl dgst -sha256 -verify pubkey.pem -signature signature.txt message.json Verified OK Et voilà.\n","categories":"","description":"Comment vérifier une signature réalisée depuis Devbox-santé CPS avec OpenSSL\n","excerpt":"Comment vérifier une signature réalisée depuis Devbox-santé CPS avec …","ref":"/blog/2022/04/07/v%C3%A9rification-dune-signature-cps-avec-openssl/","tags":"","title":"Vérification d’une signature CPS avec OpenSSL"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.10\nDevBox-Sante CPS : 3.1.5 DevBox-Sante Vitale : 1.7.2 DevBox-Sante DMP : 4.7.1 DevBox-Sante INSi : 2.6 DevBox-Sante MSS : 1.1.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20220401_versions_courantes/","tags":"","title":"[01/04/2022] 2.10"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.9\nDevBox-Sante CPS : 3.1.5 DevBox-Sante Vitale : 1.7.2 DevBox-Sante DMP : 4.7.0 DevBox-Sante INSi : 2.6 DevBox-Sante MSS : 1.1.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20220302_versions_courantes/","tags":"","title":"[02/03/2022] 2.9"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.8\nDevBox-Sante CPS : 3.1.4 DevBox-Sante Vitale : 1.7.1 DevBox-Sante DMP : 4.6.6 DevBox-Sante INSi : 2.6 DevBox-Sante MSS : 1.1.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20220217_versions_courantes/","tags":"","title":"[17/02/2022] 2.8"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.7\nDevBox-Sante CPS : 3.1.3 DevBox-Sante Vitale : 1.7.1 DevBox-Sante DMP : 4.6.6 DevBox-Sante INSi : 2.6 DevBox-Sante MSS : 1.1.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20220211_versions_courantes/","tags":"","title":"[11/02/2022] 2.7"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.6\nDevBox-Sante CPS : 3.1.3 DevBox-Sante Vitale : 1.7.1 DevBox-Sante DMP : 4.6.6 DevBox-Sante INSi : 2.5.3 DevBox-Sante MSS : 1.1.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20220209_versions_courantes/","tags":"","title":"[09/02/2022] 2.6"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.5\nDevBox-Sante CPS : 3.1.3 DevBox-Sante Vitale : 1.7.1 DevBox-Sante DMP : 4.6.5 DevBox-Sante INSi : 2.5.3 DevBox-Sante MSS : 1.1.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20220117_versions_courantes/","tags":"","title":"[17/01/2022] 2.5"},{"body":"Le GRIVES (Groupe Régional d’identitovigilance en santé) a sorti une fiche pratique en décembre 2021, pour expliquer comment gérer les discordances d’informations entre l’INS et l’identité présente sur une pièce d’identité. Elle informe sur l’origine des différentes discordances, leurs fréquences et donne la conduite à tenir en cas de discordance.\nComme par exemple, les discordances sur les dates de naissance : Ou encore l’arbre décisionnel suivant :\nBien sur, ceci n’est qu’un petit exemple des informations que l’on peut trouver dans ce document.\nElle est disponible dans la FAQ du téléservice INSI dans l’espace industriels sesam-vitale : https://industriels.sesam-vitale.fr/group/teleservice-insi/faq-integration-insi\nElle est aussi consultable directement ici : https://grives.sante-paca.fr/wp-content/uploads/2021/12/FP-04-CAT-Discordances-INS-et-identite%CC%81-pie%CC%80ce-identite%CC%81-V1.4.pdf\n","categories":"","description":"Conduite à tenir devant une discordance entre l'INS et l'identité présente sur une pièce d'identité\n","excerpt":"Conduite à tenir devant une discordance entre l'INS et l'identité …","ref":"/blog/2022/01/17/discordance-ins-et-pi%C3%A8ce-didentit%C3%A9/","tags":"","title":"Discordance INS et pièce d'identité"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.4\nDevBox-Sante CPS : 3.1.3 DevBox-Sante Vitale : 1.7.1 DevBox-Sante DMP : 4.6.5 DevBox-Sante INSi : 2.5.2 DevBox-Sante MSS : 1.1.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20220110_versions_courantes/","tags":"","title":"[10/01/2022] 2.4"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.3\nDevBox-Sante CPS : 3.1.3 DevBox-Sante Vitale : 1.7.1 DevBox-Sante DMP : 4.6.5 DevBox-Sante INSi : 2.5.1 DevBox-Sante MSS : 1.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 Installer : 1.9\nDevBox-Sante CPS : 2.5 DevBox-Sante Vitale : 1.5 DevBox-Sante DMP : 4.0.2 DevBox-Sante INSi : 1.4 DevBox-Sante MSS : 1.0 Licence Manager : 1.2 JRE : 11_0_5 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20220103_versions_courantes/","tags":"","title":"[03/01/2022] 2.3"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.2\nDevBox-Sante CPS : 3.1.1 DevBox-Sante Vitale : 1.6 DevBox-Sante DMP : 4.6.2 DevBox-Sante INSi : 2.4 DevBox-Sante MSS : 1.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 Installer : 1.9\nDevBox-Sante CPS : 2.5 DevBox-Sante Vitale : 1.5 DevBox-Sante DMP : 4.0.2 DevBox-Sante INSi : 1.4 DevBox-Sante MSS : 1.0 Licence Manager : 1.2 JRE : 11_0_5 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20211201_versions_courantes/","tags":"","title":"[01/12/2021] 2.2 et 1.9"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.1\nDevBox-Sante CPS : 3.1 DevBox-Sante Vitale : 1.5 DevBox-Sante DMP : 4.6 DevBox-Sante INSi : 2.3 INSI-34 : Fournir API Rest compatible 1.X DevBox-Sante MSS : 1.1 Licence Manager : 1.2 Eureka : 1.2 JRE : ^11_0_9 Installer : 1.9\nDevBox-Sante CPS : 2.5 DevBox-Sante Vitale : 1.5 DevBox-Sante DMP : 4.0.2 DevBox-Sante INSi : 1.4 DevBox-Sante MSS : 1.0 Licence Manager : 1.2 JRE : 11_0_5 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20211115_versions_courantes/","tags":"","title":"[15/11/2021] 2.1 et 1.9"},{"body":"Les versions actuelles de nos composants dans nos installers sont :\nInstaller : 2.0\nDevBox-Sante CPS : 3.1 DevBox-Sante Vitale : 1.5 DevBox-Sante DMP : 4.6 DevBox-Sante INSi : 2.1 DevBox-Sante MSS : 1.1 Licence Manager : 1.2 Eureka : 1.0 JRE : ^11_0_9 Installer : 1.9\nDevBox-Sante CPS : 2.5 DevBox-Sante Vitale : 1.5 DevBox-Sante DMP : 4.0.2 DevBox-Sante INSi : 1.4 DevBox-Sante MSS : 1.0 Licence Manager : 1.2 JRE : 11_0_5 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants dans nos installers sont : …","ref":"/5.x/installer/poste_client/versions/_archives/20211021_versions_courantes/","tags":"","title":"[21/10/2021] 2.0 et 1.9"},{"body":"Les versions actuelles de nos composants sont :\nInstaller : 1.9\nDevBox-Sante CPS : 2.5 DevBox-Sante Vitale : 1.5 VITALE-15 [MacOS] Proxy problème d’encodage DevBox-Sante DMP : 4.0.2 et 3.2 DevBox-Sante INSi : 1.4 DevBox-Sante MSS : 1.0 Licence Manager : 1.2 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants sont :\nInstaller : 1.9 …","ref":"/5.x/installer/poste_client/versions/_archives/20211008_versions_courantes/","tags":"","title":"[08/10/2021] 1.9"},{"body":"Lors d’une session RDP / Citrix, il est possible qu’un executable installé puisse accéder aux différents ports USB d’un poste client. Pour celà, il faut réaliser un mapping des ports USB (https://superuser.com/questions/49285/access-local-usb-devices-from-a-remote-pc-via-remote-desktop, par exemple)\nLa DevBox-santé lancée dans un environnement Citrix/Windows RDP est accessible sur un numéro de port TCP commun à l’ensemble des sessions utilisateurs de ce serveur RDP.\nDans un environnement Citrix/RDP, il est donc important qu’une et une seule DevBox-santé soit lancée par poste utilisateur sur un numéro de port TCP différent, afin de faire le lien entre les lecteur branchés sur les ports USB du poste client et le port TCP utilisé :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Serveur RDP\" { package \"Session Utilisateur 1\" { [DevBox-Santé1:9999] as devbox1 DEVBOX_COLOR } package \"Session Utilisateur 2\" { [DevBox-Santé2:9998] as devbox2 DEVBOX_COLOR } } node \"Poste utilisateur 1\" { [Lecteur USB / Utilisateur 1] as usb1 } node \"Poste utilisateur 2\" { [Lecteur USB / Utilisateur 2] as usb2 } devbox1 -- usb1 : mapping port USB devbox2 -- usb2 : mapping port USB Dans cet exemple, nous avons deux utilisateurs sur deux postes différents qui ouvrent une session RDP sur un même serveur. Sur chacun de ces postes est installé un lecteur de carte.\nPour garantir, que l’utilisateur 1 puisse accéder à sa DevBox-santé, il faut réaliser un mapping entre la session de l’utilisateur 1 et le numéro de port 9999. Idem pour l’utilisateur 2 et le numéro de port 9998.\nATTENTION : il n’est pas possible de lancer la DevBox-santé en tant que service sur le serveur RDP car il ne pourra pas accéder au port USB du client lors de son lancement.\nDémarrage à partir d’une url de la DevBox-santé Il est possible de démarrer la DevBox-santé pour un utilisateur donné via une URL :\ndevboxsante://config?server.port=10000 ","categories":"","description":"Démarrer la DevBox-Santé dans un environnement RDP / Citrix\n","excerpt":"Démarrer la DevBox-Santé dans un environnement RDP / Citrix\n","ref":"/blog/2021/09/20/devbox-sant%C3%A9-dans-un-environnement-rdp/citrix/","tags":"","title":"DevBox-santé dans un environnement RDP/Citrix"},{"body":"Les versions actuelles de nos composants sont :\nDevBox-Sante DMP : 4.0.2 et 3.2 DevBox-Sante INSi : 1.4 INSI-15 [Activité] en cas d’une multiactivités, pouvoir passer l’activité dans le contexte DevBox-Sante MSS : 1.0 DevBox-Sante CPS : 2.5 DevBox-Sante Vitale : 1.4 installer : 1.8 lm : 1.2 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants sont :\nDevBox-Sante DMP : …","ref":"/5.x/installer/poste_client/versions/_archives/20210712_versions_courantes/","tags":"","title":"[12/07/2021] 1.8"},{"body":"Les versions actuelles de nos composants sont :\nDevBox-Sante DMP : 4.0.2 DMP-146 [TD31Find] erreur lors d'un retour vide : [XDSStoredQueryMissingParam] parameterName=$uuid\nDevBox-Sante INSi : 1.3.1 DevBox-Sante MSS : 1.0 DevBox-Sante CPS : 2.5 DevBox-Sante Vitale : 1.4 installer : 1.7 lm : 1.2 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants sont :\nDevBox-Sante DMP : …","ref":"/5.x/installer/poste_client/versions/_archives/20210707_versions_courantes/","tags":"","title":"[07/07/2021] 1.7"},{"body":"Les versions actuelles de nos composants sont :\nDevBox-Sante DMP : 4.0.1 et 3.2 DevBox-Sante INSi : 1.3.1 DevBox-Sante MSS : 1.0 DevBox-Sante CPS : 2.5 DevBox-Sante Vitale : 1.4 installer : 1.6 lm : 1.2 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants sont :\nDevBox-Sante DMP : …","ref":"/5.x/installer/poste_client/versions/_archives/20210622_versions_courantes/","tags":"","title":"[22/06/2021] 1.6"},{"body":"Les versions actuelles de nos composants sont :\nDevBox-Sante DMP : 4.0.1 et 3.2 DevBox-Sante INSi : 1.3 DevBox-Sante MSS : 1.0 DevBox-Sante CPS : 2.5 DevBox-Sante Vitale : 1.4 installer : 1.5 lm : 1.2 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants sont :\nDevBox-Sante DMP : …","ref":"/5.x/installer/poste_client/versions/_archives/20210621_versions_courantes/","tags":"","title":"[21/06/2021] 1.5"},{"body":"Les versions actuelles de nos composants sont :\nDevBox-Sante DMP : 4.0 et 3.2 DevBox-Sante INSi : 1.3 DevBox-Sante MSS : 1.0 DevBox-Sante CPS : 2.5 DevBox-Sante Vitale : 1.4 installer : 1.4 lm : 1.2 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants sont :\nDevBox-Sante DMP : 4.0 …","ref":"/5.x/installer/poste_client/versions/_archives/20210618_versions_courantes/","tags":"","title":"[18/06/2021] 1.4"},{"body":"Pour comprendre comment les métadonnées des documents du DMP doivent être gérés, trois documents du Cadre d’intéropérabilité des Systèmes d’Information de Santé sont à étudier.\nle [CI_PARTAGE] dont la version courante est 1.6 : décrit la manière d’intégrer le stantard XDS et XDM de l’IHE pour les données de santé en France le [CI_STRU_ENTETE] dont la version courante est la 1.6 : décrit la manière d’intégrer le standard CDAr2 de HL7 international le [CI_ANX_CDA] dont la version courante est la 1.4 : décrit les liens entre les métadonnées des deux standards. Etude de cas Event : l’acte médical à l’origine de la soumission d’un document Les documents dans la DevBox-santé DMP sont représentés par un objet DMPCDocument. Dans ce DMPCDocument, nous allons nous intéresser à la propriété correspondant à l’acte médical à l’origine de la soumission dans le DMP : events.\nLa propriété events est un DMPCCode dont la nomenclature n’est pas fourni par les jeux de valeurs du DMP. Mais, en lisant le [CI_ANX_CDA], on apprend que les nomenclatures autorisées pour cette métadonnée sont :\nLa CCAM pour les actes médicaux ou médico-techniques La CIM10 pour les diagnostiques La LOINC pour la biologie Note : la CCAM et la CIM10 (et bientôt la LOINC) sont des nomenclatures également indéxées dans notre offre DevBox-santé annuaire\nDans ce même document [CI_ANX_CDA], on peut lire également et surtout qu’il y a une correspondance entre le ClinicalDocument/documentationOf/serviceEvent/code et le XDSDocumentEntry.eventCodes.\nDonc si nous codons avec l’API Java les lignes suivantes :\nDMPCDocument document = new DMPCDocument(); document.addEvent(new DMPCCode(\"H33\", \"2.16.840.1.113883.6.3\", \"Décollement et déchirement de la rétine\")); ou encore si nous avons dans notre requete REST /td21SubmitDocuments:\n{ \"request\": { \"submission\": { \"documents\": [ \"events\": [ { \"code\": \"H33\", \"codingScheme\": \"2.16.840.1.113883.6.3\", \"displayName\": \"Décollement et déchirement de la rétine\" } ], ... } La DevBox-Santé DMP, va générer la transaction XDS contenu dans la requête SOAP à destination du DMP. Cette dernière contiendra : \u003cExtrinsicObject id=\"urn:uuid:8aaa0dc6-9d9e-43d0-88d1-a58833cd6b7d\" mimeType=\"text/xml\" objectType=\"urn:uuid:7edca82f-054d-47f2-a032-9b2a5b5186c1\"\u003e \u003cClassification classificationScheme=\"urn:uuid:2c6b8cb7-8b2a-4051-b291-b1ae6a575ef4\" classifiedObject=\"urn:uuid:8aaa0dc6-9d9e-43d0-88d1-a58833cd6b7d\" nodeRepresentation=\"H33\"\u003e \u003cSlot name=\"codingScheme\"\u003e \u003cValueList\u003e \u003cValue\u003e2.16.840.1.113883.6.3\u003c/Value\u003e \u003c/ValueList\u003e \u003c/Slot\u003e \u003cName\u003e \u003cLocalizedString charset=\"UTF-8\" value=\"\"Décollement et déchirement de la rétine\" xml:lang=\"FR\"/\u003e \u003c/Name\u003e \u003c/Classification\u003e Le document CDA généré contiendra :\n\u003c?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?\u003e \u003cClinicalDocument xmlns=\"urn:hl7-org:v3\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.w3.org/2001/XMLSchema-instance\"\u003e ... \u003cdocumentationOf\u003e \u003cserviceEvent\u003e \u003ccode code=\"H33\" codeSystem=\"2.16.840.1.113883.6.3\" displayName=\"Décollement et déchirement de la rétine\"/\u003e Conclusion La DevBox-santé DMP en plus de gérer les différents standards techniques (SOAP, MTOM, SAML, PKCS11, PKCS12, TLS …) et fonctionnels (CPx, CI-SIS, IHE, CDA) elle prend soin d’assurer la cohérance entre les données renseignées.\n","categories":"","description":"La gestion des différentes métadonnées dans la DevBoxSanté DMP.\n","excerpt":"La gestion des différentes métadonnées dans la DevBoxSanté DMP.\n","ref":"/blog/2021/06/10/les-m%C3%A9tadonn%C3%A9es-des-documents-du-dmp/","tags":"","title":"Les métadonnées des documents du DMP"},{"body":"Lors de nos différentes intégrations, nous avons eu besoin de nous interfacer avec ProSantéConnect. En effet, ProSantéConnect fournit une bonne alternative à nos outils SSO basés sur la carte CPS et le standard PKCS11. J’ai donc voulu décrire un peu les mécanismes d’intégration dans spring-boot qui est notre framework de prédilection.\nOr, nous n’avons que réaliser ce qui est déjà bien décrit par Patrice Blanchardie dans son blog. Nous vous invitons donc à lire son article.\n","categories":"","description":"Comment intégrer une application spring-boot à [ProSantéConnect](https://integrateurs-cps.asipsante.fr/pages/prosanteconnect/presentation-generale)\n","excerpt":"Comment intégrer une application spring-boot à …","ref":"/blog/2021/06/01/ecps-int%C3%A9gration-de-prosant%C3%A9connect/","tags":"","title":"eCPS \u003e Intégration de ProSantéConnect"},{"body":"L’installation sous Linux, Ubuntu dans mon cas, d’un lecteur PC/SC. En résumé, il faut installer les packages suivants :\nJ’ai récupéré les drivers spécifiques pour mon lecteur, un Liteo Olaqin dans mon cas : https://www.olaqin.fr/actualite-et-support-de-votre-liteo/\nTélécharger le driver Décompresser le driver lire le Readme Step 1 : Installation les librairies PC/SC. On trouve toutes les informations sur https://doc.ubuntu-fr.org/smartcards sudo apt-get install pcscd sudo apt-get install libpcsclite1 sudo apt-get install pcsc-tools Check de l’installation : pcsc_scan\nStep 2 : Installation des libusb sudo apt-get install libusb-1.0-0-dev Step 3 : cd scmccid_5.0.35_linux sudo ./install.sh ## Step 4 : optionnel\n## Step 5 : reload pcsclite deamon\nldd /usr/sbin/pcscd ","categories":"","description":"Comment installer un lecteur PC/SC sous linux Ubuntu\n","excerpt":"Comment installer un lecteur PC/SC sous linux Ubuntu\n","ref":"/blog/2021/06/01/installation-dun-lecteur-pc/sc-sous-linux-ubuntu/","tags":"","title":"Installation d'un lecteur PC/SC sous linux ubuntu"},{"body":"Certains contextes nécessitent de lancer la DevBox-santé depuis le context client. Pour le faire nous nous servons des URI Scheme et de la possibilité d’enregistrer une application sur ce scheme. Exemple, dans Windows : https://docs.microsoft.com/en-us/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa767914(v=vs.85)?redirectedfrom=MSDN\nNotre installer permet d’enregistrer un URI scheme à la DevBox-Santé, ainsi lorsque nous saisissons devboxsante:// dans notre navigateur :\nLe navigateur nous propose de lancer l’exécutable sur le poste de l’utilisateur :\nIl est possible de le faire simplement en javascript depuis une page html de votre client :\n\u003chtml\u003e\u003cbody\u003e\u003cscript\u003ewindow.open(\"devboxsante://\");\u003c/script\u003e\u003c/body\u003e\u003c/html\u003e Comme si ça ne suffisait pas, il est également possible de passer dans l’url un ensemble d’arguments configurables par ce mécanisme. Par exemple, le numéro de port :\ndevboxsante://config?server.port=10000 Par ce type de mécanisme, il est possible de lancer la devbox-sante avec un contexte qui est le votre et moyennant un callback vers vos serveurs lier la DevBox-Santé avec une session utilisateur.\n","categories":"","description":"Lancer une DevBox-santé depuis le navigateur\n","excerpt":"Lancer une DevBox-santé depuis le navigateur\n","ref":"/blog/2021/05/27/installer-lancer-la-devbox-sant%C3%A9-depuis-un-navigateur/","tags":"","title":"Installer \u003e lancer la DevBox-Santé depuis un navigateur"},{"body":"Les documents dans le DMP contient un certains nombres de métadata comme : classCode confidentialityCode typeCode formatCode practiceSettingCode La visibilité d’un document pour un acteur de santé dépend du typeCode, le typeCode est une spécialisation du classCode\nPour connaître les types de documents qui peuvent être accédés par un professionnel de santé, il faut suivre la matrice\ndes habilitations : https://www.dmp.fr/matrice-habilitation\nDans le guide d’intégration Les conditions d’accès en lecture aux documents contenus dans le DMP d’un patient (sur lequel ils ont l’autorisation d’accès) dépendent des professions et spécialités des PS recueillies à partir de la carte CPS du PS. Ces règles sont définies dans la matrice d’habilitation [DMP-MHAB].\nDans la DevBoxSanté-DMP Connaître la liste des typeCode :\nAPI Java : @Autowired private DMPCClient client; ... // Récupération des différents classCode client.getCodesFor(DMPCCode.ASIPJeuxValeurs.CLASS_CODE) // Récupération des différents typeCode client.getCodesFor(DMPCCode.ASIPJeuxValeurs.TYPE_CODE) API REST curl --location --request GET 'https://dmpc-api-rest-3-1.herokuapp.com/proxy/nomenclatures/?jeuxValeurs=TYPE_CODE' \\ --header 'Content-Type: application/json' \\ Lors de l’homologation Exemple de test à valider lors de l’homologation :\nL’utilisateur s’authentifie avec une carte CPS autorisée à accéder au DMP du patient. Un document invisible (confidentialityCode « INVISIBLE_PATIENT») est déjà présent sur le DMP. Le PS est habilité à accéder à ce type de document (cf. matrice d’habilitations). Le PS demande à mettre à jour le document afin de le rendre visible du patient (confidentialityCode : vide). En retour le SI DMP confirme la mise à jour du document.\n=\u003e Mode opératoire : Rendre visible le document 70 (typeCode 11502-2 (CR d’examens biologiques))\n","categories":"","description":"Quels sont les documents accessibles pour un acteur de santé\n","excerpt":"Quels sont les documents accessibles pour un acteur de santé\n","ref":"/blog/2021/05/20/dmp-matrice-habilitation/","tags":"","title":"DMP \u003e matrice habilitation"},{"body":"Lors de l’utilisation de composants de lecteur CPS et de Carte Vitale de la DevBox-Santé, vous pouvez rencontrer des problèmes d’accés aux lecteurs.\nCes problèmes sont dues principalement à deux sources de problème.\nLa première, l’utilisation du galss qui nécessite d’être installé qu’une seule fois sur le poste et est très sensible aux différents ports physiques choisis pour connecter vos lecteurs. La deuxième est que certains composants sont installés dans des versions anciennes. Utiliser un lecteur homologué dans sa bonne version Le GIE Sesam-Vitale tient une liste à jour des lecteurs homologués et dans quelle version applicative. Il vous faut repérer le lecteur et son application. Pour vous aider, voici le lien vers la liste des lecteurs en date de février 2021\nSesam-Vitale met également à disposition des documents permettant d’obtenir les informations de version des lecteurs :\nKapelse Olaqin Proscrire le GALSS Les vieux lecteurs PSS utilisant le GALSS sont dépréciés et devront ne plus être installés à la fin de l’année 2021. Alors, préférez dans la mesure du possible des lecteurs configurés en PC/SC.\nUtilisation de l’outil de diagnostic DiagAM Pour aider au diagnostic du problème, Sesam-Vitale met à disposition un outil de diagnostic diagAM.\nPour l’utiliser, il faut suivre la procédure suivante :\nTélécharger le programme d’installation du composant ATSAM : https://www.dmp.fr/ps/composants-poste-etape-deux Lancer l’installation et sélectionner dans un premier temps que l’outil de diagnostic : Lancer l’outil DiagAM à la fin de l’installation. Sauvegarder le rapport pour analyse Ici on voit que la cryptolib nécessite une réinstallation. Ce qui est rendu possible en appuyant sur la clé a molette. Néanmoins, ce n’est pas un soucis car nos installers embarquent la cryptolib nécessaire.\nPar contre les informations concernant l’installation du GALSS nous est nécessaire en cas d’utilisation d’un lecteur en mode PSS :\nExemple, dans le cas suivant le galss.ini n’existe pas dans le répertoire %WINDIR% et aucun lecteur n’est trouvé:\nUn clic sur la clé à molette du galss, permettra de réinitialiser un galss :\nPour plus d’information sur l’outil de diagnostic, l’aide en ligne est disponible ici : https://www.sesam-vitale.fr/o/porte-document-web/atsam/ael/DiagAM2.html\n","categories":"","description":"Comment diagnostiquer vos problèmes de lecteur\n","excerpt":"Comment diagnostiquer vos problèmes de lecteur\n","ref":"/blog/2021/05/14/diagnostiquer-des-probl%C3%A8mes-dacc%C3%A8s-aux-lecteurs/","tags":"","title":"Diagnostiquer des problèmes d'accès aux lecteurs"},{"body":"Les versions actuelles de nos composants sont :\nDevBox-Sante DMP : 4.0 et 3.2 DevBox-Sante INSi : 1.3 DevBox-Sante MSS : 1.0 DevBox-Sante CPS : 2.4 DevBox-Sante Vitale : 1.3 installer : 1.3 lm : 1.1 ","categories":"","description":"","excerpt":"Les versions actuelles de nos composants sont :\nDevBox-Sante DMP : 4.0 …","ref":"/5.x/installer/poste_client/versions/_archives/20210512_versions_courantes/","tags":"","title":"[12/05/2021] 1.3"},{"body":"Ça y est nous avons pris le temps de regrouper la documentation disponible de la DevBox-Santé en un seul endroit. Cela donne ce site de documentation, qui pourra s’étoffer également d’articles parlant de sujet d’intégration de la DevBox-Santé d’une part, et d’intéropérabilité dans la santé d’autre part.\nLes quelques sujets du moment (liste non exhaustive) :\nLes Modèles d’Objets de Santé : https://esante.gouv.fr/interoperabilite/mos-nos Les priorités du Ségur : https://solidarites-sante.gouv.fr/systeme-de-sante-et-medico-social/segur-de-la-sante-les-conclusions/ et comment les outils de la DevBox-Santé peuvent fournir des briques essentielles. Si vous souhaitez générer un site de documentation similaire au notre, je ne peux que vous conseiller d’utiliser un thème Hugo. Le thème qui m’a paru le plus convaincant lors de la génération de ce site documentaire est Docsy.\n","categories":"","description":"Utilisation de [Hugo](https://gohugo.io) pour la génération du site.\n","excerpt":"Utilisation de [Hugo](https://gohugo.io) pour la génération du site.\n","ref":"/blog/2021/05/12/g%C3%A9n%C3%A9ration-de-la-documentation-de-la-devbox-sant%C3%A9/","tags":"","title":"Génération de la documentation de la DevBox-Santé"},{"body":"\u003c!DOCTYPE HTML\u003e document 6 - CR Biologie (CDA autoprésentable) ETABLISEMENT DE SANTE DE TEST 2013 Boulevard des analyses de sang Biologia France 16420 Biologiste responsable: ULYSSE MACHEPRO Dr (899900062490)\ndocument 6 - CR Biologie (CDA autoprésentable) Produit le 03/09/2010\nPour ZARAH TOME Identifiant: 277093867564852 , Date de naissance: 09/09/1977 , Sexe: F\nDemande d'examens 201011111123 prescrite le 31/12/2009 par Docteur Eva Gynecon (801234567892)\nRéalisation du 19/03/2010 au 19/03/2010\nEchantillons biologiques prélevés le 19/03/2010 par Roberta Bleeder (801234567893)\nBIOCHIMIE Electrophorèse des protéines sériques : Protéinogramme 04/01/2010 13:19:33 Valeurs de référence Protéines totales (g/L) 75,0 63,00 - 83,00 Albumine (%) 60,0 40 - 80 Albumine (g/L) 45,0 36,00 - 48,00 Alpha 1 globulines (%) 5,0 Alpha1 (g/L) 3,8 0,80 - 3,20 Alpha 2 globulines (%) 9,0 8,3 - 10,1 Alpha2 (g/L) 6,8 4,50 - 10,50 Béta globulines (%) 11,0 6 - 12 Béta (g/L) 8,3 3,50 - 9,50 Gamma globulines (%) 15,0 8 - 17 Gamma (g/L) 11,3 6,50 - 14,50 Ratio albumine / globuline 1,50 1 - 5 Conclusion Bisalbuminémie Résultats validés par JEANNE BIOLOVALSEPT - 4 janvier 2010, 11h20\nAutres examens de biochimie sanguine : Résultat du jour Interprétation Valeurs de référence Résultats antérieurs 04/01/2010 10:10 12/09/2009 08:15 03/01/2009 08:12 Urée sanguine 10.02 mmol/L (0.60 g/L) Haut, croissant [3.5 - 8.0] mmol/L 8.5 mmol/L (0.51 g/L) 7.9 mmol/L (0.48 g/L) Glycémie à jeun 7.2 mmol/L (1.30 g/L) Haut [3.9 - 6.1] mmol/L 7.2 mmol/L (1.30 g/L) 6.0 mmol/L (1.08 g/L) Résultats validés par JANINE BIOCHIVALSEPT - 4 janvier 2010, 11h30\nHEMATOLOGIE Hémogramme 04/01/10 11:30 Valeurs de référence Interprétation 12/09/2009 08:15 leucocytes (10*3/mm3) 8.2 4-10 5.8 érythrocytes (10*6/mm3) 4.95 4.50-6.00 4.85 hémoglobine (g/dL) 13.4 11.5-14.5 13.3 hématocrite (%) 45 40.0-54.0 45 volume globulaire moyen (fL) 97 85-95 Haut, croissant 90 indice de distribution erythrocytaire (%) 17.5 11.5-14.5 Haut 13.0 concentration corpusculaire moyenne en hémoglobine (g/dL) 33.0 32-36 32.5 teneur corpusculaire moyenne en hémoglobine (pg) 31.0 27-31 32.5 plaquettes (10*9/L) 220 150-400 210 volume plaquettaire moyen (fL) 8 7-10 8 indice de distribution des plaquettes (%) 12 12 polynuclaires neutrophiles (%) 72 45-70 Haut 70 polynuclaires éosinophiles (%) 2 1-3 2 polynuclaires basophiles (%) 0 0.5 0 lymphocytes (%) 20 20-40 20 monocytes (%) 6 3-7 5 Interprétation : Anisocytose Résultats validés par JEANNE BIOLOVALSEPT - 4 janvier 2010, 11h20\nCYTOBACTERIOLOGIE URINAIRE Action Observations sur échantillon urinaire recueilli par voie naturelle 04/01/10 à 07:35 Site de prélèvement / localisation Voie naturelle Examen direct : Couleur : paille Aspect : clair Microscopie : Leucocytes 500 /mL Erythtocytes 200 /mL Cellules épithéliales absence Coloration de Gram nombreux Gram - ; quelques Gram + Culture aérobie Deux germes identifiés : Escherichia coli, Streptococcus D Isolat : Escherichia coli Streptococcus D. Dénombrement de germes 100 000 /mL 200 000 /mL Antibiogramme CMI (mg/L) clinique CMI (mg/L) clinique Amoxicilline : 12 R 3 S Ampicilline : 11 R 6 I 5-fluorocytosine : 1,3 S 2,5 S Traitement 5-fluorocytosine immédiat Résultats validés par JULES BACTERVALSEPT - 4 janvier 2010, 16h00\nBiologistes médicaux ayant participé à la validation et à l'interprétation des résultats de ce compte rendu Date \u0026 heure JEANNE BIOLOVALSEPT (801234567898) 04/01/2010 11:20 JANINE BIOCHIVALSEPT (801234567866) 04/01/2010 11:30 JULES BACTERVALSEPT (801234567879) 04/01/2010 16:00 \u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000","categories":"","description":"","excerpt":"\u003c!DOCTYPE HTML\u003e document 6 - CR Biologie (CDA autoprésentable) …","ref":"/5.x/dmp/cda/autopresentable/f28f10a2-d288-11ec-8cbb-0050569e46a0/","tags":"","title":""},{"body":"TODO : rFprendre procédure du DMP pour l’INSI\nhttps://esante.gouv.fr/sites/default/files/media_entity/documents/ans_procedure_commande_cl_tls_insi_structures_salariees_vf.pdf\n","categories":"","description":"","excerpt":"TODO : rFprendre procédure du DMP pour l’INSI …","ref":"/5.x/insi/gestion_certificat/","tags":"","title":""},{"body":"\u003c!DOCTYPE HTML\u003e document 6 - CR Biologie (CDA autoprésentable) ETABLISEMENT DE SANTE DE TEST 2013 Boulevard des analyses de sang Biologia France 16420 Biologiste responsable: ULYSSE MACHEPRO Dr (899900062490)\ndocument 6 - CR Biologie (CDA autoprésentable) Produit le 03/09/2010\nPour ZARAH TOME Identifiant: 277093867564852 , Date de naissance: 09/09/1977 , Sexe: F\nDemande d'examens 201011111123 prescrite le 31/12/2009 par Docteur Eva Gynecon (801234567892)\nRéalisation du 19/03/2010 au 19/03/2010\nEchantillons biologiques prélevés le 19/03/2010 par Roberta Bleeder (801234567893)\nBIOCHIMIE Electrophorèse des protéines sériques : Protéinogramme 04/01/2010 13:19:33 Valeurs de référence Protéines totales (g/L) 75,0 63,00 - 83,00 Albumine (%) 60,0 40 - 80 Albumine (g/L) 45,0 36,00 - 48,00 Alpha 1 globulines (%) 5,0 Alpha1 (g/L) 3,8 0,80 - 3,20 Alpha 2 globulines (%) 9,0 8,3 - 10,1 Alpha2 (g/L) 6,8 4,50 - 10,50 Béta globulines (%) 11,0 6 - 12 Béta (g/L) 8,3 3,50 - 9,50 Gamma globulines (%) 15,0 8 - 17 Gamma (g/L) 11,3 6,50 - 14,50 Ratio albumine / globuline 1,50 1 - 5 Conclusion Bisalbuminémie Résultats validés par JEANNE BIOLOVALSEPT - 4 janvier 2010, 11h20\nAutres examens de biochimie sanguine : Résultat du jour Interprétation Valeurs de référence Résultats antérieurs 04/01/2010 10:10 12/09/2009 08:15 03/01/2009 08:12 Urée sanguine 10.02 mmol/L (0.60 g/L) Haut, croissant [3.5 - 8.0] mmol/L 8.5 mmol/L (0.51 g/L) 7.9 mmol/L (0.48 g/L) Glycémie à jeun 7.2 mmol/L (1.30 g/L) Haut [3.9 - 6.1] mmol/L 7.2 mmol/L (1.30 g/L) 6.0 mmol/L (1.08 g/L) Résultats validés par JANINE BIOCHIVALSEPT - 4 janvier 2010, 11h30\nHEMATOLOGIE Hémogramme 04/01/10 11:30 Valeurs de référence Interprétation 12/09/2009 08:15 leucocytes (10*3/mm3) 8.2 4-10 5.8 érythrocytes (10*6/mm3) 4.95 4.50-6.00 4.85 hémoglobine (g/dL) 13.4 11.5-14.5 13.3 hématocrite (%) 45 40.0-54.0 45 volume globulaire moyen (fL) 97 85-95 Haut, croissant 90 indice de distribution erythrocytaire (%) 17.5 11.5-14.5 Haut 13.0 concentration corpusculaire moyenne en hémoglobine (g/dL) 33.0 32-36 32.5 teneur corpusculaire moyenne en hémoglobine (pg) 31.0 27-31 32.5 plaquettes (10*9/L) 220 150-400 210 volume plaquettaire moyen (fL) 8 7-10 8 indice de distribution des plaquettes (%) 12 12 polynuclaires neutrophiles (%) 72 45-70 Haut 70 polynuclaires éosinophiles (%) 2 1-3 2 polynuclaires basophiles (%) 0 0.5 0 lymphocytes (%) 20 20-40 20 monocytes (%) 6 3-7 5 Interprétation : Anisocytose Résultats validés par JEANNE BIOLOVALSEPT - 4 janvier 2010, 11h20\nCYTOBACTERIOLOGIE URINAIRE Action Observations sur échantillon urinaire recueilli par voie naturelle 04/01/10 à 07:35 Site de prélèvement / localisation Voie naturelle Examen direct : Couleur : paille Aspect : clair Microscopie : Leucocytes 500 /mL Erythtocytes 200 /mL Cellules épithéliales absence Coloration de Gram nombreux Gram - ; quelques Gram + Culture aérobie Deux germes identifiés : Escherichia coli, Streptococcus D Isolat : Escherichia coli Streptococcus D. Dénombrement de germes 100 000 /mL 200 000 /mL Antibiogramme CMI (mg/L) clinique CMI (mg/L) clinique Amoxicilline : 12 R 3 S Ampicilline : 11 R 6 I 5-fluorocytosine : 1,3 S 2,5 S Traitement 5-fluorocytosine immédiat Résultats validés par JULES BACTERVALSEPT - 4 janvier 2010, 16h00\nBiologistes médicaux ayant participé à la validation et à l'interprétation des résultats de ce compte rendu Date \u0026 heure JEANNE BIOLOVALSEPT (801234567898) 04/01/2010 11:20 JANINE BIOCHIVALSEPT (801234567866) 04/01/2010 11:30 JULES BACTERVALSEPT (801234567879) 04/01/2010 16:00 \u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000\u0000","categories":"","description":"","excerpt":"\u003c!DOCTYPE HTML\u003e document 6 - CR Biologie (CDA autoprésentable) …","ref":"/6.x/connecteurs/dmp/cda/autopresentable/f28f10a2-d288-11ec-8cbb-0050569e46a0/","tags":"","title":""},{"body":"","categories":"","description":"","excerpt":"","ref":"/communication/20250204_getparametresdmp/","tags":"","title":""},{"body":" Ce test consiste à vérifier la méthodologie d’acquisition de l’INS qualifié\n‘L’utilisateur s’authentifie avec le mode de son choix et teste l’existence du DMP du patient mais ne correspondant à aucun dossier du SI-DMP.\nPour JEFF ERENTIEL : Le test d’existence retourne que le DMP n’existe pas : accusé de reception du traitement =« AA», ResponseCode « NF ». Pour RUTH NESSI : Le test d’existence retourne que le DMP est actif, les traits du patient, ainsi que le statut de l’autorisation du PS (n’existe pas).\nSi le logiciel fait l’acquisition de l’INS qualifié par lui même : -en RecSansVitale : utiliser JEFF ERENTIEL -en RecVitale : utiliser RUTH NESSI -avec les deux modes : faire le test sur chaque patient\nSi le logiciel acquiert l’INS qualifié par une source tierce (BDD, autre logiciel) : -faire ce test en simulant JEFF ERENTIEL comme INS Qualifié\nJEFF DMP inexistant RUTH Selection Bénéficiaire Identito vigilance Autorisation ","categories":"","description":"","excerpt":" Ce test consiste à vérifier la méthodologie d’acquisition de l’INS …","ref":"/5.x/dmp/ui/cnda/0.1-060/","tags":"","title":"0.1-060"},{"body":" Ce test consiste à vérifier la méthodologie d’acquisition de l’INS qualifié\n‘L’utilisateur s’authentifie avec le mode de son choix et teste l’existence du DMP du patient mais ne correspondant à aucun dossier du SI-DMP.\nPour JEFF ERENTIEL : Le test d’existence retourne que le DMP n’existe pas : accusé de reception du traitement =« AA», ResponseCode « NF ». Pour RUTH NESSI : Le test d’existence retourne que le DMP est actif, les traits du patient, ainsi que le statut de l’autorisation du PS (n’existe pas).\nSi le logiciel fait l’acquisition de l’INS qualifié par lui même : -en RecSansVitale : utiliser JEFF ERENTIEL -en RecVitale : utiliser RUTH NESSI -avec les deux modes : faire le test sur chaque patient\nSi le logiciel acquiert l’INS qualifié par une source tierce (BDD, autre logiciel) : -faire ce test en simulant JEFF ERENTIEL comme INS Qualifié\nJEFF DMP inexistant RUTH Selection Bénéficiaire Identito vigilance Autorisation ","categories":"","description":"","excerpt":" Ce test consiste à vérifier la méthodologie d’acquisition de l’INS …","ref":"/6.x/connecteurs/dmp/ui/cnda/0.1-060/","tags":"","title":"0.1-060"},{"body":" L’utilisateur, authentifié avec une carte CPS IGC Santé d’un PS autorisé à accéder au DMP du patient, ajoute un seul document dans le DMP. Le document doit être construit de manière à ce que le domaine d’affinité XDS soit correct (conformité aux différentes nomenclatures) et le document doit être unique (uniqueId et hash). En retour le SI DMP confirme l’ajout du document.\n=\u003e Mode opératoire : Ajout du document A (titre=““document A””) de typeCode 11490-0 (Lettre de sortie) ; dans le cas où le LPS ne gère pas ce typeCode, indiquer explicitement le typeCode utilisé à la place. Dans le cas ou le LPS gère le formatCode ““documents à corps non structuré en Pdf/A-1\"”, fournir un CDA R2 encapsulant ce type (PDF/A-1). Sinon fourni un formatCode au libre choix du candidat.\nSélection du fichier Saisie Métadonnées Avant soumission En cours de soumission Succès de la soumission ","categories":"","description":"","excerpt":" L’utilisateur, authentifié avec une carte CPS IGC Santé d’un PS …","ref":"/5.x/dmp/ui/cnda/2.1-010/","tags":"","title":"2.1-010"},{"body":" L’utilisateur, authentifié avec une carte CPS IGC Santé d’un PS autorisé à accéder au DMP du patient, ajoute un seul document dans le DMP. Le document doit être construit de manière à ce que le domaine d’affinité XDS soit correct (conformité aux différentes nomenclatures) et le document doit être unique (uniqueId et hash). En retour le SI DMP confirme l’ajout du document.\n=\u003e Mode opératoire : Ajout du document A (titre=““document A””) de typeCode 11490-0 (Lettre de sortie) ; dans le cas où le LPS ne gère pas ce typeCode, indiquer explicitement le typeCode utilisé à la place. Dans le cas ou le LPS gère le formatCode ““documents à corps non structuré en Pdf/A-1\"”, fournir un CDA R2 encapsulant ce type (PDF/A-1). Sinon fourni un formatCode au libre choix du candidat.\nSélection du fichier Saisie Métadonnées Avant soumission En cours de soumission Succès de la soumission ","categories":"","description":"","excerpt":" L’utilisateur, authentifié avec une carte CPS IGC Santé d’un PS …","ref":"/6.x/connecteurs/dmp/ui/cnda/2.1-010/","tags":"","title":"2.1-010"},{"body":" L’utilisateur s’authentifie avec une carte CPS autorisée à accéder au DMP du patient, médecin traitant ou non. Un document dont la date de l’acte est postèrieure à une date donnée et avec un TypeCode donné est déjà présent sur le DMP. Le PS est habilité à accéder à ce type de document (cf. matrice d’habilitations). Il effectue une recherche sur les documents dont la date de l’acte est postérieure à la date de référence et correspondant au TypeCode donné. La requête retourne que la recherche s’est effectuée avec succès et retourne les métadonnées des documents demandés.\n=\u003e Mode opératoire : Méthode FindDocuments (Approved uniquement); typeCode 47420-5 (CR de bilan fonctionnel (par auxiliaire médical)) ; serviceStartTimeFrom 18/03/09 serviceStopTimeTo 22/05/09 =\u003e Résultat : 1 document (pour un PS médecin, qu’il soit MT ou non) Dans le cas où le LPS ne gère pas ce type de critère de recherche, merci de le préciser explicitement dans le champ commentaire en justifiant le choix.\nFiltre de recherche de documents Résultat de la recherche Logs 2022-06-22 11:25:15.839 DEBUG 4696 --- [nio-9999-exec-2] f.d.dmp.xds.impl.TD31QueryListener : --------------------- DMPCEvent td31executeQuery ---------------------------- 2022-06-22 11:25:15.840 DEBUG 4696 --- [nio-9999-exec-2] f.d.dmp.xds.impl.TD31QueryListener : Nb of Documents : 1 2022-06-22 11:25:15.840 DEBUG 4696 --- [nio-9999-exec-2] f.d.dmp.xds.impl.TD31QueryListener : 0581796b-d284-11ec-8cbb-0050569e46a0 - \"document 14\" (10, 47420-5, urn:ihe:iti-fr:xds-sd:jpeg:2010) APPROVED [N, INVISIBLE_PATIENT] 20090319223246 [1.2.250.888.777.8.2.14 - v1] 2022-06-22 11:25:15.840 DEBUG 4696 --- [nio-9999-exec-2] f.d.dmp.xds.impl.TD31QueryListener : Nb of Soumissions : 0 2022-06-22 11:25:15.840 DEBUG 4696 --- [nio-9999-exec-2] f.d.dmp.xds.impl.TD31QueryListener : Nb of Associations : 0 2022-06-22 11:25:15.840 DEBUG 4696 --- [nio-9999-exec-2] f.d.dmp.xds.impl.TD31QueryListener : --------------------- DMPCEvent td31executeQuery END ------------------------ ","categories":"","description":"","excerpt":" L’utilisateur s’authentifie avec une carte CPS autorisée à accéder au …","ref":"/5.x/dmp/ui/cnda/3.1-040/","tags":"","title":"3.1-140"},{"body":" L’utilisateur s’authentifie avec une carte CPS autorisée à accéder au DMP du patient, médecin traitant ou non. Un document dont la date de l’acte est postèrieure à une date donnée et avec un TypeCode donné est déjà présent sur le DMP. Le PS est habilité à accéder à ce type de document (cf. matrice d’habilitations). Il effectue une recherche sur les documents dont la date de l’acte est postérieure à la date de référence et correspondant au TypeCode donné. La requête retourne que la recherche s’est effectuée avec succès et retourne les métadonnées des documents demandés.\n=\u003e Mode opératoire : Méthode FindDocuments (Approved uniquement); typeCode 47420-5 (CR de bilan fonctionnel (par auxiliaire médical)) ; serviceStartTimeFrom 18/03/09 serviceStopTimeTo 22/05/09 =\u003e Résultat : 1 document (pour un PS médecin, qu’il soit MT ou non) Dans le cas où le LPS ne gère pas ce type de critère de recherche, merci de le préciser explicitement dans le champ commentaire en justifiant le choix.\nFiltre de recherche de documents Résultat de la recherche Logs 2022-06-22 11:25:15.839 DEBUG 4696 --- [nio-9999-exec-2] f.d.dmp.xds.impl.TD31QueryListener : --------------------- DMPCEvent td31executeQuery ---------------------------- 2022-06-22 11:25:15.840 DEBUG 4696 --- [nio-9999-exec-2] f.d.dmp.xds.impl.TD31QueryListener : Nb of Documents : 1 2022-06-22 11:25:15.840 DEBUG 4696 --- [nio-9999-exec-2] f.d.dmp.xds.impl.TD31QueryListener : 0581796b-d284-11ec-8cbb-0050569e46a0 - \"document 14\" (10, 47420-5, urn:ihe:iti-fr:xds-sd:jpeg:2010) APPROVED [N, INVISIBLE_PATIENT] 20090319223246 [1.2.250.888.777.8.2.14 - v1] 2022-06-22 11:25:15.840 DEBUG 4696 --- [nio-9999-exec-2] f.d.dmp.xds.impl.TD31QueryListener : Nb of Soumissions : 0 2022-06-22 11:25:15.840 DEBUG 4696 --- [nio-9999-exec-2] f.d.dmp.xds.impl.TD31QueryListener : Nb of Associations : 0 2022-06-22 11:25:15.840 DEBUG 4696 --- [nio-9999-exec-2] f.d.dmp.xds.impl.TD31QueryListener : --------------------- DMPCEvent td31executeQuery END ------------------------ ","categories":"","description":"","excerpt":" L’utilisateur s’authentifie avec une carte CPS autorisée à accéder au …","ref":"/6.x/connecteurs/dmp/ui/cnda/3.1-040/","tags":"","title":"3.1-140"},{"body":" == ATTENTION : ce test n’est à réaliser que si le LPS supporte le profil Consultation ==\nL’utilisateur s’authentifie avec une carte CPS de médecin autorisé à accéder au DMP du patient. Un document a déjà été déposé (statut « approved ») par un PS sur le DMP. Le médecin est habilité à accéder à ce type de document (cf. matrice d’habilitations). Le médecin demande à mettre à jour le document afin de l’archiver (UpdateAvailabilityStatus : archived). En retour le SI DMP confirme la mise à jour du document.\n=\u003e Mode opératoire : Archivage document 7 (typeCode 11502-2 (CR d’examens biologiques))\nListe des documents Menu contextuel Dialogue de confirmation Recherche des documents archivés Logs 2022-06-03 11:39:56.711 DEBUG 26228 --- [nio-9999-exec-2] x.i.TD33UpdateAvailabilityStatusListener : --------------------- DMPCEvent td33UpdateStatus ---------------------------- 2022-06-03 11:39:56.711 DEBUG 26228 --- [nio-9999-exec-2] x.i.TD33UpdateAvailabilityStatusListener : Soumission uniqueId : 1.2.250.1.287.1.1234567.3.165424919467214 2022-06-03 11:39:56.711 DEBUG 26228 --- [nio-9999-exec-2] x.i.TD33UpdateAvailabilityStatusListener : patientId : 1.2.250.1.213.1.4.10.235061058692768 2022-06-03 11:39:56.711 DEBUG 26228 --- [nio-9999-exec-2] x.i.TD33UpdateAvailabilityStatusListener : uuid : 9ccb76d5-935b-4512-b56b-ab202b121b27 2022-06-03 11:39:56.711 DEBUG 26228 --- [nio-9999-exec-2] x.i.TD33UpdateAvailabilityStatusListener : newStatus : ARCHIVED 2022-06-03 11:39:56.711 DEBUG 26228 --- [nio-9999-exec-2] x.i.TD33UpdateAvailabilityStatusListener : Document uuid : d377bf21-7526-11ec-bafe-0050569e46a0 2022-06-03 11:39:56.711 DEBUG 26228 --- [nio-9999-exec-2] x.i.TD33UpdateAvailabilityStatusListener : --------------------- DMPCEvent td33UpdateStatus END ------------------------ ","categories":"","description":"","excerpt":" == ATTENTION : ce test n’est à réaliser que si le LPS supporte le …","ref":"/5.x/dmp/ui/cnda/3.3-120/","tags":"","title":"3.3-120"},{"body":" == ATTENTION : ce test n’est à réaliser que si le LPS supporte le profil Consultation ==\nL’utilisateur s’authentifie avec une carte CPS de médecin autorisé à accéder au DMP du patient. Un document a déjà été déposé (statut « approved ») par un PS sur le DMP. Le médecin est habilité à accéder à ce type de document (cf. matrice d’habilitations). Le médecin demande à mettre à jour le document afin de l’archiver (UpdateAvailabilityStatus : archived). En retour le SI DMP confirme la mise à jour du document.\n=\u003e Mode opératoire : Archivage document 7 (typeCode 11502-2 (CR d’examens biologiques))\nListe des documents Menu contextuel Dialogue de confirmation Recherche des documents archivés Logs 2022-06-03 11:39:56.711 DEBUG 26228 --- [nio-9999-exec-2] x.i.TD33UpdateAvailabilityStatusListener : --------------------- DMPCEvent td33UpdateStatus ---------------------------- 2022-06-03 11:39:56.711 DEBUG 26228 --- [nio-9999-exec-2] x.i.TD33UpdateAvailabilityStatusListener : Soumission uniqueId : 1.2.250.1.287.1.1234567.3.165424919467214 2022-06-03 11:39:56.711 DEBUG 26228 --- [nio-9999-exec-2] x.i.TD33UpdateAvailabilityStatusListener : patientId : 1.2.250.1.213.1.4.10.235061058692768 2022-06-03 11:39:56.711 DEBUG 26228 --- [nio-9999-exec-2] x.i.TD33UpdateAvailabilityStatusListener : uuid : 9ccb76d5-935b-4512-b56b-ab202b121b27 2022-06-03 11:39:56.711 DEBUG 26228 --- [nio-9999-exec-2] x.i.TD33UpdateAvailabilityStatusListener : newStatus : ARCHIVED 2022-06-03 11:39:56.711 DEBUG 26228 --- [nio-9999-exec-2] x.i.TD33UpdateAvailabilityStatusListener : Document uuid : d377bf21-7526-11ec-bafe-0050569e46a0 2022-06-03 11:39:56.711 DEBUG 26228 --- [nio-9999-exec-2] x.i.TD33UpdateAvailabilityStatusListener : --------------------- DMPCEvent td33UpdateStatus END ------------------------ ","categories":"","description":"","excerpt":" == ATTENTION : ce test n’est à réaliser que si le LPS supporte le …","ref":"/6.x/connecteurs/dmp/ui/cnda/3.3-120/","tags":"","title":"3.3-120"},{"body":" TODO ","categories":"","description":"","excerpt":" TODO ","ref":"/6.x/plateformes/pfi/howtos/back_office/traces/","tags":"","title":"Analyse des traces"},{"body":"","categories":"","description":"","excerpt":"","ref":"/6.x/connecteurs/transverses/authentifications/","tags":"","title":"Authentifications"},{"body":"Dans la version 6 de la DevBox-santé nous avons généralisé le mode d’authentification dans l’entête, en ajoutant la possibilité d’accéder à la DevBox-Santé agent.\nCPS avec le DbxAgent Si dans l’entête HTTP le paramètre dbx-agent-sessionId est trouvé la DevBox-Santé va tenter de contacter un DevBox-Santé agent sur une websocket ouverte d’un poste utilisateur afin de communique avec sa carte CPS et/ou vitale. Comme par exemple :\nheaders { dbx-agent-sessionId: 2cf3e022-09af-dd83-f462-c6d7693fa176 } Exemple de requêtes ave l’agent :\nLecture de carte CPS : https://bitbucket.org/devbox-sante/dbx-examples-bruno/src/master/dbx/cps/3.x/dbx-agent/readCpsCardInfoWithoutSelectActivity.bru Appel de la td0.2 du DMP : https://bitbucket.org/devbox-sante/dbx-examples-bruno/src/master/dbx/dmp/6.x/authentification/dbx-agent/TD0.2%20-%20dbx-agent.bru Lecture de la carte vitale : https://bitbucket.org/devbox-sante/dbx-examples-bruno/src/master/dbx/vitale/2.x/dbx-agent/readVitaleWithCps%20-%20dbx-agent.bru P12InHeader L’ensemble des informations permettant l’authentification auprès du TéléService (INSI, DMP, ApCV, …) se trouve dans l’entête HTTP.\nheaders { dmpAuthentication.p12: MIIcmwIBAe...IIAA== dmpAuthentication.password: password dmpSignature.p12: MIIcmwIBAe...IIAA== dmpSignature.password: password } Les certificats sont encodés au format base64 Exemple de requêtes avec ce mode d’authentification :\nAppel de la td0.2 du DMP : https://bitbucket.org/devbox-sante/dbx-examples-bruno/src/master/dbx/dmp/6.x/authentification/p12InHeader/TD0.2%20-%20p12InHeader.bru ","categories":"","description":"Authentification dans l'entête HTTP\n","excerpt":"Authentification dans l'entête HTTP\n","ref":"/6.x/connecteurs/transverses/authentifications/authinheader/","tags":"","title":"AuthInHeader"},{"body":"Connexion Écran de login de l’administrateur de la plateforme :\nGestion des certificats Liste des certificats Ajouter un certificat dans le gestionnaire magazin Gestion des utilisateurs Traçabilité ","categories":"","description":"Outil d'administration du eProxy\n","excerpt":"Outil d'administration du eProxy\n","ref":"/6.x/plateformes/eproxy/howtos/back_office/","tags":"","title":"Back Office"},{"body":"{{ \u003c alert title=“Attention” color=“warning”\u003e}} Le back-office est réservé aux personnes autorisées et ne doit pas être exposé sur internet. Il est réservé à un usage Interne. {{ \u003c/ alert\u003e}}\n","categories":"","description":"Guide utilisateur\n","excerpt":"Guide utilisateur\n","ref":"/6.x/plateformes/pfi/howtos/back_office/","tags":"","title":"Back Office"},{"body":" Documentation en cours de rédaction Les travaux sont en cours. Il s’agit d’une prévisualisation. Administratifs Obtenir le financement : https://industriels.esante.gouv.fr/segur-numerique-sante/vague-2/financement-sons [DEVCOOP] Enrôlement auprés de l’ASP Signature du bon de commande [DEVCOOP] transmet le Bon de Commande des Prestations Ségur au [Client] TODO lien vers bon de commande [Client] signe pour validation [DEVCOOP] demande financement et paiement de l’avance [DEVCOOP] perçoit l’avance [DEVCOOP] réalise la prestation principale et [Client] valide l’installation TODO lien vers questionnaire d’installation ","categories":"","description":"Liste des actions à réaliser pour mener à bien la mise en place de la DevBox-Santé PFI\n","excerpt":"Liste des actions à réaliser pour mener à bien la mise en place de la …","ref":"/6.x/plateformes/pfi/howtos/client_checklist/","tags":"","title":"Clients Checklist"},{"body":"","categories":"","description":"","excerpt":"","ref":"/6.x/connecteurs/transverses/","tags":"","title":"Commons"},{"body":"Authentification avec le SSO de Stellair L’utilisateur s’authentifie sur le SSO de stellair et utilise la devbox-sante sur le même serveur.\nConfiguration yaml :\ndevbox-sante: security: stellair: mode: oauth2 baseUrl: https://api.demo.stellair.fr/v1 spring: security: oauth2: client: registration: stellair: client-id: 48h0u0s28a1qag2csove0ptjik client-secret: secret redirectUri: http://localhost:8080/login/oauth2/code/stellair authorizationGrantType: authorization_code scope: openid provider: stellair: authorization-uri: https://auth.demo.stellair.fr/oauth2/authorize token-uri: https://auth.demo.stellair.fr/oauth2/token user-info-uri: https://auth.demo.stellair.fr/oauth2/userInfo issuer: https://cognito-idp.eu-central-1.amazonaws.com/eu-central-1_Rfyw81gLt jwk-set-uri: https://cognito-idp.eu-central-1.amazonaws.com/eu-central-1_Rfyw81gLt/.well-known/jwks.json Un projet d’exemple se trouve https://bitbucket.org/devbox-sante/stellair/src/master/exemples/stellair-oauth2-client/\nAuthentification avec SSO et propagation du token vers la DevBox-Sante L’utilisateur s’authentifie avec un SSO partenaire de stellair, récupère le jwt token d’authorization et le propage.\nDiagramme de séquence !theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 box \"Environnement utilisateur\" participant \"Poste client\" as frontend end box box \"Environnement intégrateur\" #white participant backend participant sso_integrateur participant \"DevBox-Santé DMP\" as dbxdmp DMP_COLOR end box participant \"**Stellair**\" as stellair frontend -\u003e backend : login backend -\u003e frontend : 302 redirect sso_integrateur sso_integrateur -\u003e frontend : Authorization token ... frontend -\u003e backend : Authorization token backend -\u003e dbxdmp: /dmp/... Authorization token dbxdmp -\u003e stellair: /stellair/... Authorization token Configuration DevBox-Sante : devbox-sante: security: stellair: mode: filter baseUrl: https://api.demo.stellair.fr/v1 Exemple d’appel de la devbox-santé avec la propagation du token d’authorization https://bitbucket.org/devbox-sante/dbx-examples-bruno/src/master/dbx-dmp-5.x/authentification/stellair/ https://bitbucket.org/devbox-sante/dbx-examples-bruno/src/master/dbx-insi-2.x/authentication/stellair/ ","categories":"","description":"Intégration de Stellair dans la DevBox-Santé\n","excerpt":"Intégration de Stellair dans la DevBox-Santé\n","ref":"/5.x/dmp/authentifications/olaqin_taas/configuration/","tags":"","title":"Configuration Stellair"},{"body":"1. Démarrer la Devbox-Santé DMP côté backend Il s’agit d’une image docker avec la configuration suivante :\ndevbox-sante: dmp: security.mode: withCpsAgent Pour lancer l’image docker :\ndocker run --name devbox-sante-cps-agent -p 8080:8080 -d devboxsante/CLIENT:VERSION Nous avons déployé pour l’instant cela :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Environnement back\" { package \"DevBox-Santé Proxy REST\" DEVBOX_COLOR { component \"DevBox-sante DMP\" as dmpFacade DMP_COLOR { [CpsAgentClient] CPS_COLOR } } } 2. Démarrer la DevBox-Santé CPS agent côté client Il s’agit d’insaller une DevBox-Sante client avec un installer configuré en tant que CPS-agent :\ndevbox-sante: security: cpsAgent: true La DevBox-Santé tourne dans notre exemple sur le port 10035 :\nNous avons déployé maintenant:\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Poste Client (Windows/Mac/Linux)\" { package \"DevBox-Santé Proxy REST\" as cpsAgent DEVBOX_COLOR { [DevBox-sante CPS] as cps CPS_COLOR } [Cryptolib CPS (ANS)] as cryptolibCPS } node \"Environnement back\" { package \"DevBox-Santé Proxy REST\" DEVBOX_COLOR { component \"DevBox-sante DMP\" as dmpFacade DMP_COLOR { [CpsAgentClient] CPS_COLOR } } } À noter Le cps-agent est lancé en ssl pour chiffrer les connexions entre le cps agent et sont client. Néanmoins, comme le cps-agent tourne sur un poste qui n’a pas de nom de domaine, le certificat utilisé est auto-signé. 3. Obtenir le mot de passe de la DevBox-santé CPS agent sur le poste client. Pour obtenir le mot de passe d’accès, il faut depuis un processus local au poste client faire l’appel à la route /cps/password\nCe mot de passe est dorénavant connu de l’application front, et peut être passé au backend.\n4. Appeler la DevBox-Santé DMP avec les informations du CPS Agent Le frontend fait passer au backend les informations du poste client CPS Agent suivantes :\nL’IP du poste client, dans notre cas : 192.168.1.12 Le numéro de port du poste client, dans notre cas : 10035 Le mot de passe préalablement obtenu, dans notre cas : f2e3122c-b7f4-473f-b763-8ad5e050ae74 Le backend peut dont appeler une transaction du DMP avec les informations fournies :\npost { url: {{base_url}}/dmp/td02Exist body: json auth: none } headers { Content-Type: application/json devboxsante.cps.agent.client.url: https://192.168.1.12:10035 devboxsante.cps.agent.client.user: devboxsante.cps.agent.client.password: f2e3122c-b7f4-473f-b763-8ad5e050ae74 } body:json { { \"context\": { }, \"request\": { \"matriculeINS\": { \"valeur\": \"287080883795737\", \"identifiantSysteme\": \"1.2.250.1.213.1.4.10\" } } } } Ce qui a pour résultat dans Bruno :\nAu final nous avons mis en place l’architecture suivante :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 node \"Poste Client (Windows/Mac/Linux)\" { [FrontEnd intégrateur] as frontend package \"DevBox-Santé Proxy REST\" as cpsAgent DEVBOX_COLOR { [DevBox-sante CPS] as cps CPS_COLOR } [Cryptolib CPS (ANS)] as cryptolibCPS } node \"Environnement intégrateur\" { [BackEnd intégrateur] as backend package \"DevBox-Santé Proxy REST\" DEVBOX_COLOR { component \"DevBox-sante DMP\" as dmpFacade DMP_COLOR { [CpsAgentClient] CPS_COLOR } } } cloud \"**DMP**\" as DMP frontend \u003c--\u003e cpsAgent : 1 GET /cps/password frontend -d-\u003e backend : 2 POST {ip, port , password} backend -d-\u003e dmpFacade : 3 POST /dmp/td02Exist , headers {cps.agent.client.url, cps.agent.client.passaord} CpsAgentClient \u003c-\u003e cpsAgent : 4 /cps/ opérations cps \u003c-down-\u003e cryptolibCPS : 5 appels natifs dmpFacade -down-\u003e DMP : 6 POST SOAP / XDS ","categories":"","description":"Comment mettre en œuvre les différentes DevBox-santé pour une authentification DMP en mode CPS-Agent\n","excerpt":"Comment mettre en œuvre les différentes DevBox-santé pour une …","ref":"/5.x/dmp/authentifications/cps_agent/agent_cookbook/","tags":"","title":"CPS Agent Livre de cuisine"},{"body":"Test 1.02 Le connecteur devbox-santé-insi est conforme au niveau 1 de sécurité. En effet, avant tout appel au TéléService INSi, la carte vitale est lue et une nouvelle assertion est générée. Donc quelque soit le délai d’attente, la recherche se fera sur l’individu séléctionné de la carte vitale insérée.\nLe cas 2 n’est pas reproductible dans notre cas, car la requête est transmise directement après la sélection du bénéficiaire.\nDeux possibilités de sélectionner le bénéficiaire :\nla première par l’utilisation d’une popup du choix du bénéficiaire (SELECT_INDIVIDU.png). le programme appelant connaît le bénéficiaire par un appel préalable aux apis vitales, le numéro de série de la carte vitale et l’index de l’invidu sont donc passés en paramètre (Appel_avec_numSerie_index_individu.png). Ces paramètres permettent de sélectionner les informations lues da la carte vitale avant la génération de l’assertion. Test 1.03 Le connecteur devbox-santé-insi est conforme au niveau 1 de sécurité. En effet, avant tout appel au TéléService INSi, la carte vitale est lue et une nouvelle assertion est générée. Donc si la carte dans le lecteur a été changé, la sélection de l’individu bénéficiaire est demandé à l’utilisateur et la recherche se fera sur l’individu séléctionné de la carte vitale insérée. Il n’y a donc pas d’erreur mais une invitation à choisir l’individu sur la carte.\nToutefois, il est laissé à l’intégrateur, dans le cas où la carte vitale a déjà été lue en amont, la possibilité de spécifier le numéro de série de la cartevitale ainsi que l’index du bénéficiaire. Donc dans ce cas, le connecteur devbox-santé-insi vérifie que ces deux paramètres correspondent aux informations lues sur la carte vitale avant de générer l’assertion. Cela permet de ne pas redemander à l’utilisateur de sélectionner le bénificiaire.\nLa vérification retourne une erreur dans le cas où les paramètres spécifiés par l’appelant ne correspondent pas :\nfr.devboxsante.insi.client.INSiException: La numéro de série de la carte ne correspond pas. at fr.devboxsante.insi.client.INSiClientImpl.ins1RechercheAvecVitale(INSiClientImpl.java:62) ~[insi-impl-1.0-SNAPSHOT.jar:1.0-SNAPSHOT] at fr.devboxsante.insi.proxy.INSiProxy.ins1RechercheAvecVitale(INSiProxy.java:32) ~[classes/:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] Test 1.07 : Configuration de insi-api-proxy-rest de manière à injecter en réponse le fichier REP_CR01.xml. Cette configuration est possible seulement si le proxy-rest est lancé avec le profil CNDA activé. Cette configuration est accessible par un endpoint REST supplémentaire\nCas 1 : À la réception de l’erreur du téléservice de test est injecté dans le proxy la réponse du fichier REP_CR01.xml et est retourné en réponse (Test1.07-réponse_lionel_léonard_damien.png)\nCas 2 :À la réception de l’erreur du téléservice de test est injecté dans le proxy la réponse du fichier REP_CR01.xml et comme un prénom usuel différent est trouvé sur la carte, l’insi-api-rest-proxy relance une recherche avec le nom usuel pour nom de naissance (REQUETE_LEONARD_2_LPS.xml)\nCas 3: Idem que 1 (Test1.07-réponse_lionel_léonard_damien.png)\nRemarque : toutes les réponses données dans le répertoire sont les réponses d’origine du téléservice.\nTest 2.01 Le connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l’assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence, si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l’assertion. Si cette session n’est pas ouverte, trois possibilité :\nla carte n’est pas présente [NO_CARD] le code pin n’est pas saisie [NO_PIN] la carte a été changée. [NO_PIN] Dans tous les cas un message approprié est affiché à l’utilisateur pour qu’il puisse faire les actions nécessaires.\nTest 2.02 Le connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l’assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence, si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l’assertion. Dans le cas où plusieurs structures d’activité sont trouvées, il est demandé à l’utilisateur de choisir.\nLe secteur d’activité et l’identification de facturation sera paramétrable par l’intégrateur. Le code profession sera renseigné pour une CPS/CPF médecin. Il ne sera pas pour une CPE ou les CPS non médecin qui n’ont pas le champ specOrdRpps renseigné sur la carte.\nTest 2.03 Les régles de formattage concernant les différents champs sont appliqués avant envoi de la requête vers le téléservice INSi.Le prénom saisie est Une fois ces transformations effectuées une expression régulière vérifie qu’il ne subsiste pas des caractères interdits.\nDans le connecteur devbox-sante-insi a été mis en place le framework javax.validation afin d’éviter la non saisie des champs obligatoires, et de vérifier certains formats de champs. Exemple :\n/** * EF_INS10_01 * Nom de naissance */ @NotNull private String nomNaissance; @Size(min=5, max = 5, message = \"Ce code doit être issu du Code Officiel Géographique (COG) de l’INSEE.\\n\" + \"Il ne s’agit pas du code postal de la commune de naissance du patient.\") private String lieuNaissance; Si une erreur est remonté par le téléservice, cette erreur génére une exception dans le connecteur devbox-sante-insi et est remonté à l’intégrateur.\nCas 3 Une tentative d’envoi avec les paramètre du cas 3, déclenchera tout d’abord une exception :\nfr.devboxsante.insi.client.INSiException: D’ÆION contient des caractères interdits at fr.devboxsante.insi.client.INSiRequeteMappers.mapNom(INSiRequeteMappers.java:169) ~[insi-impl-1.0-SNAPSHOT.jar:1.0-SNAPSHOT] at fr.devboxsante.insi.client.INSiRequeteMappers.lambda$from$0(INSiRequeteMappers.java:82) ~[insi-impl-1.0-SNAPSHOT.jar:1.0-SNAPSHOT] at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na] at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654) ~[na:na] Une fois le nom naissance modifié en “D AEION”, une nouvelle tentative déclenchera une nouvelle exception :\nfr.devboxsante.insi.client.INSiException: CŒUR contient des caractères interdits at fr.devboxsante.insi.client.INSiRequeteMappers.mapNom(INSiRequeteMappers.java:169) ~[insi-impl-1.0-SNAPSHOT.jar:1.0-SNAPSHOT] at fr.devboxsante.insi.client.INSiRequeteMappers.lambda$from$0(INSiRequeteMappers.java:83) ~[insi-impl-1.0-SNAPSHOT.jar:1.0-SNAPSHOT] at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na] at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654) ~[na:na] Une fois le prénom modifié en “Coeur” , une nouvelle tentative déclenchera une exception :\nfr.devboxsante.insi.client.INSiException: Mauvais format du lieu de naissance 2B020 at fr.devboxsante.insi.client.INSiRequeteMappers.checkLieuNaissance(INSiRequeteMappers.java:228) ~[insi-impl-1.0-SNAPSHOT.jar:1.0-SNAPSHOT] at fr.devboxsante.insi.client.INSiRequeteMappers.mapLieuNaissance(INSiRequeteMappers.java:222) ~[insi-impl-1.0-SNAPSHOT.jar:1.0-SNAPSHOT] at fr.devboxsante.insi.client.INSiRequeteMappers.lambda$from$0(INSiRequeteMappers.java:80) ~[insi-impl-1.0-SNAPSHOT.jar:1.0-SNAPSHOT] at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na] Test 2.07 Une difficulté peut apparaître pour ce test où l’on vous demande de faire des appels successifs en passant une liste de prénoms dans la requête. En injectant, le fichier REP_CR01.xml vous aurez toujours la même réponse déclenchée, c’est à dire celle du fichier. Il vous faut donc manuellement lancer le premier appel avec le fichier injecté, faire un clean de l’injection et poursuivre les appels.\nTest3.01 Comme pour le test 2.01\nLe connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l’assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence, si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l’assertion. Si cette session n’est pas ouverte, trois possibilité :\nla carte n’est pas présente [NO_CARD] le code pin n’est pas saisie [NO_PIN] la carte a été changée. [NO_PIN] Dans tous les cas un message approprié est affiché à l’utilisateur pour qu’il puisse faire les actions nécessaires.\nTest3.02: Comme pour le Test2.02\nLe connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l’assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence, si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l’assertion. Dans le cas où plusieurs structures d’activité sont trouvées, il est demandé à l’utilisateur de choisir.\nLe secteur d’activité et l’identification de facturation sera celui de la structure sélectionnée. Le code profession sera renseigné pour une CPS/CPF médecin. Il ne le sera pas pour une CPE ou les CPS non médecin qui n’ont pas le champ specOrdRpps renseigné sur la carte.\nTest 3.03 Le prénom saisie est transformé(normalisé) afin de supprimer tous les accents et mis en majuscule. Une fois ces transformations effectuées une expression régulière vérifie qu’il ne subsiste pas des caractères interdits.\nTest 3.04 Utilisation de javax.validation p ur vérifier les champs obligatoires, les champs optionnels peuvent ne pas être renseigné et n’empêche pas l’appel au téléservice.\nTest 3.05 Pour les cas 1 et 2 la réponse retournée au client est l’erreur générée par le message Soap. Il n’est pas possible d’injecter la réponse TEST_2.03_cas1.xml ou encore TEST_2.05.xml car les formats des réponses soaps entre les deux téléservices (WS_INS2 et WS_INS3) sont différents.\nTest 4.01 Le connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l’assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence, si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l’assertion. Si cette session n’est pas ouverte, trois possibilités :\nla carte n’est pas présente [NO_CARD] le code pin n’est pas saisie [NO_PIN] la carte a été changée. [NO_PIN] Dans tous les cas un message approprié est affiché à l’utilisateur pour qu’il puisse faire les actions nécessaires.\nTest 4.02 Le connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l’assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence, si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l’assertion. Dans le cas où plusieurs structures d’activité sont trouvées, il est demandé à l’utilisateur de choisir. Le secteur d’activité et l’identification de facturation sera celui de la structure sélectionnée. Le code profession sera renseigné pour une CPS/CPF médecin. Il ne sera pas pour une CPE ou les CPS non médecin qui n’ont pas le champ specOrdRpps renseigné sur la carte. L’identifiant de facturation sera celui associé de la structure d’activité choisie sur la carte CPS.\nTest 4.03 Les formats et contrôles de chaque requête unitaire pour un lot sont identiques à celles pour une vérification unitaire qui sont :\n“Le prénom saisie est transformé(normalisé) afin de supprimer tous les accents et mis en majuscule. Une fois ces transformations effectuées une expression régulière vérifie qu’il ne subsiste pas des caractères interdits.”\nTest 4.05 : Une fois le dépôt effectuée et obtenue la réponse du téléservice, la devbox-santé INSi convertit le délai donné en secondes d’attente. Nous préférons laisser le choix à l’intégrateur de notre solution de la manière leur application attend avant de récupérer le résultat (appel non bloquant privilégié). Toutefois, nous proposons un service qui réalise l’appel du dépôt et essaye de récupérer le résultat après chaque nouveau délais retourné par le téléservice INSi (appel bloquant).\nTrace d’exécution mettant en œuvre l’injection du CR_02 :\n2021-09-17 11:44:09.553 DEBUG 32560 --- [ main] f.d.insi.client.INSiClientImpl : Délai d'attente pour la réponse : 60 secondes. 2021-09-17 11:45:22.084 DEBUG 32560 --- [ main] f.d.insi.client.INSiClientImpl : Nouveau délai d'attente pour la réponse : 180 secondes. 2021-09-17 11:48:24.913 DEBUG 32560 --- [ main] f.d.insi.client.INSiClientImpl : Nouveau délai d'attente pour la réponse : 180 secondes. Test 4.06 Dans la Devbox-santé INSi , le paramétrage des tailles de lot est initialisé de la manière suivante :\n@Value(\"${devbox-sante.insi.lot.minSize:1}\") private int lotMinSize; @Value(\"${devbox-sante.insi.lot.maxSize:100}\") private int lotMaxSize; Il est possible de modifier ce paramétrage au travers d’un fichier de configuration.\n","categories":"","description":"Déclarations lors de notre audit \n","excerpt":"Déclarations lors de notre audit \n","ref":"/5.x/insi/howtos/testcnda/declarations/","tags":"","title":"Déclarations"},{"body":" Attention Toutes les transactions pour vos tests doivent être réalisées avec vos LPS Infos :\nsoit surchargées dans le header http /6.x/connecteurs/insi/configuration/#surcharge-les-lpsinfo-dans-le-proxy soit dans les variables d’environnement de votre configuration docker : /6.x/installation/docker/configuration/#insi En effet, afin de partir rapidement dans vos développements les livrables sont préfigurés sur les environnements de Développement/Qualification des différents téléservices avec les infos de la DevBox-Santé. Pour votre usage, vous devez maîtriser la configuration de ces informations qui sont propre à l’éditeur.\nTest 1.02 Le connecteur devbox-santé-insi est conforme au niveau 1 de sécurité. En effet, avant tout appel au TéléService INSi, la carte vitale est lue et une nouvelle assertion est générée. Donc quelque soit le délai d’attente, la recherche se fera sur l’individu séléctionné de la carte vitale insérée.\nLe cas 2 n’est pas reproductible dans notre cas, car la requête est transmise directement après la sélection du bénéficiaire.\nDeux possibilités de sélectionner le bénéficiaire :\nla première par l’utilisation d’une popup du choix du bénéficiaire (SELECT_INDIVIDU.png). le programme appelant connaît le bénéficiaire par un appel préalable aux apis vitales, le numéro de série de la carte vitale et l’index de l’invidu sont donc passés en paramètre (Appel_avec_numSerie_index_individu.png). Ces paramètres permettent de sélectionner les informations lues da la carte vitale avant la génération de l’assertion. Test 1.03 Le connecteur devbox-santé-insi est conforme au niveau 1 de sécurité. En effet, avant tout appel au TéléService INSi, la carte vitale est lue et une nouvelle assertion est générée. Donc si la carte dans le lecteur a été changé, la sélection de l’individu bénéficiaire est demandé à l’utilisateur et la recherche se fera sur l’individu séléctionné de la carte vitale insérée. Il n’y a donc pas d’erreur mais une invitation à choisir l’individu sur la carte.\nToutefois, il est laissé à l’intégrateur, dans le cas où la carte vitale a déjà été lue en amont, la possibilité de spécifier le numéro de série de la cartevitale ainsi que l’index du bénéficiaire. Donc dans ce cas, le connecteur devbox-santé-insi vérifie que ces deux paramètres correspondent aux informations lues sur la carte vitale avant de générer l’assertion. Cela permet de ne pas redemander à l’utilisateur de sélectionner le bénificiaire.\nLa vérification retourne une erreur dans le cas où les paramètres spécifiés par l’appelant ne correspondent pas :\nfr.devboxsante.insi.client.INSiException: La numéro de série de la carte ne correspond pas. at fr.devboxsante.insi.client.INSiClientImpl.ins1RechercheAvecVitale(INSiClientImpl.java:62) ~[insi-impl-1.0-SNAPSHOT.jar:1.0-SNAPSHOT] at fr.devboxsante.insi.proxy.INSiProxy.ins1RechercheAvecVitale(INSiProxy.java:32) ~[classes/:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na] at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na] at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na] at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na] Test 1.07 : Configuration de insi-api-proxy-rest de manière à injecter en réponse le fichier REP_CR01.xml. Cette configuration est possible seulement si le proxy-rest est lancé avec le profil CNDA activé. Cette configuration est accessible par un endpoint REST supplémentaire\nCas 1 : À la réception de l’erreur du téléservice de test est injecté dans le proxy la réponse du fichier REP_CR01.xml et est retourné en réponse (Test1.07-réponse_lionel_léonard_damien.png)\nCas 2 :À la réception de l’erreur du téléservice de test est injecté dans le proxy la réponse du fichier REP_CR01.xml et comme un prénom usuel différent est trouvé sur la carte, l’insi-api-rest-proxy relance une recherche avec le nom usuel pour nom de naissance (REQUETE_LEONARD_2_LPS.xml)\nCas 3: Idem que 1 (Test1.07-réponse_lionel_léonard_damien.png)\nRemarque : toutes les réponses données dans le répertoire sont les réponses d’origine du téléservice.\nTest 2.01 Le connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l’assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence, si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l’assertion. Si cette session n’est pas ouverte, trois possibilité :\nla carte n’est pas présente [NO_CARD] le code pin n’est pas saisie [NO_PIN] la carte a été changée. [NO_PIN] Dans tous les cas un message approprié est affiché à l’utilisateur pour qu’il puisse faire les actions nécessaires.\nTest 2.02 Le connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l’assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence, si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l’assertion. Dans le cas où plusieurs structures d’activité sont trouvées, il est demandé à l’utilisateur de choisir.\nLe secteur d’activité et l’identification de facturation sera paramétrable par l’intégrateur. Le code profession sera renseigné pour une CPS/CPF médecin. Il ne sera pas pour une CPE ou les CPS non médecin qui n’ont pas le champ specOrdRpps renseigné sur la carte.\nTest 2.03 Les régles de formattage concernant les différents champs sont appliqués avant envoi de la requête vers le téléservice INSi.Le prénom saisie est Une fois ces transformations effectuées une expression régulière vérifie qu’il ne subsiste pas des caractères interdits.\nDans le connecteur devbox-sante-insi a été mis en place le framework javax.validation afin d’éviter la non saisie des champs obligatoires, et de vérifier certains formats de champs. Exemple :\n/** * EF_INS10_01 * Nom de naissance */ @NotNull private String nomNaissance; @Size(min=5, max = 5, message = \"Ce code doit être issu du Code Officiel Géographique (COG) de l’INSEE.\\n\" + \"Il ne s’agit pas du code postal de la commune de naissance du patient.\") private String lieuNaissance; Si une erreur est remonté par le téléservice, cette erreur génére une exception dans le connecteur devbox-sante-insi et est remonté à l’intégrateur.\nCas 3 Une tentative d’envoi avec les paramètre du cas 3, déclenchera tout d’abord une exception :\nfr.devboxsante.insi.client.INSiException: D’ÆION contient des caractères interdits at fr.devboxsante.insi.client.INSiRequeteMappers.mapNom(INSiRequeteMappers.java:169) ~[insi-impl-1.0-SNAPSHOT.jar:1.0-SNAPSHOT] at fr.devboxsante.insi.client.INSiRequeteMappers.lambda$from$0(INSiRequeteMappers.java:82) ~[insi-impl-1.0-SNAPSHOT.jar:1.0-SNAPSHOT] at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na] at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654) ~[na:na] Une fois le nom naissance modifié en “D AEION”, une nouvelle tentative déclenchera une nouvelle exception :\nfr.devboxsante.insi.client.INSiException: CŒUR contient des caractères interdits at fr.devboxsante.insi.client.INSiRequeteMappers.mapNom(INSiRequeteMappers.java:169) ~[insi-impl-1.0-SNAPSHOT.jar:1.0-SNAPSHOT] at fr.devboxsante.insi.client.INSiRequeteMappers.lambda$from$0(INSiRequeteMappers.java:83) ~[insi-impl-1.0-SNAPSHOT.jar:1.0-SNAPSHOT] at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na] at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1654) ~[na:na] Une fois le prénom modifié en “Coeur” , une nouvelle tentative déclenchera une exception :\nfr.devboxsante.insi.client.INSiException: Mauvais format du lieu de naissance 2B020 at fr.devboxsante.insi.client.INSiRequeteMappers.checkLieuNaissance(INSiRequeteMappers.java:228) ~[insi-impl-1.0-SNAPSHOT.jar:1.0-SNAPSHOT] at fr.devboxsante.insi.client.INSiRequeteMappers.mapLieuNaissance(INSiRequeteMappers.java:222) ~[insi-impl-1.0-SNAPSHOT.jar:1.0-SNAPSHOT] at fr.devboxsante.insi.client.INSiRequeteMappers.lambda$from$0(INSiRequeteMappers.java:80) ~[insi-impl-1.0-SNAPSHOT.jar:1.0-SNAPSHOT] at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195) ~[na:na] Test 2.07 Une difficulté peut apparaître pour ce test où l’on vous demande de faire des appels successifs en passant une liste de prénoms dans la requête. En injectant, le fichier REP_CR01.xml vous aurez toujours la même réponse déclenchée, c’est à dire celle du fichier. Il vous faut donc manuellement lancer le premier appel avec le fichier injecté, faire un clean de l’injection et poursuivre les appels.\n@since 3.0.9 Depuis la version 3.0.9, cette contrainte est levée car il est désormais possible de donner à l’“injecteur” le nombre de fois qu’une ressource doit être injecté. Dans ce test, une seule injection est donc nécessaire :\nTest3.01 Comme pour le test 2.01\nLe connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l’assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence, si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l’assertion. Si cette session n’est pas ouverte, trois possibilité :\nla carte n’est pas présente [NO_CARD] le code pin n’est pas saisie [NO_PIN] la carte a été changée. [NO_PIN] Dans tous les cas un message approprié est affiché à l’utilisateur pour qu’il puisse faire les actions nécessaires.\nTest3.02: Comme pour le Test2.02\nLe connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l’assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence, si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l’assertion. Dans le cas où plusieurs structures d’activité sont trouvées, il est demandé à l’utilisateur de choisir.\nLe secteur d’activité et l’identification de facturation sera celui de la structure sélectionnée. Le code profession sera renseigné pour une CPS/CPF médecin. Il ne le sera pas pour une CPE ou les CPS non médecin qui n’ont pas le champ specOrdRpps renseigné sur la carte.\nTest 3.04 Utilisation de javax.validation p ur vérifier les champs obligatoires, les champs optionnels peuvent ne pas être renseigné et n’empêche pas l’appel au téléservice.\nTest 3.05 Pour les cas 1 et 2 la réponse retournée au client est l’erreur générée par le message Soap. Il n’est pas possible d’injecter la réponse TEST_2.03_cas1.xml ou encore TEST_2.05.xml car les formats des réponses soaps entre les deux téléservices (WS_INS2 et WS_INS3) sont différents.\nTest 4.01 Le connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l’assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence, si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l’assertion. Si cette session n’est pas ouverte, trois possibilités :\nla carte n’est pas présente [NO_CARD] le code pin n’est pas saisie [NO_PIN] la carte a été changée. [NO_PIN] Dans tous les cas un message approprié est affiché à l’utilisateur pour qu’il puisse faire les actions nécessaires.\nTest 4.02 Le connecteur devbox-santé-insi est conforme au niveau 1 de sécurité pour l’assertion PS. En effet, avant tout appel au TéléService INSi, la carte CPS est accédé afin de vérifier sa présence, si une session pkcs11 est ouverte, cette dernière est utilisée pour générer l’assertion. Dans le cas où plusieurs structures d’activité sont trouvées, il est demandé à l’utilisateur de choisir. Le secteur d’activité et l’identification de facturation sera celui de la structure sélectionnée. Le code profession sera renseigné pour une CPS/CPF médecin. Il ne sera pas pour une CPE ou les CPS non médecin qui n’ont pas le champ specOrdRpps renseigné sur la carte. L’identifiant de facturation sera celui associé de la structure d’activité choisie sur la carte CPS.\nTest 4.03 Les formats et contrôles de chaque requête unitaire pour un lot sont identiques à celles pour une vérification unitaire qui sont :\n“Le prénom saisie est transformé(normalisé) afin de supprimer tous les accents et mis en majuscule. Une fois ces transformations effectuées une expression régulière vérifie qu’il ne subsiste pas des caractères interdits.”\nTest 4.05 : Une fois le dépôt effectuée et obtenue la réponse du téléservice, la devbox-santé INSi convertit le délai donné en secondes d’attente. Nous préférons laisser le choix à l’intégrateur de notre solution de la manière leur application attend avant de récupérer le résultat (appel non bloquant privilégié). Toutefois, nous proposons un service qui réalise l’appel du dépôt et essaye de récupérer le résultat après chaque nouveau délais retourné par le téléservice INSi (appel bloquant).\nTrace d’exécution mettant en œuvre l’injection du CR_02 :\n2021-09-17 11:44:09.553 DEBUG 32560 --- [ main] f.d.insi.client.INSiClientImpl : Délai d'attente pour la réponse : 60 secondes. 2021-09-17 11:45:22.084 DEBUG 32560 --- [ main] f.d.insi.client.INSiClientImpl : Nouveau délai d'attente pour la réponse : 180 secondes. 2021-09-17 11:48:24.913 DEBUG 32560 --- [ main] f.d.insi.client.INSiClientImpl : Nouveau délai d'attente pour la réponse : 180 secondes. Test 4.06 Dans la Devbox-santé INSi , le paramétrage des tailles de lot est initialisé de la manière suivante :\n@Value(\"${devbox-sante.insi.lot.minSize:1}\") private int lotMinSize; @Value(\"${devbox-sante.insi.lot.maxSize:100}\") private int lotMaxSize; Il est possible de modifier ce paramétrage au travers d’un fichier de configuration.\n","categories":"","description":"Déclarations lors de notre audit \n","excerpt":"Déclarations lors de notre audit \n","ref":"/6.x/connecteurs/insi/howtos/testcnda/declarations/","tags":"","title":"Déclarations"},{"body":" Bientôt disponible Nous travaillons sur un environnement de démonstration.\nLes impressions écrans sont des suggestions d’intégration et ne définit pas le rendu final dans votre application.\nConnexion Écran de connexion Possibilité de choisir entre les deux workflows de connexion : CodeFlow et Ciba\nMises en œuvre possible Informations du jeton Utilisation jeton pour la MS-Santé Pour l’INS ","categories":"","description":"environnement de démonstration\n","excerpt":"environnement de démonstration\n","ref":"/6.x/plateformes/eproxy/howtos/demo/","tags":"","title":"Démo"},{"body":"","categories":"","description":"","excerpt":"","ref":"/en/","tags":"","title":"DevBox-Santé"},{"body":" Bientôt Disponible Le parcours de référencement s’est ouvert en juillet 2025. La DevBox-Santé eProxy finalise son référencement. La DevBox-Santé eProxy est le composant permettant aux intégrateurs d’accéder aux Téléservices de Santé (INSi, DMP …) via ProSanté-Connect.\nEspace de confiance Proxy ESanté Toutes les informations officielles se trouvent sur le site de l’ANS : HTTPs://industriels.esante.gouv.fr/produits-et-services/pro-sante-connect/espace-de-confiance-api-pro-sante-connectees\nArchitecture Cette architecture interprété dans la DevBox-Santé eProxy :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define EPROXY_COLOR #2f78cc skinparam dpi 150 left to right direction actor \"Utilisateur\\n(navigateur / mobile)\" as Client rectangle \"Espace de confiance PSC\" as EspacePSC { component \"Backend Solution métier\" as Backend card \"Docker Network\\n(private)\" as DockerNet DEVBOX_COLOR { component \"DevBox-Santé eProxy\\n(API / Auth / CIBA / Code flow)\\n(port 443)\" as proxy EPROXY_COLOR database \"MongoDB\\n(port 27017)\" as mongo database \"Redis(optionnel)\\n(port 6379)\" as redis } cloud \"Pro Santé Connect\" as PSC cloud \"Fournisseurs Services PSC \\nDMP, INSi, ePresc... \" as services } ' Flows Client --\u003e Backend : HTTPs\\n / API Backend --\u003e proxy : HTTPs (Authentification PSC) Backend --\u003e proxy : HTTPs (SOAP) proxy --\u003e PSC : mTLS proxy --\u003e mongo : TCP 27017\\nDB read/write (internal) proxy --\u003e redis : TCP 6379\\nDB read/write (internal) proxy --\u003e services : mTLS\\nAPI calls (SOAP) ' Annotations note right of proxy - Stocke tokens PSC en session ou sur Redis (access/refresh/id_token) - Endpoint /oauth2/ciba -\u003e CIBA - Endpoint /oauth2/codeflow/{{clientId}} -\u003e Code Flow end note Avec la DevBox-Santé Lien avec les différents composants de la DevBox-Santé :\n!theme aws-orange !define DEVBOX_COLOR #278ef5 !define EPROXY_COLOR #2f78cc !define DMP_COLOR #35D9C0 !define MSS_COLOR #DE5D80 !define INS_COLOR #07A2CF !define CPS_COLOR #D34A3C !define VITALE_COLOR #5FD67A !define PSC_COLOR #ff7765 !define APCV_COLOR #c6e66d !define ANNUAIRE_COLOR #7613e0 !define DATA_COLOR #ffa800 left to right direction actor \"Utilisateur\\n(navigateur / mobile)\" as Client rectangle \"Espace de confiance PSC\" as EspacePSC { node \"Environnement Integrateur\" { component \"Backend Solution métier\" as Backend card \"Docker Network\\n(private)\" as DockerNet DEVBOX_COLOR { together { component \"DevBox-Santé\" as devbox DEVBOX_COLOR { component \"DevBoxSanté_DMP\\n\\n Validation/CI-SIS\\n CDA/XDS\\n SOAP/SAML\\n Schematron\" as dbx_dmp DMP_COLOR component \"DevBoxSanté INS\\n\\n Validation/CI-TLSI-AMO\\n SOAP/SAML\" as dbx_ins INS_COLOR } } component \"DevBox-Santé eProxy\\n(API / Auth)\" as proxy EPROXY_COLOR database \"MongoDB\" as mongo database \"Redis\" as redis } } cloud \"Pro Santé Connect\" as PSC cloud \"Fournisseurs Services PSC \\nDMP, INSi, ePresc... \" as services } ' Flows Client --\u003e Backend : HTTPs Backend --\u003e devbox : HTTPs (REST) \\n/dmp, /insi, /epresc ... dbx_dmp --\u003e proxy : HTTP (SOAP) dbx_ins --\u003e proxy : HTTP (SOAP) Backend --\u003e proxy : \\n\\n\\nHTTPs\\n(Authentification PSC) proxy --\u003e PSC : mTLS proxy --\u003e mongo proxy --\u003e redis proxy --\u003e services : mTLS\\nAPI calls ","categories":"","description":"","excerpt":" Bientôt Disponible Le parcours de référencement s’est ouvert en …","ref":"/6.x/plateformes/eproxy/","tags":"","title":"eProxy"},{"body":" TODO ","categories":"","description":"","excerpt":" TODO ","ref":"/6.x/plateformes/pfi/howtos/back_office/utilisateurs/","tags":"","title":"Gestion des utilisateurs"},{"body":"","categories":"","description":"","excerpt":"","ref":"/6.x/connecteurs/transverses/howtos/","tags":"","title":"Howtos"},{"body":"","categories":"","description":"","excerpt":"","ref":"/6.x/plateformes/eproxy/howtos/","tags":"","title":"HowTos"},{"body":"Afin de générer le fichier csv d’indicateurs, un endpoint REST a été développé : /pfi/admin/indicateurs/from/{fromDate}/to/{toDate}\nIl est accessible depuis l’interface Back-Office dans le menu Indicateurs :\nSélection des dates Il est possible de sélectionner la date de départ ainsi que la date de fin avec les deux selecteurs de date du formulaire d’export.\nFiltres Il est également possible de filtrer soit par le numero FINESS de l’établissement ou par type de documents.\nIl faut remplir au moins et au plus un des deux criteres:\nExporter Une fois le bouton Exporter cliqué, vous obtiendrez en export csv contenant les indicateurs demandés par le segur.\nDont chaque colonne correspond à indicateur souhaité :\nPour l’alimentation DMP :\ndmpSucces : Nombre de [type de document] transmis au DMP (en flux) – réussi dmpErreur : Nombre de [type de document] transmis au DMP (en flux) – en échec dmpHistorique : Nombre de [type de document] “historique” transmis au DMP (dont la date est antérieure, avec une profondeur de 5 ans) – réussi Pour l’envoi par MSSanté professionnelle\nmssPsSucces : Nombre de documents envoyés aux correspondants de santé externes vers MSSanté – réussi mssPsEchec : Nombre de documents envoyés aux correspondants de santé externes vers MSSanté – en échec mssInsQualifie : Nombre de documents avec une INS qualifiée envoyés aux correspondants de santé externes vers MSSanté – réussi mssInsQualifieEchec : Nombre de documents avec une INS qualifiée envoyés aux correspondants de santé externes vers MSSanté – en échec mssRemplacement : Nombre de documents mis à jour envoyés aux correspondants de santé externes vers MSSanté mssSuppression : Nombre de documents supprimés envoyés aux correspondants de santé externes vers MSSanté Pour l’envoi par MSS citoyenne de Mon espace santé\nmssMes : Nombre de documents transmis au patient vers MSSanté – réussi mssMesErreur : Nombre de documents transmis au patient vers MSSanté – en échec Pour la réception par MSSanté :\nmssRecept : Nombre de courriels reçus et transmis au logiciel destinataire - réussi mssReceptErreur : Nombre de courriels reçus et transmis au logiciel destinataire - en échec mssReceptMajOuSuppr : Nombre de courriels de “demande de mise à jour ou suppression” reçus depuis la MSSanté ","categories":"","description":"Génération des indicateurs Ségur vague 2 [SC.STAT/ES.02]\n","excerpt":"Génération des indicateurs Ségur vague 2 [SC.STAT/ES.02]\n","ref":"/6.x/plateformes/pfi/howtos/back_office/indicateurs/","tags":"","title":"Indicateurs"},{"body":" Documentation en cours de rédaction Les travaux sont en cours. Il s’agit d’une prévisualisation. Configurer une intermédiation c’est définir une relation entre la PFI et un systèmes tiers (DPI, RIS, SGL, …) et les actions à réaliser à la réception d’un message provenant de ce dernier.\nExemples Pas de flux DMP , mais flux MS-Santé par dépôt de fichier devbox-sante: pfi: intermediations: file-default: systemeSource: nom: DevBox-Sante PFI version: 1 structureSanteSource: idNational: ${DEVBOX_PFI_STRUCTURE_SANTE_SOURCE_ID_NATIONAL} nom: ${DEVBOX_PFI_STRUCTURE_SANTE_SOURCE_NOM} systemeDestinataire: nom: ${DEVBOX_PFI_SYSTEME_DESTINATAIRE_NOM} structureSanteDestinataire: idNational: ${DEVBOX_PFI_STRUCTURE_SANTE_DESTINAIRE_ID_NATIONAL} nom: ${DEVBOX_PFI_STRUCTURE_SANTE_DESTINAIRE_NOM} connector: protocol: file rootPath: ${DEVBOX_PFI_FILE_ROOT_PATH:/server/files} # Doit correspondre à un volume système du serveur hôte pour qu'un autre applicatif puisse accéder également out: dmp: active: false soumissionContentType: ${DEVBOX_PFI_DMP_SOUMISSION_CONTENT_TYPE} mss: # active: false operatorName: ${DEVBOX_PFI_MSS_OPERATOR:MOTCO2} userName: ${DEVBOX_PFI_MSS_USER_NAME} p12InBase64: ${DEVBOX_PFI_MSS_P12} p12Password: ${DEVBOX_PFI_MSS_P12_PASSWORD} errorEmail: ${DEVBOX_PFI_MSS_ERROR_EMAIL} Ici , un grand nombre de variable d’environnements sont utilisés cela permet de rendre plus générique la configuration et de la personnaliser plus facilement à l’exécution. Mais ce n’est pas obligatoire. Une vigilance particulière doit être apporté pour les mots de passe.\ncomplet avec le protocole MLLP devbox-sante: pfi: intermediations: test-mllp: systemeSource: nom: DevBox-Sante PFI version: 1 structureSanteSource: nom: CH Test 1852516 idNational: 300000001852516 systemeDestinataire: nom: DevBox-Sante PFI Connector structureSanteDestinataire: idNational: 123456789 connector: protocol: mllp hostname: localhost port: 22223 mllpLocalPort: 22222 out: dmp: authP12InBase64: MII ... w4DAhoFAAQUU5RzXk2bPaZlTM127lNi8wlsPDcECOxu5dAq49cdAgIIAA==} authP12Password: MotDePasseEnClair! signP12InBase64: MII...tw/P6VvF7ReSTviT9U3UECPY1G7XT5Ji8AgIIAA== signP12Password: MotDePasseEnClair! soumissionContentType: 04 # Hospitalisation de jour mss: operatorName: MOTCO2 userName: 300000001852516@mail-tests-editeur.espacedeconfiance.mssante.fr p12InBase64: MII ...0ujUZKEwMTAhMAkGBSsOAwIaBQAEFBcoOwobt1u7f2M3nmXUO/aAokGXBAjTkNM16HzCcAICCAA= p12Password: MotDePasseEnClair? errorAddressMapping: - origin: 899700739180@mail-tests-editeur.espacedeconfiance.mssante.fr dest: organisationnel-test@medimail-test.mssante.fr - origin: test@origin.mssante.fr dest: test@dest.mssante.fr ","categories":"","description":"Tout ce qu'il faut savoir sur une intermediation et comment les configurer\n","excerpt":"Tout ce qu'il faut savoir sur une intermediation et comment les …","ref":"/6.x/plateformes/pfi/configuration/intermediations/","tags":"","title":"Intermediations"},{"body":" Information Informations concernant le parcours de référencement en général et plus particulièrement de la DevBox-Santé eProxy. Espace communautaire Aujourd’hui l’écosystème PSC est un espace communautaire avec un fournisseur d’identité ProSantéConnect\nD’un jeton PSC obtenu permettant l’accès à la MSS.\nEspace de confiance La cible de l’écosystème de l’ANS est :\nLa DevBox-Santé eProxy permet l’accès aux APIs ProSantéConnectés du nouvel espace de Confiance PSC.\nActeurs Pour celà l’ANS a défini différents acteurs :\nLa DevBox-Santé eProxy se positionne en tant qu’ELP : Éditeur de Logiciel Proxy e-Santé\ndependances entre acteurs L’ELP est le premier maillon de la chaîne de dépendances des acteurs.\nParcours sur Convergence Dossier dans convergence déposé Prérequis Maturité Technique Architecture, Analyse de risques , Plan d’assurance sécurité [] Test d’intrusion en cours Homologation CNDA INSI : Dossier validé (en attente d’officialisation) DMP : dossier en cours ","categories":"","description":"Cette page à pour but d'éclaircir le parcours de référencement de la Devbox-Santé eProxy\n","excerpt":"Cette page à pour but d'éclaircir le parcours de référencement de la …","ref":"/6.x/plateformes/eproxy/parcours/","tags":"","title":"Parcours de référencement"},{"body":"Configuration de la DevBox-Santé Vous n’avez rien à faire, Prometheus est activé par défaut. Pour le désactiver, il suffit de passer la variable d’environnement DEVBOX_MANAGEMENT_ENABLED à false\nConfiguration de Prometheus Pour ajouter la configuration de la target dans prometheus, il suffit de rajouter dans la configuration de prometheus (/etc/prometheus/prometheus.yml) la définition de le job suivant :\nscrape_configs: - job_name: 'devbox-sante' metrics_path: '/actuator/prometheus' scrape_interval: 15s # This can be adjusted based on our needs static_configs: - targets: ['IP_DEVBOX_SANTE:8080'] basic_auth: username: DEVBOX_LM_CLIENT password: DEVBOX_LM_TOKEN Et voilà :\nPour le suivi des métriques dans Prometheus et Grafana, nous vous invitons à consulter la documentation officielle de leurs produits : https://prometheus.io/docs/introduction/overview/\n","categories":"","description":"Monitorer la DevBox-Santé avec Prometheus (@since b36)\n","excerpt":"Monitorer la DevBox-Santé avec Prometheus (@since b36)\n","ref":"/6.x/installation/docker/howtos/prometheus/","tags":"","title":"Prometheus"},{"body":"Une api REST est disponible, permettant notamment :\n/pfi-connect/generate de générer un message HL7 à partir du modèle PfiMessage /pfi-connect/envoiDemande d’envoyer un PfiMessage à une PFI* /pfi-connect/receptionAccusesMetiers de réceptionner par ordre d’arrivée les accusés métiers retour de la PFI* /pfi-connect/reseptionDemande de réceptionner les PfiMessage envoyés via la PFI* * : En précisant dans le header HTTP le connecteur à utiliser : pfi.connectorName\nAPI dans Swagger Test avec Bruno Les exemples de requête Bruno : https://bitbucket.org/devbox-sante/dbx-examples-bruno/src/master/dbx/pfi-connect/\n","categories":"","description":"Les interactions PFI en mode REST\n","excerpt":"Les interactions PFI en mode REST\n","ref":"/6.x/connecteurs/pfi-connect/rest/","tags":"","title":"REST API"},{"body":"Documentation de Sauvegarde et Restauration d’une Base MongoDB Déployée avec Docker 1. Objectif Cette procédure décrit les étapes nécessaires pour effectuer des sauvegardes et des restaurations de la base de données MongoDB dans un environnement Docker. Les mécanismes de sauvegarde doivent permettre une certaine flexibilité dans le choix des outils, sans imposer l’utilisation d’un produit spécifique.\n2. Prérequis Accès en ligne de commande : L’accès SSH ou local à la machine hôte Docker pour exécuter les commandes. 3. Acteurs Impliqués Les acteurs impliqués dans le processus de sauvegarde et leurs rôles sont détaillés ci-dessous selon le modèle RACI :\nRôle Acteurs Responsabilité R - Responsable Administrateurs systèmes, Chef de projet sécurité Mise en œuvre des sauvegardes, gestion des procédures A - Autorité Responsable de la sécurité Supervision des sauvegardes et des tests de récupération C - Consulté Support informatique Assistance dans la mise en œuvre des sauvegardes et la gestion des pannes I - Informé Utilisateurs, Responsables de l’infrastructure Tenir informés des sauvegardes et des politiques de sécurité Les administrateurs systèmes sont responsables de la mise en œuvre et de l’exécution des sauvegardes. Le responsable de la sécurité assure la surveillance et l’audit des processus. Le support informatique est consulté pour tout problème technique lié à l’infrastructure.\n4. Fréquence de Sauvegarde Les sauvegardes doivent être effectuées de manière régulière et selon la fréquence définie ci-dessous :\nSauvegardes complètes : Une fois par semaine pour assurer la capture complète de l’état de la base de données. Sauvegardes incrémentielles : Quotidiennes pour capturer les modifications de la base de données. La fréquence peut être ajustée en fonction des besoins spécifiques de l’entreprise et de la criticité des données.\n5. Champ d’Application (Périmètre de la Sauvegarde) Les éléments suivants sont inclus dans le périmètre de la sauvegarde :\nBase de données MongoDB : Toutes les collections, documents et métadonnées associés. Configurations Docker : Sauvegarde de la configuration du conteneur, y compris les volumes associés et les paramètres de l’application. Les composants non inclus peuvent être des systèmes externes, des applications tierces non gérées ou des données spécifiques non stockées dans MongoDB.\n6. Lieu de Stockage des Sauvegardes Les sauvegardes doivent être stockées dans des emplacements sécurisés. Les options suivantes sont envisagées :\nStockage local : Sauvegardes effectuées sur des disques durs ou des serveurs dédiés au sein de l’infrastructure de l’entreprise. Cloud sécurisé : Les sauvegardes peuvent également être stockées sur des solutions cloud comme OVH Cloud, garantissant ainsi leur sécurité et leur accessibilité. Serveur distant : Option de stockage sur un serveur distant pour une meilleure résilience et sécurité des données. Les sauvegardes sont stockées dans des emplacements différents de l’infrastructure principale pour éviter toute perte de données en cas de sinistre.\n7. Règles de Sécurité Des mesures de sécurité sont mises en place pour protéger les sauvegardes contre l’accès non autorisé et la corruption :\nChiffrement des données : Les sauvegardes sont systématiquement chiffrées à l’aide de l’algorithme AES-256 pour assurer la confidentialité des données. Accès restreint : L’accès aux sauvegardes est limité aux utilisateurs et groupes ayant un rôle spécifique, avec une authentification forte et des permissions bien définies. Contrôle d’accès physique : Si les sauvegardes sont stockées localement, les serveurs de stockage doivent être physiquement sécurisés. Ces mesures garantissent la protection des sauvegardes contre les accès non autorisés et assurent leur sécurité pendant le transport et le stockage.\n8. Tests de Récupération Les tests de récupération sont cruciaux pour garantir la fiabilité des sauvegardes en cas de sinistre. Les tests suivants doivent être effectués régulièrement :\nPérimètre des tests : Les tests de récupération doivent inclure les sauvegardes complètes et incrémentielles pour valider l’intégrité des données restaurées. Fréquence des tests : Les tests de récupération doivent être effectués au moins une fois par trimestre pour s’assurer de la capacité à restaurer les données rapidement. Les tests doivent être documentés, avec les résultats, les problèmes rencontrés, et les actions correctives prises pour améliorer le processus.\n9. Sauvegarde de la Base MongoDB Pour réaliser une sauvegarde de la base de données MongoDB, nous utilisons la commande docker exec pour exécuter des commandes à l’intérieur du conteneur MongoDB. Voici les étapes pour sauvegarder les données :\n9.1. Identifier le conteneur MongoDB Tout d’abord, il faut identifier le nom ou l’ID du conteneur MongoDB en cours d’exécution. Pour cela, utilisez la commande suivante :\ndocker ps Cela vous donnera la liste des conteneurs en cours d’exécution avec leurs identifiants. Repérez le conteneur associé à MongoDB.\n9.2 Exécuter la commande de sauvegarde Ensuite, pour sauvegarder les données MongoDB, nous utilisons la commandemongodumpà l’intérieur du conteneur:\ndocker exec -it \u003ccontainer_name\u003e mongodump --db=pfi --archive=/data/db/backup/mongodump_\u003cnom_base\u003e.archive --gzip 9.3 Vérification de la sauvegarde Une fois la commande exécutée, vous pouvez vérifier que les fichiers ont bien été créés dans le répertoire de sauvegarde en accédant au chemin spécifié.\nls /path/to/backup/directory 9.4 Chiffrement de la sauvegarde Si vous souhaitez sauvegarder vos données vers un volume externe, vous pouvez utiliser le montage de volume Docker. Voici un exemple de commande pour sauvegarder dans un volume externe :\nopenssl enc -aes-256-cbc -salt -in /data/db/backup/mongodump_\u003cnom_base\u003e.archive -out /data/db/backup/mongodump_\u003cnom_base\u003e.archive.enc -k \"password\" 9.5 Sauvegarde vers un volume externe Si vous souhaitez sauvegarder vos données vers un volume externe, vous pouvez utiliser le montage de volume Docker. Voici un exemple de commande pour sauvegarder dans un volume externe :\ndocker cp \u003cmongo_container\u003e:/data/db/backup /path/to/external/folder 9.6 Planification des sauvegardes complètes Les sauvegardes doivent être effectuées régulièrement pour garantir la protection des données. Un cron job peut être configuré sur l’hôte Docker pour automatiser cette tâche.\nExemple de planification hebdomadaire le dimanche à minuit :\n0 0 * * 0 docker exec \u003cnom_du_conteneur_mongo\u003e mongodump --db=pfi --archive=/tmp/backup/mongodump_$(date +\\%F).archive --gzip 9.7 Planification des sauvegardes incrémentielles Les sauvegardes doivent être effectuées régulièrement pour garantir la protection des données. Un cron job peut être configuré sur l’hôte Docker pour automatiser cette tâche.\nExemple de planification quotidienne d’une sauvegarde à 1h du matin :\n0 1 * * * docker exec \u003cnom_du_conteneur_mongo\u003e mongodump --db=pfi --archive=/tmp/backup/mongodump_incremental_backup_$(date +\\%F).archive --gzip --oplog 10. Mécanismes de Restauration La restauration des données depuis une sauvegarde mongodumpest réalisée à l’aide de la commande mongorestore.\n10.1 Restauration d’une base MongoDB Pour restaurer la base MongoDB à partir de la sauvegarde, utilisez la commande suivante :\nDéchiffrement de la sauvegarde complète (idem pour les différentielles):\nopenssl enc -d -aes-256-cbc -in /data/db/backup/mongodump_\u003cnom_base\u003e.archive.enc -out /data/db/backup/mongodump_\u003cnom_base\u003e.archive -k \"password\" Chargement de la dernière sauvegarde complète\ndocker exec \u003cnom_du_conteneur_mongo\u003e mongorestore --db=pfi --archive=/data/db/backup/mongodump_\u003cdate\u003e.archive --gzip --drop Chargement des sauvegardes différentielles dans l’ordre des dates\ndocker exec -i \u003cnom_du_conteneur\u003e mongorestore --db=pfi --archive=/data/db/backup/mongodump_incremental_backup_\u003cdate\u003e.archive --gzip --oplogReplay 10.2 Test de la Restauration Après chaque restauration, vérifiez que les données sont correctement restaurées en vous connectant à MongoDB et en effectuant quelques requêtes sur les collections de la base de données.\ndocker exec -it \u003ccontainer_name\u003e mongo une fois connecté, vous pouvez lister les collections:\nshow dbs use pfi show collections 11. Sécurisation des Sauvegardes Les sauvegardes doivent être sécurisées pour protéger les données sensibles :\nChiffrement des sauvegardes : Utilisez des outils comme GPG ou OpenSSL pour chiffrer les fichiers de sauvegarde. Stockage sécurisé : Assurez-vous que les fichiers de sauvegarde sont stockés dans un emplacement sécurisé, tel qu’un volume Docker monté avec des permissions strictes ou un stockage cloud sécurisé. Accès contrôlé : Restreindre l’accès aux sauvegardes uniquement aux utilisateurs ou rôles autorisés. 12. Rétention des Sauvegardes Les politiques de rétention des sauvegardes doivent être définies pour éviter l’encombrement des espaces de stockage tout en garantissant la possibilité de restaurer les données pendant une période suffisante.\nExemple de politique de rétention :\nSauvegardes quotidiennes : Conservez les sauvegardes quotidiennes pendant 7 jours. Sauvegardes hebdomadaires : Conservez les sauvegardes hebdomadaires pendant 1 mois. Sauvegardes mensuelles : Conservez les sauvegardes mensuelles pendant 1 an. ","categories":"","description":"Procédures d'administration de la DevBox-Santé PFI\n","excerpt":"Procédures d'administration de la DevBox-Santé PFI\n","ref":"/6.x/plateformes/pfi/howtos/sauvegarde/","tags":"","title":"Sauvegarde PFI"},{"body":"Le référentiel se trouve ici : https://esante.gouv.fr/espace_documentation/mssante-clients-de-messageries-securisees-de-sante/referentiel-socle-mssante-2\nLa couverture DevBox-santé ici :\nhttps://docs.google.com/spreadsheets/d/11rsEoARIcawl-ZkfZILIQK_w2Oi6jT_6nayFffsxYF8/edit?usp=sharing\n","categories":"","description":"Couverture de la DevBox-Santé pour les clienst de Messageries Sécurisées de santé\n","excerpt":"Couverture de la DevBox-Santé pour les clienst de Messageries …","ref":"/5.x/ms-sante/howtos/referencement/","tags":"","title":"Suivi des exigences"},{"body":"Le référentiel se trouve ici : https://esante.gouv.fr/espace_documentation/mssante-clients-de-messageries-securisees-de-sante/referentiel-socle-mssante-2\nLa couverture DevBox-santé ici :\nhttps://docs.google.com/spreadsheets/d/11rsEoARIcawl-ZkfZILIQK_w2Oi6jT_6nayFffsxYF8/edit?usp=sharing\n","categories":"","description":"Couverture de la DevBox-Santé pour les clienst de Messageries Sécurisées de santé\n","excerpt":"Couverture de la DevBox-Santé pour les clienst de Messageries …","ref":"/6.x/connecteurs/ms-sante/howtos/referencement/","tags":"","title":"Suivi des exigences"},{"body":"Version - 1.0.6 (19/01/2026) Bug DBXAG-32 [MacOS] problème url handler si application est déja lancé\nVersion - 1.0.5 (16/01/2026) Bug DBXAG-31 [MacOS] Ne pas enregistrer les logs dans le répertoire de l’utilisateur\nVersion - 1.0.4 (17/11/2025) Tâche DBXAG-27 [CPS] version 4.1.2\nAmélioration DBXAG-23 Mettre en place le rolling pour les fichiers de log\nBug DBXAG-21 [MacOS] Url handler ne lance pas l’application la 1ere fois après l’installation\nVersion - 1.0.3 (12/06/2025) Amélioration DBXAG-16 Nouveau service pour vérifier une session à partir de son id\nDBXAG-19 Intégrer CPS 4.1.0 avec restauration IAIK\nBug DBXAG-17 Perte de connexion entre l’agent et le serveur\nNouvelle fonctionnalité DBXAG-20 Version MAC-OS java\nVersion - 1.0.2 (12/05/2025) Amélioration DBXAG-11 [Log] le numéro de version dans les logs\nDBXAG-12 [AgentAdminContrioller] permettre l’arret d’un agent\nDBXAG-13 [Swagger] ajouter la doc rest de l’admin controller\nDBXAG-15 [Auth] Avoir un service qui permet d’ajour un token à passer à l’agent pour s’authentifier\nBug DBXAG-8 Problème de parsing des args si le auth contient des “=”\nDBXAG-10 [MAJ AUTO] rebrancher la mise à jour auto.\nVersion- 1.0.1 (28/03/2025) Amélioration DBXAG-9 [CPS] intégration correction signature openssl (CPS 4.0.2)\nVersion - 1.0.0 (25/03/2025) Bug DBXAG-4 [Vitale] crash en natif si cps non lue avant.\nDBXAG-7 [httpProxy] les propriété systèmes non prises en compte lors de la connexion\nVersion- 1.0-alpha (18/12/2024) Amélioration DBXAG-3 [Auth] définir une autentification du client vers le backend (mutualTLS / basicAuth)\nDBXAG-5 Ajout cryptolib 5.1.20 macos\nDBXAG-6 [Backend] endpoint de gestion des différentes sessions ouvertes\nBug DBXAG-1 [Exception] Problème de sérialisation de l’exception\n","categories":"","description":"","excerpt":"Version - 1.0.6 (19/01/2026) Bug DBXAG-32 [MacOS] problème url handler …","ref":"/6.x/installation/agent/versions/","tags":"","title":"Versions"}]