<!doctype html>
<html lang="fr" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.96.0" /><link rel="canonical" type="text/html" href="/insi/">
<link rel="alternate" type="application/rss&#43;xml" href="/insi/index.xml">
<META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>INSi | DevBox-Santé</title>


  <meta name="description" content="Téléservice Identité National de Santé (INS) intégré aux LPS 
">
<meta property="og:title" content="INSi" />
<meta property="og:description" content="Téléservice Identité National de Santé (INS) intégré aux LPS 
" />
<meta property="og:type" content="website" />
<meta property="og:url" content="/insi/" /><meta property="og:site_name" content="DevBox-Santé" />

<meta itemprop="name" content="INSi">
<meta itemprop="description" content="Téléservice Identité National de Santé (INS) intégré aux LPS 
"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="INSi"/>
<meta name="twitter:description" content="Téléservice Identité National de Santé (INS) intégré aux LPS 
"/>




<link rel="preload" href="/scss/main.min.9ed9ca22a2a8e50a02a8477bfbb3d08ba806ef494b1164911a959fa74757d94a.css" as="style">
<link href="/scss/main.min.9ed9ca22a2a8e50a02a8477bfbb3d08ba806ef494b1164911a959fa74757d94a.css" rel="stylesheet" integrity="">


<script
  src="https://code.jquery.com/jquery-3.5.1.min.js"
  integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
  crossorigin="anonymous"></script>


<link rel="stylesheet" href="/css/devbox-sante.css" type="text/css">





<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-39129192-3', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>




  </head>
  <body class="td-section">
    <header>
      
<nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
        <a class="navbar-brand" href="/">
		<span class="navbar-logo"><svg id="Composant_16_14" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 132.5 118.9" style="enable-background:new 0 0 132.5 118.9"><style>.st0{fill:url(#SVGID_1_)}.st1{fill:#fff}.st2{fill:url(#SVGID_2_)}.st3{fill:url(#SVGID_3_)}.st4{fill:#d34a3c}.st5{fill:none;stroke:#fff;stroke-width:6}</style><g id="Rectangle_69" transform="translate(65.996 38.892)"><linearGradient id="SVGID_1_" gradientUnits="userSpaceOnUse" x1="-44.4861" y1="64.4079" x2="-45.1313" y2="65.2243" gradientTransform="matrix(66.506 0 0 -66.507 3013.5039 4344.1382)"><stop offset="0" style="stop-color:#7613E0"/><stop offset="1" style="stop-color:#9F57ED"/></linearGradient><path class="st0" d="M23.3 3.8h19.9c10.7.0 19.4 8.7 19.4 19.4v19.9c0 10.7-8.7 19.4-19.4 19.4H23.3c-10.7.0-19.4-8.7-19.4-19.4V23.2C3.9 12.5 12.6 3.8 23.3 3.8z"/><g><path class="st1" d="M44.5 66.5H22c-12.1.0-22-9.9-22-22V22C0 9.9 9.9.0 22 0h22.5c12.1.0 22 9.9 22 22v22.5c0 12.1-9.9 22-22 22zM22 6C13.2 6 6 13.2 6 22v22.5c0 8.8 7.2 16 16 16h22.5c8.8.0 16-7.2 16-16V22c0-8.8-7.2-16-16-16H22z"/></g></g><g id="Rectangle_70" transform="translate(110.109) rotate(90)"><linearGradient id="SVGID_2_" gradientUnits="userSpaceOnUse" x1="103.5653" y1="89.1427" x2="104.2366" y2="89.9162" gradientTransform="matrix(0 -66.506 -66.507 0 5940.3726 6895.6235)"><stop offset="0" style="stop-color:#67ED9A"/><stop offset="1" style="stop-color:#4AC87A"/></linearGradient><path class="st2" d="M23 1.5h21.5c11.6.0 21 9.4 21 21V44c0 11.6-9.4 21-21 21H23C11.4 65 2 55.6 2 44V22.5c0-11.6 9.4-21 21-21z"/><g><path class="st1" d="M66.5 22v22.5c0 12.1-9.9 22-22 22H22c-12.1.0-22-9.9-22-22V22C0 9.9 9.9.0 22 0h22.5c12.1.0 22 9.9 22 22zM6 44.5c0 8.8 7.2 16 16 16h22.5c8.8.0 16-7.2 16-16V22c0-8.8-7.2-16-16-16H22C13.2 6 6 13.2 6 22V44.5z"/></g></g><g id="Rectangle_71" transform="translate(88.714 52.366) rotate(90)"><linearGradient id="SVGID_3_" gradientUnits="userSpaceOnUse" x1="50.3774" y1="67.1362" x2="49.7677" y2="66.2039" gradientTransform="matrix(0 -66.506 -66.507 0 4517.4551 3412.9705)"><stop offset="0" style="stop-color:#FFA800"/><stop offset="1" style="stop-color:#FFC24D"/></linearGradient><path class="st3" d="M22.8 2.3h21c11.3.0 20.5 9.2 20.5 20.5v21c0 11.3-9.2 20.5-20.5 20.5h-21c-11.3.0-20.5-9.2-20.5-20.5v-21C2.3 11.4 11.4 2.3 22.8 2.3z"/><g><path class="st1" d="M66.5 22v22.5c0 12.1-9.9 22-22 22H22c-12.1.0-22-9.9-22-22V22C0 9.9 9.9.0 22 0h22.5c12.1.0 22 9.9 22 22zM6 44.5c0 8.8 7.2 16 16 16h22.5c8.8.0 16-7.2 16-16V22c0-8.8-7.2-16-16-16H22C13.2 6 6 13.2 6 22V44.5z"/></g></g><g id="Rectangle_72" transform="translate(66.506 13.481) rotate(90)"><g><path class="st4" d="M23 1.5h21.5c11.6.0 21 9.4 21 21V44c0 11.6-9.4 21-21 21H23C11.4 65 2 55.6 2 44V22.5c0-11.6 9.4-21 21-21z"/></g><path class="st5" d="M22 3h22.5c10.5.0 19 8.5 19 19v22.5c0 10.5-8.5 19-19 19H22c-10.5.0-19-8.5-19-19V22C3 11.5 11.5 3 22 3z"/></g></svg></span><span class="text-uppercase font-weight-bold">DevBox-Santé</span>
	</a>
	<div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
		<ul class="navbar-nav mt-2 mt-lg-0">
			
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/dmp/" ><i class='icon iconNav icon-dmp'></i><span>DMP</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link active" href="/insi/" ><i class='icon iconNav icon-ins'></i><span class="active">INSi</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/ms-sante/" ><i class='icon iconNav icon-mssante'></i><span>MSS</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/cps/" ><i class='icon iconNav icon-cps-puce'></i><span>CPS</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/vitale/" ><i class='icon iconNav icon-sesam-puce'></i><span>Vitale</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/annuaire/" ><i class='icon iconNav icon-directory'></i><span>Annuaire</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/installer/" ><i class='icon icon-devbox'></i><span>Installer</span></a>
			</li>
			
			<li class="nav-item mr-4 mb-2 mb-lg-0">
				
				
				
				
				
				
				
				
				<a class="nav-link" href="/blog/" ><i class='fa fa-blog'></i><span>Blog</span></a>
			</li>
			
			
			
		</ul>
	</div>
	<div class="navbar-nav d-none d-lg-block">
</div>
</nav>

    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none">
          </div>
          <div class="d-none d-xl-block col-xl-2 td-toc d-print-none">
          </div>
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
Version imprimable multipages.
<a href="#" onclick="print();return false;">Cliquer ici pour imprimer</a>.
</p><p>
<a href="/insi/">Retour à la version par défaut</a>.
</p>
</div>



<h1 class="title">INSi</h1>
<div class="lead">Téléservice Identité National de Santé (INS) intégré aux LPS</div>




    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-f9d3c8e8f0fe2477219e7fb961aff160">Java API</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>2: <a href="#pg-6226766ba680a770ad4612d51e7ad330">REST Proxy</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>3: <a href="#pg-f3be3320f25bdc7df3195afeab9bdfd0">Configuration DevBox-santé INSi</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>4: <a href="#pg-158c7c95e6e497a951ef3db14cc40863">Howtos</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>4.1: <a href="#pg-5f0ce1be23dc2876d68369f145bce30e">Integrateurs checklist</a></li>


    
  
    
    
	
<li>4.2: <a href="#pg-e683af811ccc50a546ed6d81ebb8d2f2">Conformité CNDA</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>4.3: <a href="#pg-d298870dfc5976d147b75c9cb223ad52">Foire aux questions INSi</a></li>


    
  
    
    
	
<li>4.4: <a href="#pg-80e5e55089632da4faee2964e57f1da0">Gestion des certificats</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>4.5: <a href="#pg-cf9f436087bd6dae998d9bbec0c08356">Datamatrix</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  

    </ul>
    
  
    
    
	
<li>5: <a href="#pg-e661aca952fdd42de0e410979c74bd44">Versions</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>6: <a href="#pg-2e645bfcd34d722959966b4fd136d1a3"></a></li>


    
  

    </ul>


<div class="content">
      <p>Ce projet contient l&rsquo;API java proposé par la DevBox-santé pour l&rsquo;intégration du téléservice. Pour une description de l&rsquo;INS, consultez la page de l&rsquo;ANS : https://esante.gouv.fr/securite/identite-nationale-de-sante</p>
<p>Elle est basée sur le Guide d&rsquo;intégration du GIE SESAM-Vitale SEL-MP-043 : <a href="https://www.sesam-vitale.fr/documents/20182/75606/SEL-MP-043_01-00_INSi+sans+MR/92d6e408-012d-4dc5-9fd1-d3bdda78735a">https://www.sesam-vitale.fr/documents/20182/75606/SEL-MP-043_01-00_INSi+sans+MR/92d6e408-012d-4dc5-9fd1-d3bdda78735a</a></p>
<p>Cette API respecte quand c&rsquo;est possible le <a href="https://esante.gouv.fr/interoperabilite/mos-nos">Modèle d&rsquo;Objet de Santé proposé par l&rsquo;ANS</a></p>
<h3 id="glossaire">Glossaire</h3>
<ul>
<li><strong>ANS</strong> : Agence du Numérique en Santé</li>
<li><strong>CPS / CPx</strong> : Carte de Professionnel de Santé</li>
<li><strong>INS</strong> : Identité National de Santé</li>
<li><strong>INSi</strong> : Identité National de Santé integré</li>
<li><strong>MOS</strong> : Modèle d&rsquo;Objets de Santé</li>
</ul>

</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f9d3c8e8f0fe2477219e7fb961aff160">1 - Java API</h1>
    <div class="lead">Intégrer directement dans votre application spring-boot</div>
	<h2 id="insi-client">INSi Client</h2>
<p>Le module insi-impl, fournit l&rsquo;implémentation de la facade <code>INSiClient</code> qui intègre les composant devboxsante-cps-api et devboxsante-vitale-api et accède au téléservice INSi géré par SesamVitale.</p>
<p>Exemple de code dans une application Spring Boot :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">MonIntegrationINSi</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#5c35cc;font-weight:bold">@Autowired</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">INSiClient</span> <span style="color:#000">client</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">maMethode</span><span style="color:#ce5c00;font-weight:bold">()</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic">// ma recherche avec carte vitale
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">INSiContext</span> <span style="color:#000">context</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">INSiContext</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setIdentifiantFacturation</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;3333333&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">client</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">ins1RechercheAvecVitale</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">context</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic">// ma recherche sans carte vitale
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">INS2Requete</span> <span style="color:#000">requete</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">INS2Requete</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">requete</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setDateNaissance</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;01011981&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">requete</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setIdentifiantFacturation</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;3333333&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">requete</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setNomNaissance</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;ADRDEUX&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">requete</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setSexe</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Sexe</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">M</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">requete</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setPrenoms</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Collections</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">singletonList</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;LAURENT&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">client</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">ins2RechercheAvecTraitIdentite</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">requete</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic">// ma vérification 
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>        <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">INS3Requete</span> <span style="color:#000">requete</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">INS3Requete</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">requete</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setIns</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">INSWithCle</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">newInstance</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;1810163220751&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;40&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">INSAutorite</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">INS_NIR</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">TraitsIdentiteINS</span> <span style="color:#000">traits</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">TraitsIdentiteINS</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">traits</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setNomFamille</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;ADRDEUX&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">traits</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setPrenom</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;LAURENT&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">traits</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setListePrenoms</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;LAURENT&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">traits</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setSexeAdministratif</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">Sexe</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">M</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">traits</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setDateNaissance</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;1981-01-01&#34;</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">requete</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">setTraitsIdentite</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">traits</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">client</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">ins3Verification</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">requete</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>   <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div>
</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-6226766ba680a770ad4612d51e7ad330">2 - REST Proxy</h1>
    <div class="lead">Une interface REST pour le Téléservice INSi</div>
	<p>Le module insi-proxy, permet de fournit une facade REST à la facade <code>INSiClient</code> java. 
Toutes les opérations offertes par la la façade java sont disponibles via des appels http sur le poste local.</p>
<p>L&rsquo;accès a l&rsquo;insi-proxy est donc indépendant de la technologie utilisée par l&rsquo;intégrateur. Exemple d&rsquo;intégration possible :</p>
<pre tabindex="0"><code class="language-plantuml" data-lang="plantuml">!include https://bitbucket.org/devbox-sante/plantuml/raw/3/themes/theme-devbox-sante.puml


node &#34;Poste Client (Windows/Mac/Linux)&#34; {
    [FrontEnd intégrateur] as frontend 

    package &#34;DevBox-Santé&#34; DEVBOX_COLOR  {
        component &#34;DevBoxSanté INSi&#34; as insFacade INS_COLOR {
            [DevBoxSanté CPS] as cps CPS_COLOR
            [DevBoxSanté Vitale] as vitale VITALE_COLOR
        }

    }
    [Cryptolib CPS (ANS / ASIP)] as cryptolibCPS 
    [APILectureVitale (SesamVitale)] as apiLectureVitale 
}

cloud &#34;Téléservice **INSi** (SesamVitale)&#34; as insi

[BackEnd intégrateur] as backend 



frontend -u-&gt; backend : REST
frontend -down-&gt; insFacade : HTTP GET /insi/rechercheAvecVitale
cps &lt;-down-&gt; cryptolibCPS : appel natif
vitale &lt;-down-&gt; apiLectureVitale : appel natif
insFacade &lt;-d-&gt; insi : SOAP
</code></pre><h3 id="installation-du-proxy">Installation du Proxy</h3>
<p>Procédure : </p>
<ul>
<li>Doit être installé environnement Java 11 ou supérieur</li>
<li>Télécharger le proxy-rest mis à disposition</li>
</ul>
<h4 id="lancement">Lancement</h4>
<p>Le livrable s&rsquo;agit d&rsquo;un jar exécutable, qui se lance de la manière suivante</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>java -jar insi-proxy-rest-*.jar
</span></span></code></pre></div><p>Le composant est accessible depuis le poste local en HTTP sur l&rsquo;adresse ip 127.0.0.1 avec un numéro de port configurer par défaut :</p>
<ul>
<li>mode de sécurité cps : 8484</li>
<li>mode de sécurité p12 : 8485</li>
<li>mode de sécurité p12s : 8486</li>
</ul>
<p>Afin de valider le fonctionnement, ouvrir un navigateur à l&rsquo;adresse suivante : http://127.0.0.1:PORT</p>
<p><img src="insi-browser.png" alt="insi-proxy browser"></p>
<h3 id="intégration">Intégration</h3>
<p>L&rsquo;ensemble des requêtes sont documentées via l&rsquo;interface swagger et sont accessibles sur l&rsquo;url suivante : http://127.0.0.1:PORT/swagger-ui.png</p>
<p><img src="insi-swagger.png" alt="insi-proxy swagger"></p>
<h3 id="configuration">Configuration</h3>
<p>Les paramètres de configuration du composant DevBox-santé INSi se réalise dans le fichier <code>application.yml</code>. 
Outre les configurations liées à la sécurité et le port HTTP utilisé, la configuration est identique à celle du <a href="../configuration">mode embedded</a>.</p>
<h3 id="utilisation-de-linstaller-devbox-santé">Utilisation de l&rsquo;installer DevBox-Santé</h3>
<p>La DevBox Santé propose des solutions de &ldquo;packaging&rdquo; des différents modules, pour Windows, MacOS et Linux.</p>
<p>Pour tester ces solutions <a href="mailto:devbox-sante@devcoop.fr">Contactez-nous</a></p>

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f3be3320f25bdc7df3195afeab9bdfd0">3 - Configuration DevBox-santé INSi</h1>
    <div class="lead">Configuration de la DevBox-santé INSi</div>
	<h2 id="configuration--applicationyml">Configuration  <code>application.yml</code></h2>
<p>Pour configurer la DevBox-Santé INSi, il suffit de modifier les paramètres du fichier <code>application.yml</code> :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">devbox-sante</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">insi</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">url</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">https://qualiflps.services-ps.ameli.fr/lps</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">lpsInfo</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">nom</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">À_CHANGER</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">numeroAutorisation</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">À_CHANGER</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">version</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">À_CHANGER</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#8f5902;font-style:italic">#Cet élément XML contient l’identifiant d’installation du logiciel. Cet identifiant est généré lors de l’installation du SI-PS. Cet identifiant prend la forme d’un UUID sous sa forme canonique. Il doit être pérenne pour une installation d’un logiciel. Ce numéro est une aide au support, car il permet de regrouper les requêtes d’un même logiciel. Il permet également de compter le nombre de logiciels distincts accédant au TLSi.</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">instance</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">À_CHANGER (UUID)</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#8f5902;font-style:italic"># Pour les établissements, numéro FINESS géographique. Pour les autres, identifiant AM de facturation. C&#39;est le numéro par défaut qui peut être surchargé dans chaque requête.</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">identifiantFacturation</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">À_CHANGER</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">ci-tls-amo</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">ssl</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">truststore.path</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">truststoreIgcSante-EL-ORG.jks</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>Pour charger le fichier de configuration :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>java -Dspring.config.location<span style="color:#ce5c00;font-weight:bold">=</span>./application.yml -jar insi-proxy.jar
</span></span></code></pre></div><h3 id="mode-de-sécurité">Mode de sécurité</h3>
<p>Il existe trois modes d&rsquo;authentification pour accéder au téléservice INSi dans le composant DevBox-Santé :</p>
<ul>
<li>CPS : génération des signatures des messages SOAP en utilisant la cryptolib CPS au travers du composant DevBox-Santé CPS.</li>
<li>P12 : initialisation des connexion TLS avec le Téléservice INSi avec un certificat d&rsquo;établissement p12</li>
<li>P12Multiple : permet la connexion TLS avec plusieurs certificats d&rsquo;établissements p12</li>
</ul>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Attention</h4>

    les urls des téléservices sont différents en fonction du mode d&rsquo;authentification

</div>

<h4 id="cps">CPS</h4>
<ul>
<li>Mode de sécurité <code>CPS</code>, dans le fichier de configuration <code>application.yml</code> :</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">devbox-sante</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">insi</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">security.mode</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">cps</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#8f5902;font-style:italic"># url: https://qualiflps.services-ps.ameli.fr/lps</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">url</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">https://services-ps.ameli.fr/lps</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>Utiliser ce mode de sécurité pour l&rsquo;utilisation du composant avec l&rsquo;authentification par carte CPS.</p>
<h4 id="p12">P12</h4>
<p>Ce mode de sécurité <code>P12</code>, permet le chargement d&rsquo;un fichier p12 défini le fichier de configuration <code>application.yml</code> :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">devbox-sante</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">insi</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">security.mode</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">p12</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#8f5902;font-style:italic"># url: https://qualiflps-services-ps-tlsm.ameli.fr/lps</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">url</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">https://services-ps-tlsm.ameli.fr/lps</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">tls.p12</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">path</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                </span><span style="color:#000">À_CHANGER_NOM_FICHIER.p12</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            </span><span style="color:#204a87;font-weight:bold">password</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">                </span><span style="color:#000">À_CHANGER_MOT_DE_PASSE_FICHIER.p12</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>Utiliser ce mode de sécurité pour l&rsquo;utilisation du composant avec l&rsquo;authentification par certificat serveur.</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Remarque</h4>

    Il existe deux types de certificat les <code>INSI-AUTO</code> et les <code>INSI-MANU</code>. Il s&rsquo;agit d&rsquo;une règle de nommage défini dans les spécifications. Il est demandé par le CNDA d&rsquo;utiliser des certificats <code>INSI-MANU</code> pour tout accès au téléservice INSi par des acteurs humains, et <code>INSI-AUTO</code> pour des accès par des acteurs de traitements automatiques, types batchs.

</div>

<h4 id="p12-multiple">P12 Multiple</h4>
<p>Ce mode de sécurité <code>p12s</code> permet de gérer en une seule installation l&rsquo;ensemble des connexions des différents établissements d&rsquo;un SIH.</p>
<p>Un <code>AmoP12Provider</code> par défaut va charger un ensemble de fichier P12 à partir de la configuration, comme par exemple :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">devbox-sante</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">insi</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">security.mode</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">p12s</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#8f5902;font-style:italic"># url: https://qualiflps-services-ps-tlsm.ameli.fr/lpss</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">url</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">https://services-ps-tlsm.ameli.fr/lps</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">            
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">tls</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">           </span><span style="color:#204a87;font-weight:bold">p12</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">             </span>- <span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">               </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">FINESS_ETAB_1-manu</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">               </span><span style="color:#204a87;font-weight:bold">path</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">FINESS_ETAB_1_CERTIFICAT_MANU.p12</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">               </span><span style="color:#204a87;font-weight:bold">password</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">À_CHANGER_MOT_DE_PASSE_FICHIER</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">             </span>- <span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">               </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">FINESS_ETAB_1-auto</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">               </span><span style="color:#204a87;font-weight:bold">path</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">FINESS_ETAB_1E_CERTIFICAT_AUTO.p12</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">               </span><span style="color:#204a87;font-weight:bold">password</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">À_CHANGER_MOT_DE_PASSE_FICHIER</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">             </span>- <span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">               </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">FINESS_ETAB_2-manu</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">               </span><span style="color:#204a87;font-weight:bold">path</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">FINESS_ETAB_1_CERTIFICAT_AUTO.p12</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">               </span><span style="color:#204a87;font-weight:bold">password</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">À_CHANGER_MOT_DE_PASSE_FICHIER</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>Il est toutefois possible de définir un autre <code>AmoP12Provider</code>, il suffit de configurer un nouvau Bean Spring avec une autre implémentation. Comme par exemple, une implémentation qui va charger le certificat en base de données :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span> <span style="color:#5c35cc;font-weight:bold">@Component</span>
</span></span><span style="display:flex;"><span> <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">class</span> <span style="color:#000">FromDatabaseP12Provider</span> <span style="color:#204a87;font-weight:bold">implements</span> <span style="color:#000">AmoP12Provider</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#000">AmoP12</span> <span style="color:#000">getP12</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">String</span> <span style="color:#000">name</span><span style="color:#ce5c00;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#8f5902;font-style:italic">// chargement en base de donnée des informations du certificat ayant pour nom name.
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span> <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>Pour charger dynamiquement un certificat il suffit de rajouter le nom du certificat (<code>amoP12.name</code>) dans le header de la requête HTTP :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X GET <span style="color:#4e9a06">&#34;http://localhost:8584/insi/rechercheSansVitale&#34;</span> -H <span style="color:#4e9a06">&#34;accept: application/json&#34;</span> -H <span style="color:#4e9a06">&#34;amoP12.name: ÀPréciser&#34;</span>
</span></span></code></pre></div><h4 id="p12-in-header">P12 in header</h4>
<p>Ce mode de sécurité, <code>p12InHeader</code> permet d&rsquo;envoyer dans le header le certificat p12 et le password à la devbox-santé INSI. Ainsi l&rsquo;appelant maîtrise la gestion de ces certificats.</p>
<blockquote>
<p>Attention : Il est conseillé de mettre en place ce mode de sécurité seulement dans un environnement sécurisé</p>
</blockquote>
<p>Pour le configurer :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">devbox-sante</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">insi</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">        </span><span style="color:#204a87;font-weight:bold">security.mode</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">p12InHeader</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>Il faut donc rajouter deux header dans chaque requête HTTP :</p>
<ul>
<li><code>amoP12.p12</code> contenant le p12 encodé en base 64</li>
<li><code>amoP12.password</code> contenant le mot de passe du certificat p12</li>
</ul>
<h3 id="jeu-de-test-cnda">Jeu de test CNDA</h3>
<p>Afin de pouvoir exécuter les tests d&rsquo;injection demandées par le CNDA, il faut lancer le proxy avec l&rsquo;un des profils spring activés suivant :</p>
<ul>
<li><code>CNDA_WEB</code> : rajoute un nouvel endpoint CNDA permettant l&rsquo;injection des fichiers de test XML du CNDA.
<img src="CNDA_injection_swagger.png" alt="CNDA_injection_swagger.png"></li>
<li><code>CNDA</code> : rajoute un menu dans le <code>TrayIcon</code> du système d&rsquo;exploitation permettant l&rsquo;injection des fichiers de test XML du CNDA.</li>
</ul>
<p>Exemple :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>java -Dspring.profiles.active<span style="color:#ce5c00;font-weight:bold">=</span>CNDA_WEB -jar insi-proxy.jar
</span></span></code></pre></div><p>Vous pouvez également injecter la resource de votre choix à partir du moment où elle correspond au format de la réponse SOAP souhaitée : 
<img src="CNDA_injection_swagger_file.png" alt="CNDA_injection_swagger_file.png"></p>
<p>Exemple de fichier soap.xml demandé : <a href="Reponse_numcasINSI_11_DateNaissance00_Annee.xml">Reponse_numcasINSI_11_DateNaissance00_Annee.xml</a> </p>
<h3 id="configuration-de-la-sécurité">Configuration de la sécurité</h3>
<p>Le proxy insi est une application web Spring Boot, toutes les possibilités de spring-security sont donc disponibles.</p>
<p>Exemple de configuration par défaut empêchant toutes les IPs externes :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">devbox-sante</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#204a87;font-weight:bold">security.forceLocalAddress</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">true</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h3 id="surcharge-les-lpsinfo-dans-le-proxy">Surcharge les LpsInfo dans le proxy</h3>
<p>La configuration du proxy contient les informations par défaut de configuration du LPS (Logiciel de Professionnel de Santé) cf. paragraphe précédent.
Il est toutefois possible de surcharger ces valeurs (comme le numeroAutorisation qui peut être confidentiel) en les passant dans les header HTTP des requêtes.</p>
<p>Voici la liste des informations LPS pouvant etre surchargées :</p>
<table>
<thead>
<tr>
<th style="text-align:left">Informations LPS</th>
<th style="text-align:center">Clef dans le header</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">numero d&rsquo;autorisation</td>
<td style="text-align:center">insi.lpsInfo.numeroAutorisation</td>
</tr>
<tr>
<td style="text-align:left">nom du lps</td>
<td style="text-align:center">insi.lpsInfo.nom</td>
</tr>
<tr>
<td style="text-align:left">version du LPS</td>
<td style="text-align:center">insi.lpsInfo.version</td>
</tr>
</tbody>
</table>
<p>Par exemple :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X GET <span style="color:#4e9a06">&#34;http://localhost:8485/insi/rechercheAvecVitale&#34;</span> -H <span style="color:#4e9a06">&#34;accept: application/json&#34;</span> -H <span style="color:#4e9a06">&#34;insi.lpsInfo.numeroAutorisation: ÀPréciser&#34;</span>
</span></span></code></pre></div><p>Ainsi le client peut dynamiquement passer les informations du LPS.</p>
<h3 id="packaging-et-déploiement">Packaging et Déploiement</h3>
<p>La DevBox Santé <a href="/docs/installer">propose des solutions de &ldquo;packaging&rdquo;</a> des différents modules, pour Windows, MacOS et Linux.</p>

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-158c7c95e6e497a951ef3db14cc40863">4 - Howtos</h1>
    
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-5f0ce1be23dc2876d68369f145bce30e">4.1 - Integrateurs checklist</h1>
    <div class="lead">Liste des actions à réaliser pour mener à bien une intégration du composant DevBox-Santé INSi et faciliter son homologation.</div>
	<h1 id="documentation-à-prendre-en-compte">Documentation à prendre en compte</h1>
<p>Résumé des différents documents : <a href="https://www.sesam-vitale.fr/documents/20182/75606/Documentation_INS.pdf">https://www.sesam-vitale.fr/documents/20182/75606/Documentation_INS.pdf</a></p>
<h2 id="insi-version-0400">INSi version 04.00</h2>
<p>Dans le <strong>Package INSi 04.00.00</strong> :</p>
<ul>
<li>Fiche d&rsquo;information du contenu du package : <code>PDT-INF-736_Package INSi 04.00.00.pdf</code></li>
<li><strong>Guide d&rsquo;intégration de SesamVitale <code>SEL-MP-043_04-00-00_INSi sans MR.pdf</code></strong></li>
</ul>
<p>Documentation de l&rsquo;ANS :</p>
<p>L&rsquo;ANS fournit un référentiel à tenir compte également dans vos lectures d&rsquo;intégration car elle définit un certain nombre d&rsquo;exigences à respecter</p>
<ul>
<li>Référentiel INS : <a href="https://esante.gouv.fr/sites/default/files/media_entity/documents/ans_referentiel_identifiant_national_de_sante_v2.0.pdf">https://esante.gouv.fr/sites/default/files/media_entity/documents/ans_referentiel_identifiant_national_de_sante_v2.0.pdf</a></li>
<li>Guide d&rsquo;implémentation : <a href="https://esante.gouv.fr/sites/default/files/media_entity/documents/INS_Guide%20implementation_V2_0.pdf">https://esante.gouv.fr/sites/default/files/media_entity/documents/INS_Guide%20implementation_V2_0.pdf</a></li>
<li>RNIV : <a href="https://esante.gouv.fr/securite/identite-nationale-de-sante">https://esante.gouv.fr/securite/identite-nationale-de-sante</a> (ensemble des liens de la page)</li>
</ul>
<h1 id="démarches-administratives">Démarches Administratives</h1>
<h2 id="cnda">CNDA</h2>
<p>Vous pouvez vous référencer à la documentation du CNDA sur le sujet : <a href="https://cnda.ameli.fr/editeurs/referencer-un-logiciel/">https://cnda.ameli.fr/editeurs/referencer-un-logiciel/</a></p>
<p>En résumé :</p>
<ul>
<li>Obtenir un NIE (Numéro Identifiant Éditeur) : Téléchargez et retournez le <a href="https://cnda.ameli.fr/?dl_name=Formulaire_NIE.pdf">formulaire_NIE</a> disponible sur <a href="https://cnda.ameli.fr/editeurs/telecharger-les-protocoles/">cette page</a></li>
<li>Signer les <a href="https://cnda.ameli.fr/?dl_name=Convention_Generale_teleservices_V3.0.pdf">conditions générales</a>* depuis le même espace .</li>
<li>Signer les <a href="https://cnda.ameli.fr/?dl_name=Conditions_INSi-V4.0.pdf">conditions particulières INSi</a>* depuis le même espace. Les annexes nécessitent certaines informations liées à la DevBox-Santé. Nous contacter pour les informations à jour.</li>
<li>Obtention des cartes vitales de test . Suite à la signature des conditions particulières et l’envoi d’un chéque de caution, le CNDA vous envoie les cartes vitales de tests comme précisé dans l&rsquo;article 5 des conditions particulières.</li>
</ul>
<p><em>* si les liens ne fonctionnent plus, c’est que les versions des différents protocoles ont changé. Il faut se référer au site du CNDA.</em></p>
<h2 id="ans---commande-des-cartes-cpset-certificats-serveurs-de-test">ANS - Commande des Cartes CPS et Certificats serveurs de Test</h2>
<p>Un document de l&rsquo;ANS donne toutes les indications suffisantes pour commander cartes et certificats serveurs nécessaires pour les développements :</p>
<p><a href="https://esante.gouv.fr/sites/default/files/media_entity/documents/ans_fiche_commande_cpx_et_certificats_de_test_vf.pdf">https://esante.gouv.fr/sites/default/files/media_entity/documents/ans_fiche_commande_cpx_et_certificats_de_test_vf.pdf</a></p>
<h1 id="passage-de-lhomologation">Passage de l&rsquo;homologation</h1>
<p>L&rsquo;article 6 des conditions particulières décrit la «Procédure d&rsquo;autorisation».</p>
<p>En résumé :</p>
<ul>
<li>Vous effectuez les tests dans votre environnement le jeu de test et envoyer le résultat au CNDA. Plus d&rsquo;info sur l&rsquo;exécution du jeu de tests : <a href="/insi/howtos/testcnda/">/insi/howtos/testcnda/</a></li>
<li>Après vérification du CNDA, prise de rendez-vous pour un rejeu en condition réelle.</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e683af811ccc50a546ed6d81ebb8d2f2">4.2 - Conformité CNDA</h1>
    <div class="lead">Quelques exemples de requêtes JSON des tests de conformité du CNDA</div>
	<p>Les tests sont décrits dans le document <code>SEL-GCONFORM_INSi_Vxx.xx.pdf</code>.</p>


<div class="pageinfo pageinfo-primary">
<p><strong>Attention l&rsquo;environnement de qualification pour les tests restitue bien les cas passants mais pas correctement les non passants.</strong></p>
<p>Pour injecter les réponses souhaitées du document de vérification il faut configurer la DevBox-santé INSI avec  <a href="/insi/configuration#jeu-de-test-cnda">le profil de test cnda</a></p>

</div>

<blockquote>
<p><strong>Précisions sur l’environnement de tests éditeurs :</strong></p>
<p>Des erreurs « insi_101 » et « insi_102 » en sortie des opérations de recherche vont être restituées lors du déroulement des tests en environnement éditeurs.
L&rsquo;environnement de tests éditeurs ne gère qu&rsquo;une base de tests RFI (régime général et régimes hébergés) mais pas de base SNGI (autres régimes : pour plus de détail voir le Guide d&rsquo;intégration).
Le service effectue une première recherche vers le RFI :</p>
<ul>
<li>si le patient est trouvé, l&rsquo;INS et les informations associées sont restitués : les cas passants que vous observez</li>
<li>si le patient n&rsquo;est pas trouvé, le service effectue une recherche au SNGI avec les données de la requête. Comme en environnement de tests éditeurs il n&rsquo;y a pas de branche SNGI, la recherche est en échec et l&rsquo;erreur « insi_101 » ou « insi_102 » (selon l’opération) est restituée (il s&rsquo;agit d&rsquo;une erreur technique : branche SNGI indisponible), un code CR01 ne peut être restitué.
Dans la configuration actuelle de l&rsquo;environnement de tests, il n&rsquo;est pas possible d&rsquo;obtenir un CR01, c&rsquo;est pour cela (et pour tester les cinématiques attendues dans le Guide d&rsquo;intégration) que dans le package de tests sont fournis des fichiers xml à injecter dans le LPS, pour simuler les réponses du service que l&rsquo;on ne peut obtenir dans notre environnement. En environnement de production, lorsqu’un INS ne sera pas trouvé c’est bien un CR01 qui sera restitué.</li>
</ul>
</blockquote>
<h1 id="exemples-json">Exemples json</h1>
<p>Voici quelques exemples json repris des tests :</p>
<h2 id="ws_ins1">WS_INS1</h2>
<ul>
<li>Cas du POST par lecture des données vitales en amont :
<ul>
<li>Carte vitale INSi 01 DE VINCI Ruth : <a href="./test1_01.json">test1_01.json</a></li>
</ul>
</li>
</ul>
<h2 id="ws_ins2">WS_INS2</h2>
<ul>
<li><a href="./test2_03_cas1.json">test2_03_cas1.json</a></li>
</ul>
<h2 id="ws_ins3">WS_INS3</h2>
<ul>
<li><a href="./test3_01.json">test3_01.json</a></li>
</ul>
<h2 id="ws_ins4">WS_INS4 </h2>
<ul>
<li><a href="./insi_a_verifier_lot1_1.0.1.json">insi_a_verifier_lot1_1.0.1.json</a></li>
<li><a href="./insi_a_verifier_lot2_1.0.1.json">insi_a_verifier_lot2_1.0.1.json</a></li>
<li><a href="./insi_a_verifier_lot3_1.0.1.json">insi_a_verifier_lot3_1.0.1.json</a></li>
</ul>

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d298870dfc5976d147b75c9cb223ad52">4.3 - Foire aux questions INSi</h1>
    <div class="lead">Compilation des questions au sujet de l&rsquo;intégration INSi</div>
	<h2 id="authentification-par-certificat-logiciel">Authentification par certificat logiciel</h2>
<p>Reprises des questions réponses du webinaire <strong>&ldquo;Développer l’authentification TLS mutuelle par certificat logiciel pour INSi&rdquo; - mardi 16 novembre 2021 - 14h30</strong> :</p>
<ul>
<li><strong>Pourriez-vous préciser les cas d&rsquo;usage des certificats INSI-MANU et INSI-AUTO ?</strong></li>
</ul>
<blockquote>
<p>Le certificat INSi-MANU permet aux personnes physiques ne disposant pas forcément de CPx nominatives et utilisant des applications de leur structure d’accéder au téléservice INS en mode manuel. Le certificat INSi-AUTO permet aux processus automatiques mis en œuvre par une structure d’accéder au téléservice INSi en mode automatique.</p>
</blockquote>
<ul>
<li><strong>Dans le cadre d&rsquo;une application en mode SAAS partagée par plusieurs établissements, peut-on utiliser un même certificat en tant que logiciel ? Ou doit-on avoir un certificat pour chaque organisation ?</strong> :</li>
</ul>
<blockquote>
<p>Vous devez avoir un certificat pour chaque établissement (si le FINESS géographique est différent entre les établissements).</p>
</blockquote>
<ul>
<li><strong>Dans le cadre d&rsquo;un Organisme Gestionnaire, doit-on utiliser le FINESS de l&rsquo;établissement ou celui du siège ?</strong></li>
</ul>
<blockquote>
<p>Pour un Organisme Gestionnaire ou toute autre structure gérant plusieurs établissements, c&rsquo;est le FINESS géographique de l&rsquo;établissement réalisant l&rsquo;appel au téléservice qui doit être véhiculé dans le flux INSi.</p>
</blockquote>
<ul>
<li><strong>Peut-on télécharger le certificat P12 depuis le site du CNDA avec une carte CPx ?</strong></li>
</ul>
<blockquote>
<p>Le certificat P12 est à télécharger sur le site web de l&rsquo;ANS. Vous trouverez plus d&rsquo;informations sur la procédure de commande des certificats dans la PDT-INF-736 du package V4 de INSi, disponible sur l&rsquo;Espace Industriels (rubrique Téléservice INSi).</p>
</blockquote>
<ul>
<li><strong>A qui adresser les questions techniques lors de blocages dans l&rsquo;utilisation des certificats ?</strong></li>
</ul>
<blockquote>
<p>Contactez directement le centre de services du GIE SESAM-Vitale (<a href="mailto:centre-deservice@sesam-vitale.fr">centre-deservice@sesam-vitale.fr</a> ou 02.43.57.42.88).</p>
</blockquote>
<p>_ <strong>Quelle est la procédure de délégation de commande de certificat auprès de l&rsquo;éditeur ?</strong></p>
<blockquote>
<p>La procédure de délégation de commande de certificat est décrite dans le document suivant : <a href="https://esante.gouv.fr/sites/default/files/media_entity/documents/ans_procedure_commande_cl_tls_insi_structures_liberales_vf.pdf">https://esante.gouv.fr/sites/default/files/media_entity/documents/ans_procedure_commande_cl_tls_insi_structures_liberales_vf.pdf</a>  Etape 2</p>
<p>Le formulaire de déclaration des administrateurs techniques autorisés à commander des certificats logiciels - F413 est disponible à cette adresse : <a href="https://esante.gouv.fr/documents/413">https://esante.gouv.fr/documents/413</a></p>
</blockquote>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-80e5e55089632da4faee2964e57f1da0">4.4 - Gestion des certificats</h1>
    <div class="lead">Gestion des certificats de l&rsquo;IGC santé pour l&rsquo;authentification par certificat pour l&rsquo;INSi</div>
	<p>Obtenir des certificats pour l&rsquo;INSi consiste à réaliser la même <a href="/dmp/howtos/gestioncertificat/">opération que pour le DMP</a>.
et dans les mêmes conditions. Néanmoins, comme dit <code>PDT-INF-736_Package INSi 04.00.00.pdf</code>, une notice explicative est donnée</p>
<p>Pour les certificats de test :</p>
<ul>
<li><a href="https://esante.gouv.fr/sites/default/files/media_entity/documents/ans_fiche_commande_cpx_et_certificats_de_test_vf.pdf">https://esante.gouv.fr/sites/default/files/media_entity/documents/ans_fiche_commande_cpx_et_certificats_de_test_vf.pdf</a></li>
</ul>
<p>Pour les certificats de production :</p>
<ul>
<li>la procédure de commande des certificats de structures salariées : <a href="https://esante.gouv.fr/sites/default/files/media_entity/documents/ANS_Procedure_commande_CL_TLS_INSi_structures_salari%C3%A9es_VF.pdf">https://esante.gouv.fr/sites/default/files/media_entity/documents/ANS_Procedure_commande_CL_TLS_INSi_structures_salari%C3%A9es_VF.pdf</a></li>
<li>la procédure de commande des certificats de structures libérales : <a href="https://esante.gouv.fr/sites/default/files/media_entity/documents/ANS_Procedure_commande_CL_TLS_INSi_structures_liberales_VF.pdf">https://esante.gouv.fr/sites/default/files/media_entity/documents/ANS_Procedure_commande_CL_TLS_INSi_structures_liberales_VF.pdf</a></li>
<li>la procédure de commande des certificats de laboratoires de biologie médicale : <a href="https://esante.gouv.fr/sites/default/files/media_entity/documents/ANS_Procedure_commande_CL_TLS_INSi_LBM_VF_0.pdf">https://esante.gouv.fr/sites/default/files/media_entity/documents/ANS_Procedure_commande_CL_TLS_INSi_LBM_VF_0.pdf</a></li>
</ul>

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-cf9f436087bd6dae998d9bbec0c08356">4.5 - Datamatrix</h1>
    <div class="lead">Générer un datamatrix INS avec la DevBox-Santé INSi et insérer un cartouche dans un PDF</div>
	<p>Il est dorénavant possible (depuis la version 2.6) de <a href="https://esante.gouv.fr/sites/default/files/media_entity/documents/ans---datamatrix-ins-v2.pdf">générer un datamatrix conforme à la spécification de l&rsquo;ANS</a>.</p>
<h2 id="interface">Interface</h2>
<p>Une interface Java a été mis à disposition :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">package</span> <span style="color:#000">fr.devboxsante.insi.datamatrix</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">fr.devboxsante.insi.model.INS</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.io.InputStream</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">java.io.OutputStream</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"> * Génère un Datamatrix conforme à la spécification &#34;INS - Format Datamatrix&#34; de
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"> * l&#39;ANS
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"> *
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"> */</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">interface</span> <span style="color:#000">InsDatamatrixGenerator</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * Génére une image du datamatrix correspondant à l&#39;INS passé en paramètre au
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * format défini dans info.format (jpeg par défaut) et à la taille défini dans info.sizeInPx
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @param ins
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @param info
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @return l&#39;image
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">byte</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">generateDatamatrix</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">INS</span> <span style="color:#000">ins</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">InsDatamatrixInfo</span> <span style="color:#000">info</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#8f5902;font-style:italic">/**
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * Insert le cartouche correspondant à l&#39;INS passé en paramètre comme demandé
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * dans la spècification
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @param ins l&#39;Identité National de Santé
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @param info les infos d&#39;insertion dans le PDF
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @param input le pdf en entrée
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     * @param output le pdf en sortie.
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">     */</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">public</span> <span style="color:#204a87;font-weight:bold">void</span> <span style="color:#000">insertInsCartoucheInPdf</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">INS</span> <span style="color:#000">ins</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">InsCartoucheInfo</span> <span style="color:#000">info</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">InputStream</span> <span style="color:#000">input</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">OutputStream</span> <span style="color:#000">output</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><p>Son pendant en REST :</p>
<p><img src="datamatrix_swagger.png" alt="datamatrix_swagger"></p>
<h2 id="générer-le-datamatrix">Générer le datamatrix</h2>
<p>Pour celà, il suffit depuis un environnement java :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">InsDatamatrixGenerator</span> <span style="color:#000">insDatamatrixGenerator</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">InsDatamatrixGeneratorImpl</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">INS</span> <span style="color:#000">ins</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">...</span> <span style="color:#ce5c00;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">byte</span><span style="color:#ce5c00;font-weight:bold">[]</span> <span style="color:#000">datamatrix</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">insDatamatrixGenerator</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">generateDatamatrix</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ins</span><span style="color:#ce5c00;font-weight:bold">,</span> <span style="color:#000">InsDatamatrixInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">builder</span><span style="color:#ce5c00;font-weight:bold">().</span><span style="color:#c4a000">format</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;jpg&#34;</span><span style="color:#ce5c00;font-weight:bold">).</span><span style="color:#c4a000">sizeInPx</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">200</span><span style="color:#ce5c00;font-weight:bold">).</span><span style="color:#c4a000">build</span><span style="color:#ce5c00;font-weight:bold">());</span>
</span></span><span style="display:flex;"><span><span style="color:#000">BufferedOutputStream</span> <span style="color:#000">out</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">BufferedOutputStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">FileOutputStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;datamatrix200.jpg&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span><span style="display:flex;"><span><span style="color:#000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">write</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">datamatrix</span><span style="color:#ce5c00;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span><span style="color:#000">out</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">close</span><span style="color:#ce5c00;font-weight:bold">();</span>
</span></span></code></pre></div><p>Son pendant via l&rsquo;API REST :</p>
<pre tabindex="0"><code class="language-curl" data-lang="curl">curl -X POST &#34;http://127.0.0.1:8484/insi/v2/datamatrix/jpg?sizeInPx=200&#34; -H &#34;accept: */*&#34; -H &#34;Content-Type: application/json&#34; -d &#34;{ \&#34;matriculeINS\&#34;: { \&#34;valeur\&#34;: \&#34;1010663220754\&#34;, \&#34;cle\&#34;: \&#34;60\&#34;, \&#34;identifiantSysteme\&#34;: \&#34;INS_NIR\&#34; }, \&#34;traitsIdentite\&#34;: { \&#34;nomFamille\&#34;: \&#34;D&#39;ARTAGNAN DE L&#39;HERAULT\&#34;, \&#34;prenomUtilise\&#34;: null, \&#34;prenomActeNaissance\&#34;: \&#34;PIERRE-ALAIN GUNTHER\&#34;, \&#34;sexeAdministratif\&#34;: \&#34;M\&#34;, \&#34;dateNaissance\&#34;: \&#34;2001-06-17\&#34;, \&#34;lieuNaissance\&#34;: \&#34;63220\&#34; } }&#34;
</code></pre><p>Vous permet d&rsquo;obtenir le datamatrix INS :      <img src="datamatrix.png" alt="datamatrix"></p>
<h2 id="insérer-le-cartouche-ins-dans-le-pdf">Insérer le cartouche INS dans le PDF</h2>
<p>En plus de générer le datamatrix, il est possible d&rsquo;insérer le cartouche spécifié par l&rsquo;ANS dans le fichier PDF.</p>
<p>Ainsi le code suivant :</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">final</span> <span style="color:#000">INS</span> <span style="color:#000">ins</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#ce5c00;font-weight:bold">...;</span>
</span></span><span style="display:flex;"><span><span style="color:#000">insDatamatrixGenerator</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">insertInsCartoucheInPdf</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">ins</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000">InsCartoucheInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">builder</span><span style="color:#ce5c00;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">pageNumber</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">0</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">startX</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">20</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">startY</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">85</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">height</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">80</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">width</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">160</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">unite</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#000">InsCartoucheInfo</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">Unite</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">MM</span><span style="color:#ce5c00;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>                <span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">build</span><span style="color:#ce5c00;font-weight:bold">(),</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">FileInputStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;input.pdf&#34;</span><span style="color:#ce5c00;font-weight:bold">),</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">new</span> <span style="color:#000">FileOutputStream</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#4e9a06">&#34;output.pdf&#34;</span><span style="color:#ce5c00;font-weight:bold">));</span>
</span></span></code></pre></div><p>Son pendant en curl :</p>
<pre tabindex="0"><code class="language-curl" data-lang="curl">curl -X POST &#34;http://127.0.0.1:8484/insi/v2/datamatrix/pdf/insertCartouche&#34; -H &#34;accept: */*&#34; -H &#34;Content-Type: multipart/form-data&#34; -F &#34;cartoucheContexte={ &#34;info&#34;: { &#34;height&#34;: 60, &#34;pageNumber&#34;: 0, &#34;startX&#34;: 20, &#34;startY&#34;: 70, &#34;unite&#34;: &#34;MM&#34;, &#34;width&#34;: 170 }, &#34;ins&#34;: { &#34;matriculeINS&#34;: { &#34;valeur&#34;: &#34;2770763220829&#34;, &#34;cle&#34;: &#34;10&#34;, &#34;identifiantSysteme&#34;: &#34;1.2.250.1.213.1.4.8&#34; }, &#34;traitsIdentite&#34;: { &#34;nomFamille&#34;: &#34;NESSI&#34;, &#34;prenomUtilise&#34;: &#34;RUTH&#34;, &#34;prenomActeNaissance&#34;: &#34;RUTH ISABELLE&#34;, &#34;sexeAdministratif&#34;: &#34;F&#34;, &#34;dateNaissance&#34;: &#34;1977-07-14&#34;, &#34;lieuNaissance&#34;: &#34;63220&#34; } } }&#34; -F &#34;file=@1.pdf;type=application/pdf&#34;
</code></pre><p>vous permet d&rsquo;obtenir un nouveau fichier comportant le cartouche INS où vous vouliez l&rsquo;insérer :</p>
<p><img src="cartoucheINS.png" alt="cartouche INS"></p>

</div>



    
      
  
  
  
  

  
  

  

    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-e661aca952fdd42de0e410979c74bd44">5 - Versions</h1>
    <div class="lead">Note sur les différentes versions de la DevBox-Santé INSi</div>
	<h2 id="version-263-29062022">Version 2.6.3 (29/06/2022)</h2>
<h4 id="bug">Bug</h4>
<p><a href="https://devbox-sante.atlassian.net/browse/INSI-58">INSI-58</a> [Datamatrix] encodage C40</p>
<h4 id="story">Story</h4>
<p><a href="https://devbox-sante.atlassian.net/browse/INSI-59">INSI-59</a> [CNDA Controller] permettre l&rsquo;injection de n&rsquo;importe quel retour.</p>
<p><a href="https://devbox-sante.atlassian.net/browse/INSI-56">INSI-56</a> [Datamatrix] retourner le datamatrix en base64</p>
<p><a href="https://devbox-sante.atlassian.net/browse/INSI-55">INSI-55</a> [Spring] qualify l’authenticationKeyManager</p>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 2.6.2 (15/03/2022)</h1><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Story</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-53" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-53</a> Ajout log dans lpsInfo configuration au démarrage</p></div>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 2.6.1 (09/03/2022)</h1><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Story</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-52" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-52</a> [INSI-REST-CLIENT_proxy] amélioration de la gestion des erreurs</p></div>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 2.6 (11/02/2022)</h1><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Story</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-50" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-50</a> [Security / p12s] ajout de certificat dynamiquement.</p><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-49" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-49</a> [Proxy] ajout mode de securité p12InHeader</p><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-46" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-46</a> [Mock] ajout résultat environnement mocké.</p><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-44" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-44</a> [DataMatrix] composant gestion datamatrix</p></div>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 2.5.3 (17/01/2022)</h1><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Bug</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-45" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-45</a> [Front Démo] prendre en compte idFacturation obligatoire</p></div>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 2.5.2 (06/01/2022)</h1><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Bug</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-41" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-41</a> [P12/Issuer] Correction complémentaire note 09/2021</p><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-13" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-13</a> [CI-TLS-AMO] format du Message Id</p><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Story</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-42" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-42</a> [IdentifiantFacturation] force la longueur à 9 caractères</p></div>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 2.5.1 (16/12/2021)</h1><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Bug</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-39" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-39</a> [P12]La balise &lt;emetteur&gt; est manquante dans vos contextes BAM et LPS</p><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Tâche</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-40" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-40</a> [Security] check version log4j</p></div>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 2.5 (08/12/2021)</h1><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Story</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-31" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-31</a> [Security] support de l'authentification Stellair</p></div>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 2.4 (01/12/2021)</h1><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Bug</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-36" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-36</a> Proxy-V1 NPE conversion fichier injection REP_CR01.xml</p><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-35" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-35</a> Session ouverte à chaque lecture de carte vitale .</p></div>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 2.3 (15/11/2021)</h1><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Story</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-34" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-34</a> [Proxy] fournir API Rest compatible 1.X</p></div>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 2.2 (21/10/2021)</h1><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Story</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-33" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-33</a> [LpsInfo] surcharge des lpsInfos au niveau session</p></div>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 2.1 (07/10/2021)</h1><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Story</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-27" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-27</a> Mise à jour du front de Démo avec la nouvelle version du modèle.</p><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-22" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-22</a> [P12 Multiple] gestion de p12 multiple</p></div>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 2.0 (24/09/2021)</h1>
<h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Version compatible à `SEL-MP-043_04-00-00_INSi ` validé sur `SEL-GCONFORM_INSi_V01.06`</h3>
<h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Bug</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-24" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-24</a> NPE lors d'un contexte non renseigné</p><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Story</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-26" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-26</a> intégration DevBox-santé CPS 3.0</p><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-19" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-19</a> [WSDL] mettre à jour CONTRAT_IDIR_EXP_1.0.1</p><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-18" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-18</a> [WSDL] mettre à jour CONTRAT_ICIR_EXP_1.5.0</p><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-17" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-17</a> [SEL-MP-043-4] prise en compte des certificats serveurs</p><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-16" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-16</a> [Proxy] version mocké de l'ensemble des téleservices</p><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-10" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-10</a> [SEL-MP-043_03-00-02] prise en compte Batch (vérification de masse)</p></div>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 1.4</h1><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Story</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-15" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-15</a> [Activité] en cas d'une multiactivités, pouvoir passer l'activité dans le contexte</p></div>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 1.3.1</h1><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Bug</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-14" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-14</a> [Validation] code insee corse ne passe pas la validation</p></div>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 1.3</h1><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Tâche</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-12" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-12</a> Mise à jour des api vitale et cps</p></div>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 1.2</h1><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Story</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-9" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-9</a> Chargement du contexte LPS depuis le header HTTP.</p><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-7" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-7</a> [application.yml] Générer à la volée le numéro d'instance de l'installation à la volée</p></div>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 1.0.1</h1><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Story</h3><p class="csg-p" style="margin: 0; padding: 0px; margin-bottom: 7px; padding-top: 7px; mso-line-height-rule: exactly; line-height: 24px; font-size: 14px;"><a href="https://devbox-sante.atlassian.net/browse/INSI-3" class="csg-mark-link" style="border: none; background: transparent; color: #0052cc; text-decoration: none;">INSI-3</a> Retourner une INSiValidationException =&gt; HTTP BadRequest  pour tous les cas où ça se justifie</p></div>
<div class="csg-wrapper" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif; font-size: 14px; font-weight: 400; line-height: 24px; vertical-align: baseline;"><h1 class="csg-h1" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 23px; line-height: 1.1034; margin-top: 40px; letter-spacing: -0.01em;">Version 1.0</h1><h3 class="csg-h3" style="font-style: inherit; color: #172B4D; font-weight: 600; margin-bottom: 0; font-size: 16px; line-height: 1.2; margin-top: 32px; font-weight: 500; letter-spacing: -0.008em;">Version initiale compatible à `SEL-MP-043_02-00_INSi` validé sur `SEL-GCONFORM_INSi_V01.04`</h3>
</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-2e645bfcd34d722959966b4fd136d1a3">6 - </h1>
    
	<p>TODO : rFprendre procédure du DMP pour l&rsquo;INSI</p>
<p><a href="https://esante.gouv.fr/sites/default/files/media_entity/documents/ans_procedure_commande_cl_tls_insi_structures_salariees_vf.pdf">https://esante.gouv.fr/sites/default/files/media_entity/documents/ans_procedure_commande_cl_tls_insi_structures_salariees_vf.pdf</a></p>

</div>



    
	
  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="www.devbox-sante.fr" aria-label="www.devbox-sante.fr">
    <a class="text-white" target="_blank" rel="noopener" href="https://www.devbox-sante.fr" aria-label="www.devbox-sante.fr">
      <i class="icon iconFoot icon-devbox"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="BitBucket" aria-label="BitBucket">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/google/docsy" aria-label="BitBucket">
      <i class="fab fa-bitbucket"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Contactez-nous" aria-label="Contactez-nous">
    <a class="text-white" target="_blank" rel="noopener" href="mailto://devbox-sante@devcoop.fr" aria-label="Contactez-nous">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2022 DevBox Santé Tous droits résérvés</small>
        <small class="ml-1"><a href="https://www.devbox-sante.fr/mentions" target="_blank" rel="noopener">Politique de confidentialité</a></small>
	
		
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js" integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF" crossorigin="anonymous"></script>





<script src='/js/tabpane-persist.js'></script>



<script src='/js/deflate.js'></script>


 












<script src="/js/main.min.bbade233e3c661e42f1ff37f2a44388625aa93ba398f1f954c178060cc91aa94.js" integrity="sha256-u63iM&#43;PGYeQvH/N/KkQ4hiWqk7o5jx&#43;VTBeAYMyRqpQ=" crossorigin="anonymous"></script>




  </body>
</html>
